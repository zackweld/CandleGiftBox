import { ConfigService } from '../services/config-service.js';
import { getAppsDomain, getCurrentWorkingDirectory, initCurrentWorkingDirectory } from '../services/env-service.js';
import { enablePrintCommand } from '../utils/command-printer.js';
import logger, { enableDebugMode } from '../utils/logger.js';
export default function init(opts) {
    initCurrentWorkingDirectory();
    if (ConfigService.checkLocalConfigExists()) {
        opts.config.configDir = getCurrentWorkingDirectory();
    }
    ConfigService.loadConfigToProcessEnv(opts.config.configDir);
    if (opts.argv.includes('--verbose')) {
        enableDebugMode();
        logger.debug(`* Domain: ${getAppsDomain()} *`);
    }
    if (opts.argv.includes('--print-command') || opts.argv.includes('--pc')) {
        enablePrintCommand();
    }
}
