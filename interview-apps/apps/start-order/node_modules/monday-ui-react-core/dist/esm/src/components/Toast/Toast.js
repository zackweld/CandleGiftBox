import{__rest as t}from"../../../_virtual/_tslib.js";import{camelCase as e}from"lodash-es";import{getTestId as o,ComponentDefaultTestId as n}from"../../tests/testIds.js";import r from"classnames";import i,{useMemo as s,useCallback as a,useRef as c,useEffect as l}from"react";import{CSSTransition as m}from"react-transition-group";import u from"../Button/Button.js";import p from"../Text/Text.js";import f from"../Loader/Loader.js";import d from"../Flex/Flex.js";import T from"../Icon/Icons/components/CloseSmall.js";import v from"./ToastLink/ToastLink.js";import E from"./ToastButton/ToastButton.js";import{ToastType as j,ToastActionType as N}from"./ToastConstants.js";import{getIcon as L}from"./ToastHelpers.js";import{NOOP as y}from"../../utils/function-utils.js";import{getStyle as I}from"../../helpers/typesciptCssModulesHelper.js";import{withStaticProps as A}from"../../types/withStaticProps.js";import B from"./Toast.module.scss.js";import O from"../IconButton/IconButton.js";var g=A((function(A){var g=A.open,C=void 0!==g&&g,x=A.loading,k=void 0!==x&&x,S=A.autoHideDuration,b=void 0===S?null:S,h=A.type,_=void 0===h?j.NORMAL:h,H=A.icon,M=A.hideIcon,R=void 0!==M&&M,z=A.action,D=A.actions,F=A.children,X=A.closeable,G=void 0===X||X,U=A.onClose,w=void 0===U?y:U,K=A.className,P=A.id,Y=A.closeButtonAriaLabel,q=void 0===Y?"Close":Y,J=A["data-testid"],Q=s((function(){return D?D.filter((function(t){return t.type===N.LINK})).map((function(e){var o=t(e,["type"]);return i.createElement(v,Object.assign({key:o.href,className:B.actionLink},o))})):null}),[D]),V=s((function(){return D?D.filter((function(t){return t.type===N.BUTTON})).map((function(e,o){var n=e.content,r=t(e,["type","content"]);return i.createElement(E,Object.assign({key:"alert-button-".concat(o),className:B.actionButton},r),n)})):null}),[D]),W=s((function(){return r(B.toast,I(B,e("type-"+_)),K)}),[_,K]),Z=a((function(){w&&w()}),[w]),$=c(),tt=a((function(t){w&&null!=t&&(clearTimeout($.current),$.current=setTimeout((function(){Z()}),t))}),[Z,w]);l((function(){return C&&b>0&&tt(b),function(){clearTimeout($.current)}}),[C,b,tt]);var et=!R&&L(_,H);return i.createElement(m,{in:C,classNames:{enterActive:B.enterActive,exitActive:B.exitActive},timeout:400,unmountOnExit:!0},i.createElement(p,{id:P,"data-testid":J||o(n.TOAST,P),type:p.types.TEXT2,element:"div",color:p.colors.FIXED_LIGHT,className:W,role:"alert","aria-live":"polite"},et&&i.createElement("div",{className:r(B.icon)},et),i.createElement(d,{align:d.align.CENTER,gap:d.gaps.LARGE,className:B.content},i.createElement(d,{gap:d.gaps.MEDIUM,"data-testid":o(n.TOAST_CONTENT),className:B.textContent},i.createElement("span",null,F),Q),(V||z)&&(V||z),k&&i.createElement(f,{size:f.sizes.XS})),G&&i.createElement(O,{className:r(B.closeButton),onClick:Z,size:u.sizes.SMALL,kind:u.kinds.TERTIARY,color:u.colors.FIXED_LIGHT,ariaLabel:q,"data-testid":o(n.TOAST_CLOSE_BUTTON),icon:T,hideTooltip:!0})))}),{types:j,actionTypes:N});export{g as default};
//# sourceMappingURL=Toast.js.map
