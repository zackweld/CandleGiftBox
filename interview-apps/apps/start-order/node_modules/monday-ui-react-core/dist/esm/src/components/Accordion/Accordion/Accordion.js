import{slicedToArray as e,toConsumableArray as o,defineProperty as n}from"../../../../_virtual/_rollupPluginBabelHelpers.js";import a from"classnames";import r,{forwardRef as i,useRef as t,useState as l,useMemo as c,useCallback as s}from"react";import d from"../../../hooks/useMergeRef.js";import u from"./Accordion.module.scss.js";var m="monday-accordion";var p=i((function(i,p){var f=i.children,v=void 0===f?null:f,C=i.allowMultiple,b=void 0!==C&&C,g=i["data-testid"],h=void 0===g?m:g,j=i.defaultIndex,x=void 0===j?[]:j,y=i.className,A=void 0===y?"":y,E=i.id,O=t(null),k=d(p,O),I=l(x),N=e(I,2),M=N[0],P=N[1],_=c((function(){return r.Children.toArray(v)}),[v]),w=s((function(e){return M.includes(e)}),[M]),B=s((function(e){if(b){var n=o(M);if(w(e)){var a=n.indexOf(e);a>-1&&n.splice(a,1)}else n.push(e);P(n)}else w(e)?P([]):P([e])}),[w,M,b]),H=c((function(){return r.Children.map(_,(function(e,o){var i,t,l,c=Object.assign({},null==e?void 0:e.props),s=(i=o,l=E,(t=c).id?t.id:l?"".concat(l,"--item-").concat(i):"".concat(m,"--item-").concat(i));return r.cloneElement(e,Object.assign(Object.assign({},c),{id:s,onClickAccordionCallback:function(){B(o)},open:w(o),expandCollapseComponentClassName:a(u.accordionItemExpandCollapse,n({},u.accordionItemExpandCollapseLast,o===_.length-1))}))}))}),[_,E,w,B]);return r.createElement("div",{ref:k,className:a(u.accordion,A),"data-testid":h,id:E},_&&H)}));export{p as default};
//# sourceMappingURL=Accordion.js.map
