{"version":3,"file":"Combobox.js","sources":["../../../../../src/components/Combobox/Combobox.tsx"],"sourcesContent":["/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport { camelCase } from \"lodash-es\";\nimport cx from \"classnames\";\nimport React, { useRef, useState, forwardRef, useMemo, useCallback } from \"react\";\nimport { isFunction, noop as NOOP } from \"lodash-es\";\nimport { getStyle } from \"../../helpers/typesciptCssModulesHelper\";\nimport { ComponentDefaultTestId, getTestId } from \"../../tests/test-ids-utils\";\nimport useMergeRef from \"../../hooks/useMergeRef\";\nimport Search from \"../Search/Search\";\nimport { BASE_SIZES } from \"../../constants\";\nimport Button from \"../Button/Button\";\nimport Text from \"../Text/Text\";\nimport ComboboxOption from \"./components/ComboboxOption/ComboboxOption\";\nimport { defaultFilter } from \"./ComboboxService\";\nimport { ComboboxItems } from \"./components/ComboboxItems/ComboboxItems\";\nimport { StickyCategoryHeader } from \"./components/StickyCategoryHeader/StickyCategoryHeader\";\nimport { useItemsData, useKeyboardNavigation } from \"./ComboboxHelpers/ComboboxHelpers\";\nimport { getOptionId } from \"./helpers\";\nimport { ElementContent, SubIcon, VibeComponentProps, withStaticProps } from \"../../types\";\nimport {\n  IComboboxCategoryMap,\n  IComboboxItem,\n  IComboboxOption,\n  COMBOBOX_LISTBOX_ID\n} from \"./components/ComboboxConstants\";\nimport styles from \"./Combobox.module.scss\";\nimport IconButton from \"../IconButton/IconButton\";\nimport MenuButton from \"../MenuButton/MenuButton\";\n\nexport interface ComboboxProps extends VibeComponentProps {\n  className?: string;\n  optionClassName?: string;\n  searchWrapperClassName?: string;\n  /**\n   * Placeholder to show when no value was selected\n   */\n  placeholder?: string;\n  /**\n   * Unique element id\n   */\n  id?: string;\n  /**\n   * A message that will be displayed inside the combo box when no results are found\n   */\n  noResultsMessage?: string;\n  disabled?: boolean;\n  options?: IComboboxOption[];\n  categories?: IComboboxCategoryMap;\n  /**\n   * Divider between categories sections\n   */\n  withCategoriesDivider?: boolean;\n  size?: (typeof BASE_SIZES)[keyof typeof BASE_SIZES];\n  optionLineHeight?: number;\n  optionsListHeight?: number;\n  autoFocus?: boolean;\n  /**\n   * Callback that called after clicking on the add new combo box button.\n   * @param {string} _filterValue\n   */\n  onAddNew?: (value: string) => void;\n  /**\n   * The label of the button that appears at the end of the combo box when the search does not return appropriate options\n   */\n  addNewLabel?: ((label: string) => ElementContent) | string;\n  filter?: (filterValue: string, options: IComboboxOption[]) => IComboboxOption[];\n  /**\n   * Default search input\n   */\n  defaultFilter?: string;\n  disableFilter?: boolean;\n  /**\n   * For controlled search input. If provided, `defaultFilter` will be ignored\n   */\n  filterValue?: string;\n  onFilterChanged?: (value: string) => void;\n  /**\n   * Display the combo box with loading state\n   */\n  loading?: boolean;\n  /**\n   * on mouse hover callback for option\n   */\n  // onOptionHover?: PropTypes.func,\n  onOptionHover?: (event: React.MouseEvent, index: number, option: IComboboxOption) => void;\n  /**\n   * on mouse leave callback for option\n   */\n  // onOptionLeave?: PropTypes.func,\n  onOptionLeave?: () => void;\n  /**\n   * Allowed to the following behavior: scrolling automatically to the combo box's selected option\n   */\n  shouldScrollToSelectedItem?: boolean;\n  noResultsRenderer?: () => JSX.Element;\n  stickyCategories?: boolean;\n  /** By default, the first option will be selected, when focusing selecting the first option, or when changing items */\n  defaultVisualFocusFirstIndex?: boolean;\n  /** Clear the filter/search on selection (click or enter) */\n  clearFilterOnSelection?: boolean;\n  /** Replace the regular appearance of combo box option with custom renderer. */\n  optionRenderer?: (option: IComboboxOption) => JSX.Element;\n  /** Maximum options count without scroll */\n  maxOptionsWithoutScroll?: number;\n  /**\n   * Using virtualized list for rendering only the items which visible to the user in any given user (performance optimization)\n   */\n  renderOnlyVisibleOptions?: boolean;\n  /**\n   * On option click callback\n   */\n  onClick?: (optionData: IComboboxOption) => void;\n  /**\n   * Custom search icon\n   */\n  searchIcon?: SubIcon;\n  searchInputAriaLabel?: string;\n  debounceRate?: number;\n  searchInputRef?: React.RefObject<HTMLInputElement>;\n  /**\n   * Render additional action within the right section of search component.\n   */\n  renderAction?: React.ReactElement<typeof IconButton | typeof MenuButton>;\n  /**\n   * If true, hides the additional action when the user types in the search input.\n   */\n  hideRenderActionOnInput?: boolean;\n}\n\nconst Combobox: React.FC<ComboboxProps> & {\n  sizes?: typeof BASE_SIZES;\n  iconTypes?: typeof ComboboxOption.iconTypes;\n} = forwardRef(\n  (\n    {\n      className = \"\",\n      optionClassName = \"\",\n      searchWrapperClassName,\n      searchIcon,\n      id = \"\",\n      placeholder = \"\",\n      size = Combobox.sizes.MEDIUM,\n      defaultVisualFocusFirstIndex,\n      optionLineHeight = 32,\n      optionsListHeight,\n      autoFocus = false,\n      disabled = false,\n      options = [],\n      categories,\n      withCategoriesDivider = false,\n      noResultsMessage = \"No results found\",\n      onAddNew,\n      addNewLabel = \"Add new\",\n      onClick = (_optionData: IComboboxOption) => {},\n      filter = defaultFilter,\n      disableFilter = false,\n      filterValue: filterValueProp,\n      onFilterChanged,\n      loading = false,\n      onOptionHover = NOOP,\n      onOptionLeave = NOOP,\n      shouldScrollToSelectedItem = true,\n      noResultsRenderer,\n      stickyCategories = false,\n      optionRenderer = null,\n      renderOnlyVisibleOptions = false,\n      clearFilterOnSelection = false,\n      maxOptionsWithoutScroll,\n      defaultFilter: defaultFilterValue = \"\",\n      searchInputAriaLabel = \"Search for content\",\n      \"data-testid\": dataTestId,\n      debounceRate,\n      searchInputRef,\n      renderAction: RenderAction,\n      hideRenderActionOnInput\n    },\n    ref\n  ) => {\n    const componentRef = useRef(null);\n    const inputRef = useRef(null);\n    const mergedRef = useMergeRef(ref, componentRef);\n    const mergedInputRef = useMergeRef(inputRef, searchInputRef);\n\n    const [filterValue, setFilterValue] = useState(filterValueProp || defaultFilterValue);\n\n    if (filterValueProp !== undefined && filterValueProp !== filterValue) {\n      setFilterValue(filterValueProp);\n    }\n\n    const onChangeCallback = useCallback(\n      (value: string) => {\n        setActiveOptionIndex(-1);\n        if (onFilterChanged) {\n          onFilterChanged(value);\n        }\n        setFilterValue(value);\n      },\n      [setFilterValue, onFilterChanged]\n    );\n\n    const onOptionHoverCB = useCallback(\n      (event: React.MouseEvent, index: number, option: IComboboxOption) => {\n        onOptionHover(event, index, option);\n      },\n      [onOptionHover]\n    );\n\n    const filteredOptions: IComboboxOption[] = useMemo(() => {\n      if (disableFilter) {\n        return options;\n      }\n      return filter(filterValue, options);\n    }, [options, filterValue, filter, disableFilter]);\n\n    const [activeOptionIndex, setActiveOptionIndex] = useState(-1);\n\n    const isChildSelectable = useCallback(\n      (index: number) => {\n        return index !== undefined && filteredOptions[index] && !filteredOptions[index].disabled;\n      },\n      [filteredOptions]\n    );\n\n    const onAddNewCallback = useCallback(() => {\n      onAddNew && onAddNew(filterValue);\n      // clear filter after adding\n      setFilterValue(\"\");\n    }, [onAddNew, filterValue, setFilterValue]);\n\n    const hasResults = filteredOptions.length > 0;\n    const hasFilter = filterValue.length > 0;\n\n    function getAddNewLabel() {\n      if (isFunction(addNewLabel)) {\n        return addNewLabel(filterValue);\n      }\n      return addNewLabel;\n    }\n\n    function renderNoResults() {\n      if (noResultsRenderer) {\n        return noResultsRenderer();\n      }\n\n      return (\n        <div className={styles.comboboxNoResults}>\n          <div className={styles.comboboxMessageWrapper}>\n            <span className={styles.comboboxMessage}>{noResultsMessage}</span>\n          </div>\n          {onAddNew && !disabled && (\n            <Button className={styles.addNewButton} size={size} kind={Button.kinds.TERTIARY} onClick={onAddNewCallback}>\n              <span className={styles.buttonLabel}>{getAddNewLabel()}</span>\n            </Button>\n          )}\n        </div>\n      );\n    }\n\n    const [activeCategoryLabel, setActiveCategoryLabel] = useState<string>();\n\n    const onActiveCategoryChanged = useCallback(\n      (categoryData: IComboboxItem) => {\n        if (categoryData?.category?.label !== activeCategoryLabel) {\n          setActiveCategoryLabel(categoryData?.category?.label);\n        }\n      },\n      [activeCategoryLabel]\n    );\n\n    const { items, itemsMap, selectableItems } = useItemsData({\n      categories,\n      options: filteredOptions,\n      filterValue,\n      withCategoriesDivider,\n      optionLineHeight\n    });\n\n    const overrideOnClick = useCallback(\n      (_event: React.MouseEvent | React.KeyboardEvent, itemIndex: number) => {\n        onClick(selectableItems[itemIndex]);\n        if (isChildSelectable(itemIndex)) {\n          setActiveOptionIndex(itemIndex);\n        }\n        if (clearFilterOnSelection) {\n          // clear filter after adding\n          onChangeCallback(\"\");\n        }\n      },\n      [onClick, selectableItems, isChildSelectable, clearFilterOnSelection, onChangeCallback]\n    );\n\n    const {\n      visualFocusItemIndex,\n      visualFocusItemId,\n      onOptionClick: overrideOnOptionClick\n    } = useKeyboardNavigation({\n      getOptionId,\n      defaultVisualFocusFirstIndex,\n      onClick: overrideOnClick,\n      isChildSelectable,\n      options: selectableItems,\n      inputRef: mergedInputRef\n    });\n\n    return (\n      <Text\n        type={Text.types.TEXT2}\n        ref={mergedRef}\n        className={cx(styles.combobox, className, getStyle(styles, camelCase(\"size-\" + size)), {\n          [styles.empty]: !hasResults,\n          [styles.stickyCategory]: stickyCategories\n        })}\n        id={id}\n        data-testid={dataTestId || getTestId(ComponentDefaultTestId.COMBOBOX, id)}\n        ellipsis={false}\n      >\n        <div className={styles.comboboxList} style={{ maxHeight: optionsListHeight }}>\n          <Search\n            ref={mergedInputRef}\n            value={filterValue}\n            className={cx(styles.comboboxSearchWrapper, searchWrapperClassName)}\n            inputAriaLabel={searchInputAriaLabel}\n            currentAriaResultId={visualFocusItemId}\n            id=\"combobox-search\"\n            placeholder={placeholder}\n            size={size}\n            disabled={disabled}\n            onChange={onChangeCallback}\n            autoFocus={autoFocus}\n            loading={loading}\n            searchIconName={searchIcon}\n            ariaExpanded={hasFilter || hasResults}\n            ariaHasPopup=\"listbox\"\n            searchResultsContainerId={id ? `${id}-listbox` : COMBOBOX_LISTBOX_ID}\n            debounceRate={debounceRate}\n            renderAction={RenderAction}\n            hideRenderActionOnInput={hideRenderActionOnInput}\n          />\n          {stickyCategories && <StickyCategoryHeader label={activeCategoryLabel} />}\n          {hasResults && (\n            <ComboboxItems\n              stickyCategories={stickyCategories}\n              categories={categories}\n              options={items}\n              itemsMap={itemsMap}\n              optionClassName={optionClassName}\n              optionRenderer={optionRenderer}\n              activeItemIndex={activeOptionIndex}\n              onActiveCategoryChanged={onActiveCategoryChanged}\n              onOptionClick={overrideOnOptionClick}\n              onOptionEnter={onOptionHoverCB}\n              onOptionLeave={onOptionLeave}\n              optionLineHeight={optionLineHeight}\n              shouldScrollToSelectedItem={shouldScrollToSelectedItem}\n              renderOnlyVisibleOptions={renderOnlyVisibleOptions}\n              maxOptionsWithoutScroll={maxOptionsWithoutScroll}\n              visualFocusItemIndex={visualFocusItemIndex}\n              id={id ? `${id}-listbox` : COMBOBOX_LISTBOX_ID}\n            />\n          )}\n        </div>\n        {hasFilter && !hasResults && !loading && renderNoResults()}\n      </Text>\n    );\n  }\n);\n\n// Locate loading next to search icon\n// color it with --secondary-text-color\n// size it like the icon - we think it's 16px - make sure it's not fat\n\nexport default withStaticProps(Combobox, {\n  sizes: BASE_SIZES,\n  iconTypes: ComboboxOption.iconTypes\n});\n"],"names":["Combobox","forwardRef","_ref","ref","_ref$className","className","_ref$optionClassName","optionClassName","searchWrapperClassName","searchIcon","_ref$id","id","_ref$placeholder","placeholder","_ref$size","size","sizes","MEDIUM","defaultVisualFocusFirstIndex","_ref$optionLineHeight","optionLineHeight","optionsListHeight","_ref$autoFocus","autoFocus","_ref$disabled","disabled","_ref$options","options","categories","_ref$withCategoriesDi","withCategoriesDivider","_ref$noResultsMessage","noResultsMessage","onAddNew","_ref$addNewLabel","addNewLabel","_ref$onClick","onClick","_optionData","_ref$filter","filter","defaultFilter","_ref$disableFilter","disableFilter","filterValueProp","filterValue","onFilterChanged","_ref$loading","loading","_ref$onOptionHover","onOptionHover","NOOP","_ref$onOptionLeave","onOptionLeave","_ref$shouldScrollToSe","shouldScrollToSelectedItem","noResultsRenderer","_ref$stickyCategories","stickyCategories","_ref$optionRenderer","optionRenderer","_ref$renderOnlyVisibl","renderOnlyVisibleOptions","_ref$clearFilterOnSel","clearFilterOnSelection","maxOptionsWithoutScroll","_ref$defaultFilter","defaultFilterValue","_ref$searchInputAriaL","searchInputAriaLabel","dataTestId","debounceRate","searchInputRef","RenderAction","renderAction","hideRenderActionOnInput","componentRef","useRef","inputRef","mergedRef","useMergeRef","mergedInputRef","_useState","useState","_useState2","_slicedToArray","setFilterValue","undefined","onChangeCallback","useCallback","value","setActiveOptionIndex","onOptionHoverCB","event","index","option","filteredOptions","useMemo","_useState3","_useState4","activeOptionIndex","isChildSelectable","onAddNewCallback","hasResults","length","hasFilter","_useState5","_useState6","activeCategoryLabel","setActiveCategoryLabel","onActiveCategoryChanged","categoryData","_a","category","label","_b","_useItemsData","useItemsData","items","itemsMap","selectableItems","overrideOnClick","_event","itemIndex","_useKeyboardNavigatio","useKeyboardNavigation","getOptionId","visualFocusItemIndex","visualFocusItemId","overrideOnOptionClick","onOptionClick","React","createElement","Text","type","types","TEXT2","cx","styles","combobox","getStyle","camelCase","_defineProperty","empty","stickyCategory","getTestId","ComponentDefaultTestId","COMBOBOX","ellipsis","comboboxList","style","maxHeight","Search","comboboxSearchWrapper","inputAriaLabel","currentAriaResultId","onChange","searchIconName","ariaExpanded","ariaHasPopup","searchResultsContainerId","concat","COMBOBOX_LISTBOX_ID","StickyCategoryHeader","ComboboxItems","activeItemIndex","onOptionEnter","comboboxNoResults","comboboxMessageWrapper","comboboxMessage","Button","addNewButton","kind","kinds","TERTIARY","buttonLabel","isFunction","withStaticProps","BASE_SIZES","iconTypes","ComboboxOption"],"mappings":"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"}