import{defineProperty as e}from"../../../../../_virtual/_rollupPluginBabelHelpers.js";import{camelCase as o}from"lodash-es";import{getStyle as t}from"../../../../helpers/typesciptCssModulesHelper.js";import r from"classnames";import n,{forwardRef as l,useMemo as s,useRef as i,useCallback as c,useEffect as a}from"react";import{ColorStyle as m,contentColors as d}from"../../../../utils/colors-vars-map.js";import u from"../../../../utils/colors-utils.js";import p from"../../../Icon/Icon.js";import f from"../../../Tooltip/Tooltip.js";import v from"../../../Clickable/Clickable.js";import{ColorShapes as C}from"../../ColorPickerConstants.js";import{getTestId as E}from"../../../../tests/testIds.js";import{ComponentDefaultTestId as I}from"../../../../tests/constants.js";import y from"./ColorPickerItemComponent.module.scss.js";var j=l((function(l,j){var k=l.color,g=l.onColorClicked,L=l.colorStyle,b=void 0===L?m.REGULAR:L,R=l.shouldRenderIndicatorWithoutBackground,S=l.ColorIndicatorIcon,h=l.SelectedIndicatorIcon,M=void 0===h?S:h,A=l.isSelected,N=l.colorSize,P=l.tooltipContent,T=l.isActive,W=l.colorShape,_=l["data-testid"],x=s((function(){return d.includes(k)}),[k]),D=x?u.getMondayColorAsStyle(k,b):k,H=i(null),O=c((function(){return g(k)}),[g,k]);a((function(){if((null==H?void 0:H.current)&&!R&&x){var e=H.current,o=function(e){e.target.style.background=u.getMondayColorAsStyle(k,b===m.SELECTED?m.REGULAR:m.HOVER)},t=function(e){e.target.style.background=D};return e.addEventListener("mouseenter",o,!1),e.addEventListener("mouseleave",t,!1),function(){e.removeEventListener("mouseenter",o,!1),e.removeEventListener("mouseleave",t,!1)}}}),[k,D,b,x,H,R]);var z=A||S,B=R?{color:D}:{};return n.createElement(f,{content:P},n.createElement("li",{className:r(y.itemWrapper,e(e(e({},y.selectedColor,A),y.active,T),y.circle,W===C.CIRCLE)),"data-testid":_||E(I.COLOR_PICKER_ITEM,k)},n.createElement("div",{className:r(y.feedbackIndicator)}),n.createElement(v,{ref:H,ariaLabel:k,className:r(y.colorItem,t(y,o("color-item-size-"+N)),e({},y.colorItemTextMode,R)),style:{background:R?"transparent":D},onClick:O,tabIndex:"-1",onMouseDown:function(e){return e.preventDefault()}},n.createElement("div",{className:r(y.colorIndicatorWrapper),style:B},z&&n.createElement(p,{icon:A?M:S,className:r(e({},y.colorIconWhite,!R)),ignoreFocusStyle:!0})))))}));export{j as default};
//# sourceMappingURL=ColorPickerItemComponent.js.map
