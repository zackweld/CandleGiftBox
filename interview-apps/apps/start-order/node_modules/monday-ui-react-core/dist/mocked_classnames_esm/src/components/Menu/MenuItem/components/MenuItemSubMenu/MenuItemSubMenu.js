import e,{useRef as n,useLayoutEffect as o,useMemo as t}from"react";import i from"../../../../DialogContentContainer/DialogContentContainer.js";import l from"../../../../../hooks/usePopover.js";import{Placement as r}from"../../../../../hooks/popoverConstants.js";var s=function(s){var u,a=s.anchorRef,c=s.open,p=s.autoFocusOnMount,m=s.onClose,v=s.children,d=s.submenuPosition,f=n(null),b=n(null);o((function(){p&&c&&(null==f?void 0:f.current)&&requestAnimationFrame((function(){f.current.focus()}))}),[p,c]);var h=t((function(){return"left"===d?r.LEFT_START:void 0}),[d]),j=l(null==a?void 0:a.current,null==b?void 0:b.current,{isOpen:c,placement:h}),C=j.styles,g=j.attributes,O=v&&e.Children.only(v);return(null===(u=null==O?void 0:O.type)||void 0===u?void 0:u.isMenu)?e.createElement("div",Object.assign({style:Object.assign(Object.assign({},C.popper),{visibility:c?"visible":"hidden"})},g.popper,{ref:b}),O&&c&&e.createElement(i,null,e.cloneElement(O,Object.assign(Object.assign({},null==O?void 0:O.props),{isVisible:c,isSubMenu:!0,onClose:m,ref:f,useDocumentEventListeners:!p})))):(console.error("MenuItem can accept only Menu element as first level child, this element is not valid: ",O),null)};export{s as default};
//# sourceMappingURL=MenuItemSubMenu.js.map
