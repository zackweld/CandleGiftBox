import{slicedToArray as i,defineProperty as t}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{camelCase as e}from"lodash-es";import{getTestId as s,ComponentDefaultTestId as o}from"../../tests/testIds.js";import l from"classnames";import"../../constants/dialog.js";import{Sizes as r}from"../../constants/sizes.js";import"../../constants/positions.js";import n,{useLayoutEffect as p}from"react";import a from"../Tooltip/Tooltip.js";import m from"../../hooks/useIsOverflowing/useIsOverflowing.js";import d from"../../hooks/useStyle.js";import u from"../../hooks/useRefWithCallback.js";import c from"../TextWithHighlight/TextWithHighlight.js";import{HeadingTypes as f,HeadingSizes as g}from"./LegacyHeadingConstants.js";import{withStaticProps as h}from"../../types/withStaticProps.js";import v from"./LegacyHeading.module.scss.js";import{getStyle as y}from"../../helpers/typesciptCssModulesHelper.js";var j=h((function(r){var h=r.className,j=r.value,E=void 0===j?"":j,H=r.type,T=void 0===H?f.h1:H,L=r.size,P=void 0===L?g.LARGE:L,C=r.ariaLabel,x=void 0===C?"":C,O=r.id,b=r.customColor,k=r.ellipsis,w=void 0===k||k,z=r.ellipsisMaxLines,I=void 0===z?1:z,A=r.style,N=r.tooltipPosition,W=r.highlightTerm,G=void 0===W?null:W,M=r.suggestEditOnHover,R=void 0!==M&&M,S=r.nonEllipsisTooltip,_=void 0===S?null:S,B=r["data-testid"],D=u((function(i){return i.style.setProperty("--heading-clamp-lines",""+I)})),q=i(D,2),F=q[0],J=q[1],K=d(A,{color:b}),Q=l(v.headingComponent,h,y(v,e("element-type-"+T)),y(v,e("size-"+P)),t(t(t({},v.multiLineEllipsis,w&&I>1),v.singleLineEllipsis,w&&1>=I),v.suggestEditOnHover,R)),U=n.createElement(T,{className:Q,"aria-label":x,id:O,"data-testid":B||s(o.HEADING,O),ref:J,style:K},G?n.createElement(c,{highlightTerm:G,text:E,linesToClamp:I,useEllipsis:w,nonEllipsisTooltip:_,tooltipPosition:N}):E),V=m({ref:w?F:null,ignoreHeightOverflow:!0});if((p((function(){F.current&&F.current.style.setProperty("--heading-clamp-lines",null==I?void 0:""+I)}),[F,I,V]),!G)&&(V||_))return n.createElement(a,{content:V?E:_,position:N},U);return U}),{types:f,sizes:r});export{j as default};
//# sourceMappingURL=LegacyHeading.js.map
