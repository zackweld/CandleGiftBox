{"ast":null,"code":"import e, { useRef as n, useLayoutEffect as o, useMemo as t } from \"react\";\nimport i from \"../../../../DialogContentContainer/DialogContentContainer.js\";\nimport l from \"../../../../../hooks/usePopover.js\";\nimport { Placement as r } from \"../../../../../hooks/popoverConstants.js\";\nvar s = function (s) {\n  var u,\n    a = s.anchorRef,\n    c = s.open,\n    p = s.autoFocusOnMount,\n    m = s.onClose,\n    v = s.children,\n    d = s.submenuPosition,\n    f = n(null),\n    b = n(null);\n  o(function () {\n    p && c && (null == f ? void 0 : f.current) && requestAnimationFrame(function () {\n      f.current.focus();\n    });\n  }, [p, c]);\n  var h = t(function () {\n      return \"left\" === d ? r.LEFT_START : void 0;\n    }, [d]),\n    j = l(null == a ? void 0 : a.current, null == b ? void 0 : b.current, {\n      isOpen: c,\n      placement: h\n    }),\n    C = j.styles,\n    g = j.attributes,\n    O = v && e.Children.only(v);\n  return (null === (u = null == O ? void 0 : O.type) || void 0 === u ? void 0 : u.isMenu) ? e.createElement(\"div\", Object.assign({\n    style: Object.assign(Object.assign({}, C.popper), {\n      visibility: c ? \"visible\" : \"hidden\"\n    })\n  }, g.popper, {\n    ref: b\n  }), O && c && e.createElement(i, null, e.cloneElement(O, Object.assign(Object.assign({}, null == O ? void 0 : O.props), {\n    isVisible: c,\n    isSubMenu: !0,\n    onClose: m,\n    ref: f,\n    useDocumentEventListeners: !p\n  })))) : (console.error(\"MenuItem can accept only Menu element as first level child, this element is not valid: \", O), null);\n};\nexport { s as default };","map":{"version":3,"names":["s","MenuItemSubMenu","u","a","anchorRef","c","open","p","autoFocusOnMount","m","onClose","v","children","d","submenuPosition","f","n","b","o","current","requestAnimationFrame","focus","h","t","r","LEFT_START","j","l","isOpen","placement","C","styles","g","attributes","O","e","Children","only","type","isMenu","createElement","Object","assign","style","popper","visibility","ref","i","cloneElement","props","isVisible","isSubMenu","useDocumentEventListeners","console","error","default"],"sources":["/Users/zacharyweld/Documents/Code/CandleGiftBoxDemo/CandleGiftBox/interview-apps/apps/start-order/client/node_modules/monday-ui-react-core/src/components/Menu/MenuItem/components/MenuItemSubMenu/MenuItemSubMenu.tsx"],"sourcesContent":["import React, { useLayoutEffect, useMemo, useRef } from \"react\";\nimport DialogContentContainer from \"../../../../DialogContentContainer/DialogContentContainer\";\nimport usePopover from \"../../../../../hooks/usePopover\";\nimport { MenuChild } from \"../../../Menu/MenuConstants\";\nimport { MenuItemSubMenuProps } from \"./MenuItemSubMenu.types\";\nimport { Placement } from \"../../../../../hooks/popoverConstants\";\n\nconst MenuItemSubMenu = ({\n  anchorRef,\n  open,\n  autoFocusOnMount,\n  onClose,\n  children,\n  submenuPosition\n}: MenuItemSubMenuProps) => {\n  const childRef = useRef<HTMLDivElement>(null);\n  const popperElementRef = useRef<HTMLDivElement>(null);\n\n  useLayoutEffect(() => {\n    if (!autoFocusOnMount || !open || !childRef?.current) {\n      return;\n    }\n    requestAnimationFrame(() => {\n      childRef.current.focus();\n    });\n  }, [autoFocusOnMount, open]);\n\n  const submenuPlacement = useMemo(\n    () => (submenuPosition === \"left\" ? Placement.LEFT_START : undefined),\n    [submenuPosition]\n  );\n\n  const { styles: popoverStyles, attributes: popoverAttributes } = usePopover(\n    anchorRef?.current,\n    popperElementRef?.current,\n    {\n      isOpen: open,\n      placement: submenuPlacement\n    }\n  );\n\n  const subMenu: MenuChild = children && React.Children.only(children);\n  if (!subMenu?.type?.isMenu) {\n    console.error(\"MenuItem can accept only Menu element as first level child, this element is not valid: \", subMenu);\n    return null;\n  }\n\n  return (\n    <div\n      style={{ ...popoverStyles.popper, visibility: open ? \"visible\" : \"hidden\" }}\n      {...popoverAttributes.popper}\n      ref={popperElementRef}\n    >\n      {subMenu && open && (\n        <DialogContentContainer>\n          {React.cloneElement(subMenu, {\n            ...subMenu?.props,\n            isVisible: open,\n            isSubMenu: true,\n            onClose,\n            ref: childRef,\n            useDocumentEventListeners: !autoFocusOnMount\n          })}\n        </DialogContentContainer>\n      )}\n    </div>\n  );\n};\n\nexport default MenuItemSubMenu;\n"],"mappings":";;;;AAOA,IAAMA,CAAA,GAAkB,SAAAC,CAAHD,CAAA;EAOM,IAAAE,CAAA;IANzBC,CAAA,GAASH,CAAA,CAATI,SAAA;IACAC,CAAA,GAAIL,CAAA,CAAJM,IAAA;IACAC,CAAA,GAAgBP,CAAA,CAAhBQ,gBAAA;IACAC,CAAA,GAAOT,CAAA,CAAPU,OAAA;IACAC,CAAA,GAAQX,CAAA,CAARY,QAAA;IACAC,CAAA,GAAeb,CAAA,CAAfc,eAAA;IAEMC,CAAA,GAAWC,CAAA,CAAuB;IAClCC,CAAA,GAAmBD,CAAA,CAAuB;EAEhDE,CAAA,CAAgB;IACTX,CAAA,IAAqBF,CAAA,KAAS,QAAAU,CAAA,YAAAA,CAAA,CAAUI,OAAA,KAG7CC,qBAAA,CAAsB;MACpBL,CAAA,CAASI,OAAA,CAAQE,KAAA,EACnB;IAAA,EACF;EAAA,GAAG,CAACd,CAAA,EAAkBF,CAAA;EAEtB,IAAMiB,CAAA,GAAmBC,CAAA,CACvB;MAAA,OAA2B,WAApBV,CAAA,GAA6BW,CAAA,CAAUC,UAAA,QAAa,CAAS;IAAA,GACpE,CAACZ,CAAA;IAGHa,CAAA,GAAiEC,CAAA,CAC/D,QAAAxB,CAAA,YAAAA,CAAA,CAAWgB,OAAA,EACX,QAAAF,CAAA,YAAAA,CAAA,CAAkBE,OAAA,EAClB;MACES,MAAA,EAAQvB,CAAA;MACRwB,SAAA,EAAWP;IAAA;IALCQ,CAAA,GAAaJ,CAAA,CAArBK,MAAA;IAAmCC,CAAA,GAAiBN,CAAA,CAA7BO,UAAA;IASzBC,CAAA,GAAqBvB,CAAA,IAAYwB,CAAA,CAAMC,QAAA,CAASC,IAAA,CAAK1B,CAAA;EAC3D,QAAoB,UAAfT,CAAA,WAAAgC,CAAA,YAAAA,CAAA,CAASI,IAAA,UAAM,MAAApC,CAAA,YAAAA,CAAA,CAAAqC,MAAA,IAMlBJ,CAAA,CAAAK,aAAA,QAAAC,MAAA,CAAAC,MAAA;IACEC,KAAA,EAAKF,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAOZ,CAAA,CAAcc,MAAA,GAAQ;MAAAC,UAAA,EAAYxC,CAAA,GAAO,YAAY;IAAA;EAAA,GAC7D2B,CAAA,CAAkBY,MAAA;IACtBE,GAAA,EAAK7B;EAAA,IAEJiB,CAAA,IAAW7B,CAAA,IACV8B,CAAA,CAAAK,aAAA,CAACO,CAAA,EAAsB,MACpBZ,CAAA,CAAMa,YAAA,CAAad,CAAA,EAAOO,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KACtB,QAAAR,CAAA,YAAAA,CAAA,CAASe,KAAA,GAAK;IACjBC,SAAA,EAAW7C,CAAA;IACX8C,SAAA,GAAW;IACXzC,OAAA,EAAAD,CAAA;IACAqC,GAAA,EAAK/B,CAAA;IACLqC,yBAAA,GAA4B7C;EAAA,SAlBpC8C,OAAA,CAAQC,KAAA,CAAM,2FAA2FpB,CAAA,GAClG,KAuBX;AAAA;AAAA,SAAAlC,CAAA,IAAAuD,OAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}