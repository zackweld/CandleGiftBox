{"ast":null,"code":"import { useRef as e, useCallback as t } from \"react\";\nimport o from \"../useEventListener/index.js\";\nvar r;\n!function (e) {\n  e.ALT = \"altKey\", e.META = \"metaKey\", e.CTRL = \"ctrlKey\", e.SHIFT = \"shiftKey\", e.CTRL_OR_META = \"ctrlOrMetaKey\";\n}(r || (r = {}));\nfunction i(n) {\n  var a = n.keys,\n    c = void 0 === a ? [] : a,\n    u = n.callback,\n    f = n.modifier,\n    l = n.withoutAnyModifier,\n    d = n.ref,\n    m = n.ignoreDocumentFallback,\n    v = void 0 !== m && m,\n    y = n.capture,\n    s = void 0 !== y && y,\n    p = n.preventDefault,\n    K = void 0 !== p && p,\n    T = n.stopPropagation,\n    k = void 0 !== T && T,\n    M = n.keyEventName,\n    b = void 0 === M ? \"keydown\" : M,\n    A = e(document.body),\n    E = t(function (e) {\n      c.includes(e.key) && (f && !function (e, t) {\n        return t === r.CTRL_OR_META ? e.ctrlKey || e.metaKey : e[t];\n      }(e, f) || l && !function (e) {\n        return !Object.values(i.modifiers).some(function (t) {\n          if (\"ctrlOrMetaKey\" !== t) return !!e[t];\n        });\n      }(e) || (K && e.preventDefault(), k && e.stopPropagation(), u(e)));\n    }, [c, f, l, K, k, u]);\n  o({\n    eventName: b,\n    callback: E,\n    ref: d || (v ? null : A),\n    capture: s\n  });\n}\ni.modifiers = r;\nexport { i as default };","map":{"version":3,"names":["r","e","ALT","META","CTRL","SHIFT","CTRL_OR_META","i","n","a","keys","c","u","callback","f","modifier","l","withoutAnyModifier","d","ref","m","ignoreDocumentFallback","v","y","capture","s","p","preventDefault","K","T","stopPropagation","k","M","keyEventName","b","A","document","body","E","t","includes","key","ctrlKey","metaKey","Object","values","modifiers","some","o","eventName","default"],"sources":["/Users/zacharyweld/Documents/Code/CandleGiftBoxDemo/CandleGiftBox/interview-apps/apps/start-order/client/node_modules/monday-ui-react-core/src/hooks/useKeyEvent/index.ts"],"sourcesContent":["import { RefObject, useCallback, useRef } from \"react\";\nimport useEventListener from \"../useEventListener\";\nimport { GenericEventCallback } from \"../../types/events\";\n\nconst CTRL_OR_META = \"ctrlOrMetaKey\";\n\nenum Modifier {\n  ALT = \"altKey\",\n  META = \"metaKey\",\n  CTRL = \"ctrlKey\",\n  SHIFT = \"shiftKey\",\n  CTRL_OR_META = \"ctrlOrMetaKey\"\n}\n\nconst checkModifierInEvent = (event: KeyboardEvent, modifier: Modifier) => {\n  if (modifier === Modifier.CTRL_OR_META) {\n    return event.ctrlKey || event.metaKey;\n  }\n\n  return event[modifier];\n};\nconst checkWithoutModifierInEvent = (event: KeyboardEvent) => {\n  return !Object.values(useKeyEvent.modifiers).some((m: Modifier) => {\n    if (m !== CTRL_OR_META) {\n      return !!event[m];\n    }\n  });\n};\n\nexport interface UseKeyEventArgs {\n  keys: KeyboardEvent[\"key\"][];\n  // TODO: [breaking] change to keyboard event\n  callback: GenericEventCallback;\n  modifier?: Modifier;\n  keyEventName?: string;\n  withoutAnyModifier?: boolean;\n  ref?: RefObject<HTMLElement | Document>;\n  ignoreDocumentFallback?: boolean;\n  capture?: boolean;\n  preventDefault?: boolean;\n  stopPropagation?: boolean;\n}\n\nexport default function useKeyEvent({\n  keys = [],\n  callback,\n  modifier,\n  withoutAnyModifier,\n  ref,\n  ignoreDocumentFallback = false,\n  capture = false,\n  preventDefault = false,\n  stopPropagation = false,\n  keyEventName = \"keydown\" // need keydown and not keyup to prevent scrolling with prevent default, for example during menu keyboard navigation\n}: UseKeyEventArgs) {\n  const documentRef = useRef(document.body);\n  const onKeyUpPress = useCallback(\n    (event: KeyboardEvent) => {\n      const { key } = event;\n      if (!keys.includes(key)) {\n        return;\n      }\n      if (modifier && !checkModifierInEvent(event, modifier)) {\n        return;\n      }\n      if (withoutAnyModifier && !checkWithoutModifierInEvent(event)) {\n        return;\n      }\n\n      if (preventDefault) {\n        event.preventDefault();\n      }\n\n      if (stopPropagation) {\n        event.stopPropagation();\n      }\n\n      callback(event);\n    },\n    [keys, modifier, withoutAnyModifier, preventDefault, stopPropagation, callback]\n  );\n\n  let listenerRef;\n\n  if (ref) {\n    listenerRef = ref;\n  } else if (ignoreDocumentFallback) {\n    listenerRef = null;\n  } else {\n    listenerRef = documentRef;\n  }\n\n  useEventListener({\n    eventName: keyEventName,\n    callback: onKeyUpPress,\n    ref: listenerRef,\n    capture\n  });\n}\n\nuseKeyEvent.modifiers = Modifier;\n"],"mappings":";;AAIA,IAEKA,CAAA;AAAA,CAAL,UAAKC,CAAA;EACHA,CAAA,CAAAC,GAAA,aACAD,CAAA,CAAAE,IAAA,cACAF,CAAA,CAAAG,IAAA,cACAH,CAAA,CAAAI,KAAA,eACAJ,CAAA,CAAAK,YAAA,kBACD;AAAA,CAND,CAAKN,CAAA,KAAAA,CAAA,GAMJ;AA+Ba,SAAUO,EAAWC,CAAA;EAWjB,IAAAC,CAAA,GAAAD,CAAA,CAVhBE,IAAA;IAAAC,CAAA,QAAO,MAAHF,CAAA,GAAG,KAAEA,CAAA;IACTG,CAAA,GAAQJ,CAAA,CAARK,QAAA;IACAC,CAAA,GAAQN,CAAA,CAARO,QAAA;IACAC,CAAA,GAAkBR,CAAA,CAAlBS,kBAAA;IACAC,CAAA,GAAGV,CAAA,CAAHW,GAAA;IAAGC,CAAA,GAAAZ,CAAA,CACHa,sBAAA;IAAAC,CAAA,QAAyB,MAAHF,CAAA,IAAQA,CAAA;IAAAG,CAAA,GAAAf,CAAA,CAC9BgB,OAAA;IAAAC,CAAA,QAAU,MAAHF,CAAA,IAAQA,CAAA;IAAAG,CAAA,GAAAlB,CAAA,CACfmB,cAAA;IAAAC,CAAA,QAAiB,MAAHF,CAAA,IAAQA,CAAA;IAAAG,CAAA,GAAArB,CAAA,CACtBsB,eAAA;IAAAC,CAAA,QAAkB,MAAHF,CAAA,IAAQA,CAAA;IAAAG,CAAA,GAAAxB,CAAA,CACvByB,YAAA;IAAAC,CAAA,QAAe,MAAHF,CAAA,GAAG,YAASA,CAAA;IAElBG,CAAA,GAAclC,CAAA,CAAOmC,QAAA,CAASC,IAAA;IAC9BC,CAAA,GAAeC,CAAA,CACnB,UAACtC,CAAA;MAEMU,CAAA,CAAK6B,QAAA,CADMvC,CAAA,CAARwC,GAAA,MAIJ3B,CAAA,KAhDmB,UAACb,CAAA,EAAsBsC,CAAA;QAClD,OAAIA,CAAA,KAAavC,CAAA,CAASM,YAAA,GACjBL,CAAA,CAAMyC,OAAA,IAAWzC,CAAA,CAAM0C,OAAA,GAGzB1C,CAAA,CAAMsC,CAAA,CACf;MAAA,CA0CuB,CAAqBtC,CAAA,EAAOa,CAAA,KAGzCE,CAAA,KA5C0B,UAACf,CAAA;QACnC,QAAQ2C,MAAA,CAAOC,MAAA,CAAOtC,CAAA,CAAYuC,SAAA,EAAWC,IAAA,CAAK,UAACR,CAAA;UACjD,IAnBiB,oBAmBbA,CAAA,EACF,SAAStC,CAAA,CAAMsC,CAAA,CAEnB;QAAA,EACF;MAAA,CAsCiC,CAA4BtC,CAAA,MAInD2B,CAAA,IACF3B,CAAA,CAAM0B,cAAA,IAGJI,CAAA,IACF9B,CAAA,CAAM6B,eAAA,IAGRlB,CAAA,CAASX,CAAA,GACX;IAAA,GACA,CAACU,CAAA,EAAMG,CAAA,EAAUE,CAAA,EAAoBY,CAAA,EAAgBG,CAAA,EAAiBnB,CAAA;EAaxEoC,CAAA,CAAiB;IACfC,SAAA,EAAWf,CAAA;IACXrB,QAAA,EAAUyB,CAAA;IACVnB,GAAA,EAXED,CAAA,KAEOI,CAAA,GACK,OAEAa,CAAA;IAOdX,OAAA,EAAAC;EAAA,EAEJ;AAAA;AAEAlB,CAAA,CAAYuC,SAAA,GAAY9C,CAAA;AAAA,SAAAO,CAAA,IAAA2C,OAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}