{"ast":null,"code":"import { defineProperty as e, toConsumableArray as t } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NavDirections as r } from \"../../hooks/useFullKeyboardListeners.js\";\nvar n = function (t) {\n    var n = e(e(e(e({}, r.RIGHT, new Map()), r.LEFT, new Map()), r.UP, new Map()), r.DOWN, new Map());\n    return t.forEach(function (e) {\n      !function (e, t) {\n        var n = t.topElement,\n          o = t.bottomElement,\n          a = t.leftElement,\n          l = t.rightElement;\n        function i(e, t) {\n          throw Error(\"Circular positioning detected: the \".concat(e, \" element is already positioned to the \").concat(t, \" of the \").concat(t, \" element. This probably means the layout isn't ordered correctly.\"));\n        }\n        n && o && (e[r.UP].get(n) === o && i(\"BOTTOM\", \"TOP\"), e[r.DOWN].get(o) === n && i(\"TOP\", \"BOTTOM\")), a && l && (e[r.LEFT].get(a) === l && i(\"RIGHT\", \"LEFT\"), e[r.RIGHT].get(l) === a && i(\"LEFT\", \"RIGHT\"));\n      }(n, e);\n      var t = e.topElement,\n        o = e.bottomElement,\n        a = e.leftElement,\n        l = e.rightElement;\n      t && o && (n[r.UP].set(o, t), n[r.DOWN].set(t, o)), a && l && (n[r.LEFT].set(l, a), n[r.RIGHT].set(a, l));\n    }), n;\n  },\n  o = function (e) {\n    switch (e) {\n      case r.LEFT:\n        return r.RIGHT;\n      case r.RIGHT:\n        return r.LEFT;\n      case r.UP:\n        return r.DOWN;\n      case r.DOWN:\n        return r.UP;\n      default:\n        throw Error(\"Unexpected direction: \".concat(e));\n    }\n  },\n  a = function e(n, o) {\n    var a = n[o],\n      i = t(a)[0];\n    return i ? function (e, t) {\n      var r = !1,\n        n = t;\n      for (; !r;) {\n        var o = l(e, n);\n        o ? n = o : r = !0;\n      }\n      return n;\n    }(a, i[0]) : e(n, [r.LEFT, r.RIGHT].includes(o) ? r.UP : r.LEFT);\n  },\n  l = function e(t, r) {\n    var n,\n      o = t.get(r);\n    return o ? !o.current || o.current.disabled || \"true\" === (null === (n = o.current.dataset) || void 0 === n ? void 0 : n.disabled) ? e(t, o) : o : null;\n  };\nexport { n as getDirectionMaps, l as getNextElementToFocusInDirection, o as getOppositeDirection, a as getOutmostElementInDirection };","map":{"version":3,"names":["n","getDirectionMaps","t","e","r","RIGHT","Map","LEFT","UP","DOWN","forEach","topElement","o","bottomElement","a","leftElement","l","rightElement","i","Error","concat","get","set","getOppositeDirection","includes","current","disabled","dataset","getNextElementToFocusInDirection","getOutmostElementInDirection"],"sources":["/Users/zacharyweld/Documents/Code/CandleGiftBoxDemo/CandleGiftBox/interview-apps/apps/start-order/client/node_modules/monday-ui-react-core/src/components/GridKeyboardNavigationContext/helper.ts"],"sourcesContent":["import { NavDirections } from \"../../hooks/useFullKeyboardListeners\";\nimport { DirectionMap, DirectionMaps, GridElementRef, Position } from \"./GridKeyboardNavigationContextConstants\";\n\nfunction throwIfCausingCircularDependency(directionMaps: DirectionMaps, newPosition: Position) {\n  const { topElement, bottomElement, leftElement, rightElement } = newPosition;\n  if (topElement && bottomElement) {\n    if (directionMaps[NavDirections.UP].get(topElement) === bottomElement) {\n      throwMessage(\"BOTTOM\", \"TOP\");\n    }\n    if (directionMaps[NavDirections.DOWN].get(bottomElement) === topElement) {\n      throwMessage(\"TOP\", \"BOTTOM\");\n    }\n  }\n  if (leftElement && rightElement) {\n    if (directionMaps[NavDirections.LEFT].get(leftElement) === rightElement) {\n      throwMessage(\"RIGHT\", \"LEFT\");\n    }\n    if (directionMaps[NavDirections.RIGHT].get(rightElement) === leftElement) {\n      throwMessage(\"LEFT\", \"RIGHT\");\n    }\n  }\n\n  function throwMessage(directionFrom: string, directionTo: string) {\n    throw new Error(\n      `Circular positioning detected: the ${directionFrom} element is already positioned to the ${directionTo} of the ${directionTo} element. This probably means the layout isn't ordered correctly.`\n    );\n  }\n}\n\nexport const getDirectionMaps = (positions: Position[]) => {\n  const directionMaps: DirectionMaps = {\n    [NavDirections.RIGHT]: new Map(),\n    [NavDirections.LEFT]: new Map(),\n    [NavDirections.UP]: new Map(),\n    [NavDirections.DOWN]: new Map()\n  };\n  positions.forEach(position => {\n    throwIfCausingCircularDependency(directionMaps, position);\n\n    const { topElement, bottomElement, leftElement, rightElement } = position;\n    if (topElement && bottomElement) {\n      directionMaps[NavDirections.UP].set(bottomElement, topElement);\n      directionMaps[NavDirections.DOWN].set(topElement, bottomElement);\n    }\n    if (leftElement && rightElement) {\n      directionMaps[NavDirections.LEFT].set(rightElement, leftElement);\n      directionMaps[NavDirections.RIGHT].set(leftElement, rightElement);\n    }\n  });\n  return directionMaps;\n};\n\nexport const getOppositeDirection = (direction: NavDirections) => {\n  switch (direction) {\n    case NavDirections.LEFT:\n      return NavDirections.RIGHT;\n    case NavDirections.RIGHT:\n      return NavDirections.LEFT;\n    case NavDirections.UP:\n      return NavDirections.DOWN;\n    case NavDirections.DOWN:\n      return NavDirections.UP;\n    default:\n      throw new Error(`Unexpected direction: ${direction}`);\n  }\n};\n\nexport const getOutmostElementInDirection = (\n  directionMaps: DirectionMaps,\n  direction: NavDirections\n): GridElementRef => {\n  const directionMap = directionMaps[direction];\n  const firstEntry = [...directionMap][0]; // start with any element\n  if (!firstEntry) {\n    // no relations were registered for this direction - fallback to a different direction\n    if ([NavDirections.LEFT, NavDirections.RIGHT].includes(direction)) {\n      // there are no registered horizontal relations registered, try vertical relations. Get the top-most element.\n      return getOutmostElementInDirection(directionMaps, NavDirections.UP);\n    }\n    // there are no registered vertical relations registered, try horizontal relations. Get the left-most element.\n    return getOutmostElementInDirection(directionMaps, NavDirections.LEFT);\n  }\n  const firstRef = firstEntry[0];\n  return getLastFocusableElementFromElementInDirection(directionMap, firstRef);\n};\n\nexport const getNextElementToFocusInDirection = (\n  directionMap: DirectionMap,\n  elementRef: GridElementRef\n): null | GridElementRef => {\n  const next = directionMap.get(elementRef);\n  if (!next) {\n    // this is the last element on the direction map - there' nothing next\n    return null;\n  }\n  if (!next.current || next.current.disabled || next.current.dataset?.disabled === \"true\") {\n    // the next element is not mounted or disabled - try the next one\n    return getNextElementToFocusInDirection(directionMap, next);\n  }\n  return next;\n};\n\nfunction getLastFocusableElementFromElementInDirection(directionMap: DirectionMap, initialRef: GridElementRef) {\n  let done = false;\n  let currentRef = initialRef;\n\n  while (!done) {\n    // as long as there's a mounted element which in that direction, take it.\n    const nextEligible = getNextElementToFocusInDirection(directionMap, currentRef);\n    if (!nextEligible) {\n      done = true;\n    } else {\n      currentRef = nextEligible;\n    }\n  }\n\n  return currentRef;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}