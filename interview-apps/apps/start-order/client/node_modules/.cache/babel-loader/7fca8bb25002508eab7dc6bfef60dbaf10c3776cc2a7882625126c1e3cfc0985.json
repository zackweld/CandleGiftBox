{"ast":null,"code":"import { slicedToArray as l, toConsumableArray as o } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { useState as n, useCallback as e, useEffect as i } from \"react\";\nimport t from \"./useAnimationProps.js\";\nimport s from \"../../hooks/useKeyEvent/index.js\";\nimport \"../../constants/dialog.js\";\nimport { keyCodes as a } from \"../../constants/keyCodes.js\";\nimport \"../../constants/sizes.js\";\nimport \"../../constants/positions.js\";\nvar r = [a.ESCAPE];\nfunction u(a) {\n  var u = a.instance,\n    d = a.show,\n    c = a.triggerElement,\n    m = a.onClose,\n    p = a.alertDialog,\n    v = n(!1),\n    f = l(v, 2),\n    h = f[0],\n    j = f[1],\n    y = t(c, u),\n    g = e(function (l) {\n      !p && (null == u ? void 0 : u.$el.contains(document.activeElement)) && (l.stopPropagation(), null == m || m());\n    }, [p, null == u ? void 0 : u.$el, m]);\n  return s({\n    callback: g,\n    capture: !0,\n    keys: r\n  }), i(function () {\n    var l, n, e, i;\n    if (d) j(!0), null == u || u.show(), (null == u ? void 0 : u.$el.childNodes[1].animate) && (null === (n = null == u ? void 0 : (l = u.$el.childNodes[1]).animate) || void 0 === n || (i = n).call.apply(i, [l].concat(o(y()))));else if (null == u ? void 0 : u.$el.childNodes[1].animate) {\n      var t,\n        s = null === (e = null == u ? void 0 : u.$el.childNodes[1]) || void 0 === e ? void 0 : (t = e).animate.apply(t, o(y(!0)));\n      null == s || s.finished.then(function () {\n        j(!1), null == u || u.hide();\n      });\n    } else j(!1), null == u || u.hide();\n  }, [d, u, y]), {\n    shouldShow: h\n  };\n}\nexport { u as default };","map":{"version":3,"names":["r","a","ESCAPE","u","instance","d","show","c","triggerElement","m","onClose","p","alertDialog","v","n","f","l","h","j","y","t","g","e","$el","contains","document","activeElement","stopPropagation","s","callback","capture","keys","i","childNodes","animate","call","apply","concat","o","finished","then","hide","shouldShow","default"],"sources":["/Users/zacharyweld/Documents/Code/CandleGiftBoxDemo/CandleGiftBox/interview-apps/apps/start-order/client/node_modules/monday-ui-react-core/src/components/Modal/useShowHideModal.ts"],"sourcesContent":["import React, { useState, useCallback, useEffect } from \"react\";\nimport useAnimationProps from \"./useAnimationProps\";\nimport useKeyEvent from \"../../hooks/useKeyEvent/index\";\nimport { A11yDialogType } from \"./ModalHelper\";\nimport { keyCodes } from \"../../constants\";\n\nconst KEYS = [keyCodes.ESCAPE];\n\nexport default function useShowHideModal({\n  instance,\n  show,\n  triggerElement,\n  onClose,\n  alertDialog\n}: {\n  instance: A11yDialogType;\n  show: boolean;\n  triggerElement: Element;\n  onClose: () => void;\n  alertDialog: boolean;\n}) {\n  const [isAnimating, setIsAnimating] = useState(false);\n  const getAnimationProps = useAnimationProps(triggerElement, instance);\n\n  const closeOnEsc = useCallback(\n    (event: React.KeyboardEvent) => {\n      if (!alertDialog && instance?.$el.contains(document.activeElement)) {\n        event.stopPropagation();\n        onClose?.();\n      }\n    },\n    [alertDialog, instance?.$el, onClose]\n  );\n\n  useKeyEvent({\n    callback: closeOnEsc,\n    capture: true,\n    keys: KEYS\n  });\n\n  useEffect(() => {\n    if (show) {\n      setIsAnimating(true);\n      instance?.show();\n      const animate = instance?.$el.childNodes[1].animate;\n      if (animate) {\n        instance?.$el.childNodes[1].animate?.(...getAnimationProps());\n      }\n    } else {\n      const animate = instance?.$el.childNodes[1].animate;\n      if (animate) {\n        const animation = instance?.$el.childNodes[1]?.animate(...getAnimationProps(true));\n        animation?.finished.then(() => {\n          setIsAnimating(false);\n          instance?.hide();\n        });\n      } else {\n        setIsAnimating(false);\n        instance?.hide();\n      }\n    }\n  }, [show, instance, getAnimationProps]);\n\n  return { shouldShow: isAnimating };\n}\n"],"mappings":";;;;;;;;AAMA,IAAMA,CAAA,GAAO,CAACC,CAAA,CAASC,MAAA;AAEC,SAAAC,EAAgBF,CAAA;EAYvC,IAXCE,CAAA,GAAQF,CAAA,CAARG,QAAA;IACAC,CAAA,GAAIJ,CAAA,CAAJK,IAAA;IACAC,CAAA,GAAcN,CAAA,CAAdO,cAAA;IACAC,CAAA,GAAOR,CAAA,CAAPS,OAAA;IACAC,CAAA,GAAWV,CAAA,CAAXW,WAAA;IAQAC,CAAA,GAAsCC,CAAA,EAAS;IAAMC,CAAA,GAAAC,CAAA,CAAAH,CAAA;IAA9CI,CAAA,GAAWF,CAAA;IAAEG,CAAA,GAAcH,CAAA;IAC5BI,CAAA,GAAoBC,CAAA,CAAkBb,CAAA,EAAgBJ,CAAA;IAEtDkB,CAAA,GAAaC,CAAA,CACjB,UAACN,CAAA;MAAA,CACML,CAAA,KAAe,QAAAR,CAAA,YAAAA,CAAA,CAAUoB,GAAA,CAAIC,QAAA,CAASC,QAAA,CAASC,aAAA,OAClDV,CAAA,CAAMW,eAAA,IACN,QAAAlB,CAAA,IAAAA,CAAA,GAEH;IAAA,GACD,CAACE,CAAA,EAAa,QAAAR,CAAA,YAAAA,CAAA,CAAUoB,GAAA,EAAKd,CAAA;EAgC/B,OA7BAmB,CAAA,CAAY;IACVC,QAAA,EAAUR,CAAA;IACVS,OAAA,GAAS;IACTC,IAAA,EAAM/B;EAAA,IAGRgC,CAAA,CAAU;IAAA,IAAAhB,CAAA,EAAAF,CAAA,EAAAQ,CAAA,EAKOU,CAAA;IAJf,IAAI3B,CAAA,EACFa,CAAA,EAAe,IACf,QAAAf,CAAA,IAAAA,CAAA,CAAUG,IAAA,KACM,QAAAH,CAAA,YAAAA,CAAA,CAAUoB,GAAA,CAAIU,UAAA,CAAW,GAAGC,OAAA,MAEP,UAAnCpB,CAAA,WAAAX,CAAA,aAAAa,CAAA,GAAAb,CAAA,CAAUoB,GAAA,CAAIU,UAAA,CAAW,IAAGC,OAAA,UAAO,MAAApB,CAAA,KAAAkB,CAAA,GAAAlB,CAAA,EAAAqB,IAAA,CAAAC,KAAA,CAAAJ,CAAA,GAAAhB,CAAA,EAAAqB,MAAA,CAAAC,CAAA,CAAMnB,CAAA,YAI3C,IADgB,QAAAhB,CAAA,YAAAA,CAAA,CAAUoB,GAAA,CAAIU,UAAA,CAAW,GAAGC,OAAA,EAC/B;MAAA,IAAAd,CAAA;QACLQ,CAAA,GAAyC,UAA7BN,CAAA,WAAAnB,CAAA,YAAAA,CAAA,CAAUoB,GAAA,CAAIU,UAAA,CAAW,YAAI,MAAAX,CAAA,aAAAF,CAAA,GAAAE,CAAA,EAAAY,OAAA,CAAOE,KAAA,CAAAhB,CAAA,EAAAkB,CAAA,CAAInB,CAAA,EAAkB;MAC5E,QAAAS,CAAA,IAAAA,CAAA,CAAWW,QAAA,CAASC,IAAA,CAAK;QACvBtB,CAAA,EAAe,IACf,QAAAf,CAAA,IAAAA,CAAA,CAAUsC,IAAA,EACZ;MAAA,EACD;IAAA,OACCvB,CAAA,EAAe,IACf,QAAAf,CAAA,IAAAA,CAAA,CAAUsC,IAAA,EAGf;EAAA,GAAE,CAACpC,CAAA,EAAMF,CAAA,EAAUgB,CAAA,IAEb;IAAEuB,UAAA,EAAYzB;EAAA,CACvB;AAAA;AAAA,SAAAd,CAAA,IAAAwC,OAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}