{"ast":null,"code":"import { slicedToArray as e } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { useState as t, useMemo as o, useCallback as s } from \"react\";\nimport { useSetDefaultItemOnFocusEvent as i, useSupportArrowsKeyboardNavigation as n, useSupportPressItemKeyboardNavigation as u, useKeepFocusOnItemWhenListChanged as l, useCleanVisualFocusOnBlur as c } from \"./useActiveDescendantListFocusHooks.js\";\nvar a;\nfunction r(r) {\n  var m = r.focusedElementRef,\n    I = r.itemsIds,\n    d = r.isItemSelectable,\n    f = r.onItemClick,\n    v = r.defaultVisualFocusFirstIndex,\n    F = r.focusedElementRole,\n    p = void 0 === F ? a.GROUP : F,\n    x = r.isHorizontalList,\n    b = void 0 !== x && x,\n    O = r.isIgnoreSpaceAsItemSelection,\n    g = void 0 !== O && O,\n    C = r.useDocumentEventListeners,\n    E = void 0 !== C && C,\n    S = r.ignoreDocumentFallback,\n    k = void 0 !== S && S,\n    P = void 0 !== v && v ? 0 : -1,\n    R = I.length,\n    V = t(-1),\n    A = e(V, 2),\n    B = A[0],\n    y = A[1],\n    D = I[B],\n    L = o(function () {\n      return E ? k ? {\n        ignoreDocumentFallback: k\n      } : void 0 : {\n        ref: m,\n        preventDefault: !0,\n        stopPropagation: !0\n      };\n    }, [E, m, k]),\n    T = i({\n      focusedElementRef: m,\n      isItemSelectable: d,\n      visualFocusItemIndex: B,\n      setVisualFocusItemIndex: y,\n      itemsCount: R,\n      defaultVisualFocusItemIndex: P\n    }).triggeredByKeyboard,\n    H = s(function (e, t) {\n      T.current = t;\n      var o = I.indexOf(e);\n      o > -1 && o !== B && y(o);\n    }, [I, T, B]);\n  n({\n    itemsCount: R,\n    focusedElementRef: m,\n    visualFocusItemIndex: B,\n    setVisualFocusItemIndex: y,\n    triggeredByKeyboard: T,\n    isHorizontalList: b,\n    isItemSelectable: d,\n    listenerOptions: L\n  }), u({\n    visualFocusItemIndex: B,\n    itemsCount: R,\n    focusedElementRef: m,\n    setVisualFocusItemIndex: y,\n    onItemClick: f,\n    isItemSelectable: d,\n    listenerOptions: L,\n    isIgnoreSpaceAsItemSelection: g\n  }), l({\n    visualFocusItemIndex: B,\n    itemsIds: I,\n    isItemSelectable: d,\n    setVisualFocusItemIndex: y\n  }), c({\n    focusedElementRef: m,\n    visualFocusItemIndex: B,\n    setVisualFocusItemIndex: y\n  });\n  var M = s(function (e) {\n    return function (t) {\n      return f(t, e);\n    };\n  }, [f]);\n  return {\n    visualFocusItemIndex: T.current ? B : void 0,\n    visualFocusItemId: T.current ? D : void 0,\n    focusedElementProps: {\n      \"aria-activedescendant\": T.current ? D : void 0,\n      role: p\n    },\n    onItemClickCallback: f,\n    createOnItemClickCallback: M,\n    setVisualFocusItemId: H\n  };\n}\n!function (e) {\n  e.APPLICATION = \"application\", e.COMBOBOX = \"combobox\", e.COMPOSITE = \"composite\", e.GROUP = \"group\", e.TEXTBOX = \"textbox\", e.MENU = \"menu\";\n}(a || (a = {})), r.roles = a;\nexport { r as default };","map":{"version":3,"names":["a","r","m","focusedElementRef","I","itemsIds","d","isItemSelectable","f","onItemClick","v","defaultVisualFocusFirstIndex","F","focusedElementRole","p","GROUP","x","isHorizontalList","b","O","isIgnoreSpaceAsItemSelection","g","C","useDocumentEventListeners","E","S","ignoreDocumentFallback","k","P","R","length","V","t","A","e","B","y","D","L","o","ref","preventDefault","stopPropagation","T","i","visualFocusItemIndex","setVisualFocusItemIndex","itemsCount","defaultVisualFocusItemIndex","triggeredByKeyboard","H","s","current","indexOf","n","listenerOptions","u","l","c","M","visualFocusItemId","focusedElementProps","role","onItemClickCallback","createOnItemClickCallback","setVisualFocusItemId","APPLICATION","COMBOBOX","COMPOSITE","TEXTBOX","MENU","roles","default"],"sources":["/Users/zacharyweld/Documents/Code/CandleGiftBox/interview-apps/apps/start-order/client/node_modules/monday-ui-react-core/src/hooks/useActiveDescendantListFocus/index.ts"],"sourcesContent":["import React, { useMemo, useState, useCallback, MutableRefObject } from \"react\";\nimport {\n  useSupportArrowsKeyboardNavigation,\n  useSupportPressItemKeyboardNavigation,\n  useSetDefaultItemOnFocusEvent,\n  useKeepFocusOnItemWhenListChanged,\n  useCleanVisualFocusOnBlur\n} from \"./useActiveDescendantListFocusHooks\";\n\nenum Role {\n  APPLICATION = \"application\",\n  COMBOBOX = \"combobox\",\n  COMPOSITE = \"composite\",\n  GROUP = \"group\",\n  TEXTBOX = \"textbox\",\n  MENU = \"menu\"\n}\n\nfunction useActiveDescendantListFocus({\n  focusedElementRef, // the reference for the component that listens to keyboard\n  itemsIds,\n  isItemSelectable,\n  onItemClick,\n  defaultVisualFocusFirstIndex = false,\n  focusedElementRole = Role.GROUP,\n  isHorizontalList = false,\n  isIgnoreSpaceAsItemSelection = false,\n  useDocumentEventListeners = false,\n  ignoreDocumentFallback = false\n}: {\n  focusedElementRef: MutableRefObject<HTMLElement>;\n  itemsIds: string[];\n  isItemSelectable: (index: number) => boolean;\n  onItemClick: (event: React.KeyboardEvent | React.MouseEvent, index: number) => void;\n  defaultVisualFocusFirstIndex?: boolean;\n  focusedElementRole?: Role;\n  isHorizontalList?: boolean;\n  isIgnoreSpaceAsItemSelection?: boolean;\n  useDocumentEventListeners?: boolean;\n  ignoreDocumentFallback?: boolean;\n}) {\n  const defaultVisualFocusItemIndex = defaultVisualFocusFirstIndex ? 0 : -1;\n  const itemsCount = itemsIds.length;\n  const [visualFocusItemIndex, setVisualFocusItemIndex] = useState<number>(-1);\n  const visualFocusItemId = itemsIds[visualFocusItemIndex];\n\n  const listenerOptions = useMemo(() => {\n    if (useDocumentEventListeners) {\n      return ignoreDocumentFallback ? { ignoreDocumentFallback } : undefined;\n    }\n\n    return {\n      ref: focusedElementRef,\n      preventDefault: true,\n      stopPropagation: true\n    };\n  }, [useDocumentEventListeners, focusedElementRef, ignoreDocumentFallback]);\n\n  const { triggeredByKeyboard } = useSetDefaultItemOnFocusEvent({\n    focusedElementRef,\n    isItemSelectable,\n    visualFocusItemIndex,\n    setVisualFocusItemIndex,\n    itemsCount,\n    defaultVisualFocusItemIndex\n  });\n\n  const setVisualFocusItemId = useCallback(\n    (visualFocusItemId: string, isTriggeredByKeyboard: boolean) => {\n      triggeredByKeyboard.current = isTriggeredByKeyboard;\n      const itemIndex = itemsIds.indexOf(visualFocusItemId);\n      if (itemIndex > -1 && itemIndex !== visualFocusItemIndex) {\n        setVisualFocusItemIndex(itemIndex);\n      }\n    },\n    [itemsIds, triggeredByKeyboard, visualFocusItemIndex]\n  );\n\n  useSupportArrowsKeyboardNavigation({\n    itemsCount,\n    focusedElementRef,\n    visualFocusItemIndex,\n    setVisualFocusItemIndex,\n    triggeredByKeyboard,\n    isHorizontalList,\n    isItemSelectable,\n    listenerOptions\n  });\n\n  useSupportPressItemKeyboardNavigation({\n    visualFocusItemIndex,\n    itemsCount,\n    focusedElementRef,\n    setVisualFocusItemIndex,\n    onItemClick,\n    isItemSelectable,\n    listenerOptions,\n    isIgnoreSpaceAsItemSelection\n  });\n\n  useKeepFocusOnItemWhenListChanged({\n    visualFocusItemIndex,\n    itemsIds,\n    isItemSelectable,\n    setVisualFocusItemIndex\n  });\n\n  useCleanVisualFocusOnBlur({ focusedElementRef, visualFocusItemIndex, setVisualFocusItemIndex });\n\n  // this callback function is not needed anymore (the developer does not need to replace  the element's on click with this callback).\n  // we keep it for backward compatibility\n  const backwardCompatibilityCreateOnClickCallback = useCallback(\n    (itemIndex: number) => (event: React.KeyboardEvent | React.MouseEvent) => onItemClick(event, itemIndex),\n    [onItemClick]\n  );\n  return {\n    visualFocusItemIndex: triggeredByKeyboard.current ? visualFocusItemIndex : undefined,\n    visualFocusItemId: triggeredByKeyboard.current ? visualFocusItemId : undefined,\n    focusedElementProps: {\n      \"aria-activedescendant\": triggeredByKeyboard.current ? visualFocusItemId : undefined,\n      role: focusedElementRole\n    },\n    // this callback function is not needed anymore (the developer does not need to replace  the element's on click with this callback).\n    // we keep it for backward compatibility\n    onItemClickCallback: onItemClick,\n    createOnItemClickCallback: backwardCompatibilityCreateOnClickCallback,\n    setVisualFocusItemId\n  };\n}\n\nuseActiveDescendantListFocus.roles = Role;\n\nexport default useActiveDescendantListFocus;\n"],"mappings":";;;AASA,IAAKA,CAAA;AASL,SAASC,EAA4BA,CAAA;EAsBpC,IArBCC,CAAA,GAAiBD,CAAA,CAAjBE,iBAAA;IACAC,CAAA,GAAQH,CAAA,CAARI,QAAA;IACAC,CAAA,GAAgBL,CAAA,CAAhBM,gBAAA;IACAC,CAAA,GAAWP,CAAA,CAAXQ,WAAA;IAAWC,CAAA,GAAAT,CAAA,CACXU,4BAAA;IAAoCC,CAAA,GAAAX,CAAA,CACpCY,kBAAA;IAAAC,CAAA,QAAkB,MAAAF,CAAA,GAAGZ,CAAA,CAAKe,KAAA,GAAKH,CAAA;IAAAI,CAAA,GAAAf,CAAA,CAC/BgB,gBAAA;IAAAC,CAAA,QAAmB,MAAHF,CAAA,IAAQA,CAAA;IAAAG,CAAA,GAAAlB,CAAA,CACxBmB,4BAAA;IAAAC,CAAA,QAA+B,MAAHF,CAAA,IAAQA,CAAA;IAAAG,CAAA,GAAArB,CAAA,CACpCsB,yBAAA;IAAAC,CAAA,QAA4B,MAAHF,CAAA,IAAQA,CAAA;IAAAG,CAAA,GAAAxB,CAAA,CACjCyB,sBAAA;IAAAC,CAAA,QAAyB,MAAHF,CAAA,IAAQA,CAAA;IAaxBG,CAAA,QAlByB,MAAHlB,CAAA,IAAQA,CAAA,GAkB+B,KAAK;IAClEmB,CAAA,GAAazB,CAAA,CAAS0B,MAAA;IAC5BC,CAAA,GAAwDC,CAAA,EAAkB;IAAEC,CAAA,GAAAC,CAAA,CAAAH,CAAA;IAArEI,CAAA,GAAoBF,CAAA;IAAEG,CAAA,GAAuBH,CAAA;IAC9CI,CAAA,GAAoBjC,CAAA,CAAS+B,CAAA;IAE7BG,CAAA,GAAkBC,CAAA,CAAQ;MAC9B,OAAIf,CAAA,GACKG,CAAA,GAAyB;QAAED,sBAAA,EAAAC;MAAA,SAA2B,IAGxD;QACLa,GAAA,EAAKtC,CAAA;QACLuC,cAAA,GAAgB;QAChBC,eAAA,GAAiB;MAAA,CAEpB;IAAA,GAAE,CAAClB,CAAA,EAA2BtB,CAAA,EAAmByB,CAAA;IAE1CgB,CAAA,GAAwBC,CAAA,CAA8B;MAC5DzC,iBAAA,EAAAD,CAAA;MACAK,gBAAA,EAAAD,CAAA;MACAuC,oBAAA,EAAAV,CAAA;MACAW,uBAAA,EAAAV,CAAA;MACAW,UAAA,EAAAlB,CAAA;MACAmB,2BAAA,EAAApB;IAAA,GANMqB,mBAAA;IASFC,CAAA,GAAuBC,CAAA,CAC3B,UAACjB,CAAA,EAA2BF,CAAA;MAC1BW,CAAA,CAAoBS,OAAA,GAAUpB,CAAA;MAC9B,IAAMO,CAAA,GAAYnC,CAAA,CAASiD,OAAA,CAAQnB,CAAA;MAC/BK,CAAA,IAAa,KAAKA,CAAA,KAAcJ,CAAA,IAClCC,CAAA,CAAwBG,CAAA,CAE3B;IAAA,GACD,CAACnC,CAAA,EAAUuC,CAAA,EAAqBR,CAAA;EAGlCmB,CAAA,CAAmC;IACjCP,UAAA,EAAAlB,CAAA;IACA1B,iBAAA,EAAAD,CAAA;IACA2C,oBAAA,EAAAV,CAAA;IACAW,uBAAA,EAAAV,CAAA;IACAa,mBAAA,EAAAN,CAAA;IACA1B,gBAAA,EAAAC,CAAA;IACAX,gBAAA,EAAAD,CAAA;IACAiD,eAAA,EAAAjB;EAAA,IAGFkB,CAAA,CAAsC;IACpCX,oBAAA,EAAAV,CAAA;IACAY,UAAA,EAAAlB,CAAA;IACA1B,iBAAA,EAAAD,CAAA;IACA4C,uBAAA,EAAAV,CAAA;IACA3B,WAAA,EAAAD,CAAA;IACAD,gBAAA,EAAAD,CAAA;IACAiD,eAAA,EAAAjB,CAAA;IACAlB,4BAAA,EAAAC;EAAA,IAGFoC,CAAA,CAAkC;IAChCZ,oBAAA,EAAAV,CAAA;IACA9B,QAAA,EAAAD,CAAA;IACAG,gBAAA,EAAAD,CAAA;IACAwC,uBAAA,EAAAV;EAAA,IAGFsB,CAAA,CAA0B;IAAEvD,iBAAA,EAAAD,CAAA;IAAmB2C,oBAAA,EAAAV,CAAA;IAAsBW,uBAAA,EAAAV;EAAA;EAIrE,IAAMuB,CAAA,GAA6CR,CAAA,CACjD,UAACjB,CAAA;IAAiB,OAAK,UAACF,CAAA;MAA6C,OAAKxB,CAAA,CAAYwB,CAAA,EAAOE,CAAA,CAAU;IAAA;EAAA,GACvG,CAAC1B,CAAA;EAEH,OAAO;IACLqC,oBAAA,EAAsBF,CAAA,CAAoBS,OAAA,GAAUjB,CAAA,QAAuB;IAC3EyB,iBAAA,EAAmBjB,CAAA,CAAoBS,OAAA,GAAUf,CAAA,QAAoB;IACrEwB,mBAAA,EAAqB;MACnB,yBAAyBlB,CAAA,CAAoBS,OAAA,GAAUf,CAAA,QAAoB;MAC3EyB,IAAA,EAAMhD;IAAA;IAIRiD,mBAAA,EAAqBvD,CAAA;IACrBwD,yBAAA,EAA2BL,CAAA;IAC3BM,oBAAA,EAAAf;EAAA,CAEJ;AAAA;AAAA,CAvHA,UAAKhB,CAAA;EACHA,CAAA,CAAAgC,WAAA,kBACAhC,CAAA,CAAAiC,QAAA,eACAjC,CAAA,CAAAkC,SAAA,gBACAlC,CAAA,CAAAnB,KAAA,YACAmB,CAAA,CAAAmC,OAAA,cACAnC,CAAA,CAAAoC,IAAA,SACD;AAAA,CAPD,CAAKtE,CAAA,KAAAA,CAAA,GAOJ,MAkHDC,CAAA,CAA6BsE,KAAA,GAAQvE,CAAA;AAAA,SAAAC,CAAA,IAAAuE,OAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}