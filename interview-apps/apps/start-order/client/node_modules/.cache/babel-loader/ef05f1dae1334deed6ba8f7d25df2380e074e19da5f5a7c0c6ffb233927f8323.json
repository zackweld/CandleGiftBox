{"ast":null,"code":"import { slicedToArray as e, defineProperty as t } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { camelCase as o } from \"lodash-es\";\nimport { getStyle as i } from \"../../helpers/typesciptCssModulesHelper.js\";\nimport { getTestId as r, ComponentDefaultTestId as a } from \"../../tests/testIds.js\";\nimport s from \"classnames\";\nimport n, { useState as d, useRef as l, useCallback as m, useEffect as c, useMemo as p } from \"react\";\nimport { SwitchTransition as u, CSSTransition as f } from \"react-transition-group\";\nimport v from \"../../hooks/useEventListener/index.js\";\nimport E from \"../../hooks/useAfterFirstRender/index.js\";\nimport { NOOP as b } from \"../../utils/function-utils.js\";\nimport { backwardCompatibilityForProperties as j } from \"../../helpers/backwardCompatibilityForProperties.js\";\nimport { CounterSize as x, CounterColor as A, CounterType as h, getActualSize as k } from \"./CounterConstants.js\";\nimport { withStaticProps as C } from \"../../types/withStaticProps.js\";\nimport N from \"./Counter.module.scss.js\";\nvar y = C(function x(A) {\n  var h = A.counterClassName,\n    C = A.count,\n    y = void 0 === C ? 0 : C,\n    L = A.size,\n    w = void 0 === L ? x.sizes.LARGE : L,\n    M = A.kind,\n    R = void 0 === M ? x.kinds.FILL : M,\n    g = A.color,\n    P = void 0 === g ? x.colors.PRIMARY : g,\n    z = A.maxDigits,\n    D = void 0 === z ? 3 : z,\n    F = A.ariaLabeledBy,\n    I = void 0 === F ? \"\" : F,\n    T = A.ariaLabel,\n    B = void 0 === T ? \"\" : T,\n    H = A.id,\n    O = void 0 === H ? \"\" : H,\n    U = A.prefix,\n    _ = void 0 === U ? \"\" : U,\n    G = A.onMouseDown,\n    S = void 0 === G ? b : G,\n    Y = A.noAnimation,\n    q = void 0 !== Y && Y,\n    J = A[\"data-testid\"],\n    K = j([A.className, A.wrapperClassName], void 0),\n    Q = d(!1),\n    V = e(Q, 2),\n    W = V[0],\n    X = V[1],\n    Z = l(null),\n    $ = m(function () {\n      X(!0);\n    }, [X]),\n    ee = m(function () {\n      X(!1);\n    }, [X]);\n  v({\n    eventName: \"animationend\",\n    callback: ee,\n    ref: Z\n  });\n  var te = E();\n  c(function () {\n    te.current && $();\n  }, [y, te, $]), c(function () {\n    D > 0 || console.error(\"Max digits must be a positive number\");\n  }, [D]);\n  var oe = p(function () {\n      return s(N.counter, i(N, o(\"size-\" + k(w))), i(N, o(\"kind-\" + R)), i(N, o(\"color-\" + P)), t({}, N.withAnimation, W), h);\n    }, [w, R, P, W, h]),\n    ie = \"counter\" + (O ? \"-\".concat(O) : \"\"),\n    re = (null == y ? void 0 : (\"\" + y).length) > D ? \"\".concat(Math.pow(10, D) - 1, \"+\") : y + \"\",\n    ae = n.createElement(\"span\", {\n      id: ie,\n      \"data-testid\": J || r(a.COUNTER, O)\n    }, _ + re);\n  return n.createElement(\"span\", {\n    className: K,\n    \"aria-label\": \"\".concat(B, \" \").concat(re),\n    \"aria-labelledby\": I,\n    onMouseDown: S\n  }, n.createElement(\"div\", {\n    className: oe,\n    \"aria-label\": re,\n    ref: Z\n  }, q ? ae : n.createElement(u, {\n    mode: \"out-in\"\n  }, n.createElement(f, {\n    key: re,\n    classNames: {\n      enter: N.fadeEnter,\n      enterActive: N.fadeEnterActive,\n      exit: N.fadeExit,\n      exitActive: N.fadeExitActive\n    },\n    addEndListener: function (e, t) {\n      e.addEventListener(\"transitionend\", t, !1);\n    }\n  }, n.createElement(\"span\", {\n    id: ie,\n    \"data-testid\": J || r(a.COUNTER, O)\n  }, _ + re)))));\n}, {\n  sizes: x,\n  colors: A,\n  kinds: h\n});\nexport { y as default };","map":{"version":3,"names":["y","C","x","A","h","counterClassName","count","L","size","w","sizes","LARGE","M","kind","R","kinds","FILL","g","color","P","colors","PRIMARY","z","maxDigits","D","F","ariaLabeledBy","I","T","ariaLabel","B","H","id","O","U","prefix","_","G","onMouseDown","S","b","Y","noAnimation","q","J","K","j","className","wrapperClassName","Q","d","V","e","W","X","Z","l","$","m","ee","v","eventName","callback","ref","te","E","c","current","console","error","oe","p","s","N","counter","i","o","k","t","withAnimation","ie","concat","re","length","Math","pow","ae","n","createElement","r","a","COUNTER","u","mode","f","key","classNames","enter","fadeEnter","enterActive","fadeEnterActive","exit","fadeExit","exitActive","fadeExitActive","addEndListener","addEventListener","default"],"sources":["/Users/zacharyweld/Documents/Code/CandleGiftBoxDemo/CandleGiftBox/interview-apps/apps/start-order/client/node_modules/monday-ui-react-core/src/components/Counter/Counter.tsx"],"sourcesContent":["import { camelCase } from \"lodash-es\";\nimport { getStyle } from \"../../helpers/typesciptCssModulesHelper\";\nimport { ComponentDefaultTestId, getTestId } from \"../../tests/test-ids-utils\";\nimport cx from \"classnames\";\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { CSSTransition, SwitchTransition } from \"react-transition-group\";\nimport VibeComponentProps from \"../../types/VibeComponentProps\";\nimport useEventListener from \"../../hooks/useEventListener\";\nimport useAfterFirstRender from \"../../hooks/useAfterFirstRender\";\nimport { NOOP } from \"../../utils/function-utils\";\nimport { backwardCompatibilityForProperties } from \"../../helpers/backwardCompatibilityForProperties\";\nimport { CounterColor, CounterSize, CounterType, getActualSize } from \"./CounterConstants\";\nimport { withStaticProps } from \"../../types\";\nimport styles from \"./Counter.module.scss\";\n\nexport interface CounterProps extends VibeComponentProps {\n  /** id to pass to the element */\n  id?: string;\n  /** element id to describe the counter accordingly */\n  ariaLabeledBy?: string;\n  /** Use className instead\n   * @deprecated\n   */\n  wrapperClassName?: string;\n  /** Custom class names to pass to the component wrapper */\n  className?: string;\n  /** Custom class names to pass to the component */\n  counterClassName?: string;\n  /** The numeric value of the counter */\n  count?: number;\n  /** Counter description */\n  ariaLabel?: string;\n  /** The size of the counter */\n  size?: CounterSize;\n  kind?: CounterType;\n  /** The color of the counter */\n  color?: CounterColor;\n  /** maximum number of digits to display (see relevant story) */\n  maxDigits?: number;\n  /** Text prepended to counter value */\n  prefix?: string;\n  /** Callback to be called when the counter is clicked. */\n  onMouseDown?: (event: React.MouseEvent<HTMLSpanElement>) => void;\n  /** Disables the component's animation */\n  noAnimation?: boolean;\n}\n\nconst Counter: React.FC<CounterProps> & {\n  sizes?: typeof CounterSize;\n  colors?: typeof CounterColor;\n  kinds?: typeof CounterType;\n} = ({\n  className,\n  // Backward compatibility for props naming\n  wrapperClassName,\n  counterClassName,\n  count = 0,\n  size = Counter.sizes.LARGE,\n  kind = Counter.kinds.FILL,\n  color = Counter.colors.PRIMARY,\n  maxDigits = 3,\n  ariaLabeledBy = \"\",\n  ariaLabel = \"\",\n  id = \"\",\n  prefix = \"\",\n  onMouseDown = NOOP,\n  noAnimation = false,\n  \"data-testid\": dataTestId\n}) => {\n  // Variables\n  const overrideClassName = backwardCompatibilityForProperties([className, wrapperClassName], undefined) as string;\n\n  // State\n  const [countChangeAnimationState, setCountChangeAnimationState] = useState(false);\n\n  // Refs\n  const ref = useRef<HTMLDivElement>(null);\n\n  // Callbacks\n  const setCountChangedAnimationActive = useCallback(() => {\n    setCountChangeAnimationState(true);\n  }, [setCountChangeAnimationState]);\n\n  const setCountChangedAnimationNotActive = useCallback(() => {\n    setCountChangeAnimationState(false);\n  }, [setCountChangeAnimationState]);\n\n  // Listeners\n  useEventListener({\n    eventName: \"animationend\",\n    callback: setCountChangedAnimationNotActive,\n    ref\n  });\n\n  // Custom hooks\n  const isAfterFirstRender = useAfterFirstRender();\n\n  // Effects\n  useEffect(() => {\n    if (isAfterFirstRender.current) {\n      setCountChangedAnimationActive();\n    }\n  }, [count, isAfterFirstRender, setCountChangedAnimationActive]);\n\n  useEffect(() => {\n    if (maxDigits <= 0) {\n      console.error(\"Max digits must be a positive number\");\n    }\n  }, [maxDigits]);\n\n  // Memos\n  const classNames = useMemo(() => {\n    return cx(\n      styles.counter,\n      getStyle(styles, camelCase(\"size-\" + getActualSize(size))),\n      getStyle(styles, camelCase(\"kind-\" + kind)),\n      getStyle(styles, camelCase(\"color-\" + color)),\n      {\n        [styles.withAnimation]: countChangeAnimationState\n      },\n      counterClassName\n    );\n  }, [size, kind, color, countChangeAnimationState, counterClassName]);\n\n  const counterId = \"counter\" + (id ? `-${id}` : \"\");\n  const countText = count?.toString().length > maxDigits ? `${10 ** maxDigits - 1}+` : String(count);\n  const counter = (\n    <span id={counterId} data-testid={dataTestId || getTestId(ComponentDefaultTestId.COUNTER, id)}>\n      {prefix + countText}\n    </span>\n  );\n\n  return (\n    <span\n      className={overrideClassName}\n      aria-label={`${ariaLabel} ${countText}`}\n      aria-labelledby={ariaLabeledBy}\n      onMouseDown={onMouseDown}\n    >\n      <div className={classNames} aria-label={countText} ref={ref}>\n        {noAnimation ? (\n          counter\n        ) : (\n          <SwitchTransition mode=\"out-in\">\n            <CSSTransition\n              key={countText}\n              classNames={{\n                enter: styles.fadeEnter,\n                enterActive: styles.fadeEnterActive,\n                exit: styles.fadeExit,\n                exitActive: styles.fadeExitActive\n              }}\n              // @ts-expect-error @definitelyTyped typings expecting a single parameter for some reason when the function passed here is called with two parameters\n              // See https://github.com/reactjs/react-transition-group/blob/c89f807067b32eea6f68fd6c622190d88ced82e2/src/Transition.js#L522-L534\n              addEndListener={(node: HTMLElement, done: () => void) => {\n                node.addEventListener(\"transitionend\", done, false);\n              }}\n            >\n              <span id={counterId} data-testid={dataTestId || getTestId(ComponentDefaultTestId.COUNTER, id)}>\n                {prefix + countText}\n              </span>\n            </CSSTransition>\n          </SwitchTransition>\n        )}\n      </div>\n    </span>\n  );\n};\n\nexport default withStaticProps(Counter, {\n  sizes: CounterSize,\n  colors: CounterColor,\n  kinds: CounterType\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}