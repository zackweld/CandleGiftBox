{"ast":null,"code":"import { slicedToArray as e } from \"../../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport t, { forwardRef as r, useRef as a, useState as i, useEffect as n, useCallback as o } from \"react\";\nimport s from \"../../../hooks/useMergeRef.js\";\nimport l from \"../../../hooks/usePrevious/index.js\";\nimport { getTestId as c, ComponentDefaultTestId as d } from \"../../../tests/testIds.js\";\nvar m = r(function (r, m) {\n  var u = r.className,\n    f = r.id,\n    p = r.activeTabId,\n    v = void 0 === p ? 0 : p,\n    T = r.children,\n    b = r[\"data-testid\"],\n    h = a(null),\n    g = s(m, h),\n    j = i(v),\n    C = e(j, 2),\n    E = C[0],\n    I = C[1],\n    y = i(v),\n    N = e(y, 2),\n    P = N[0],\n    _ = N[1],\n    k = l(v);\n  n(function () {\n    v !== k && v !== P && (I(P), _(v));\n  }, [v, P, k]);\n  var x = o(function (e) {\n    I(P), _(e);\n  }, [P]);\n  return t.createElement(\"div\", {\n    ref: g,\n    className: u,\n    id: f,\n    \"data-testid\": b || c(d.TABS_CONTEXT, f)\n  }, t.Children.map(T, function (e) {\n    if (e.type.isTabList) {\n      var r = e.props.onTabChange;\n      return t.cloneElement(e, {\n        activeTabId: P,\n        onTabChange: function (e) {\n          x(e), null == r || r(e);\n        }\n      });\n    }\n    return e.type.isTabPanels ? t.cloneElement(e, {\n      activeTabId: P,\n      animationDirection: P > E ? \"ltr\" : \"rtl\"\n    }) : e;\n  }));\n});\nexport { m as default };","map":{"version":3,"names":["m","r","u","className","f","id","p","activeTabId","v","T","children","b","h","a","g","s","j","i","C","e","E","I","y","N","P","_","k","l","n","x","o","t","createElement","ref","c","d","TABS_CONTEXT","Children","map","type","isTabList","props","onTabChange","cloneElement","isTabPanels","animationDirection","default"],"sources":["/Users/zacharyweld/Documents/Code/CandleGiftBox/interview-apps/apps/start-order/client/node_modules/monday-ui-react-core/src/components/Tabs/TabsContext/TabsContext.tsx"],"sourcesContent":["import React, { FC, forwardRef, ReactElement, useCallback, useEffect, useRef, useState } from \"react\";\nimport useMergeRef from \"../../../hooks/useMergeRef\";\nimport usePrevious from \"../../../hooks/usePrevious\";\nimport VibeComponentProps from \"../../../types/VibeComponentProps\";\nimport { ComponentDefaultTestId, getTestId } from \"../../../tests/test-ids-utils\";\n\nexport interface TabsContextProps extends VibeComponentProps {\n  activeTabId?: number;\n  children?: ReactElement | ReactElement[];\n}\n\ntype TabsChild = ReactElement & {\n  type: Record<string, unknown>;\n};\n\nconst TabsContext: FC<TabsContextProps> = forwardRef(\n  ({ className, id, activeTabId = 0, children, \"data-testid\": dataTestId }, ref) => {\n    const componentRef = useRef(null);\n    const mergedRef = useMergeRef(ref, componentRef);\n\n    const [previousActiveTabIdState, setPreviousActiveTabIdState] = useState(activeTabId);\n    const [activeTabIdState, setActiveTabIdState] = useState(activeTabId);\n    const prevActiveTabIdProp = usePrevious(activeTabId);\n\n    useEffect(() => {\n      // Update active tab if changed from props\n      if (activeTabId !== prevActiveTabIdProp && activeTabId !== activeTabIdState) {\n        setPreviousActiveTabIdState(activeTabIdState);\n        setActiveTabIdState(activeTabId);\n      }\n    }, [activeTabId, activeTabIdState, prevActiveTabIdProp]);\n\n    const onTabClick = useCallback(\n      (tabId: number) => {\n        setPreviousActiveTabIdState(activeTabIdState);\n        setActiveTabIdState(tabId);\n      },\n      [activeTabIdState]\n    );\n\n    return (\n      <div\n        ref={mergedRef}\n        className={className}\n        id={id}\n        data-testid={dataTestId || getTestId(ComponentDefaultTestId.TABS_CONTEXT, id)}\n      >\n        {React.Children.map(children, (child: TabsChild) => {\n          if (child.type.isTabList) {\n            const originalOnTabChange = child.props.onTabChange;\n            const onTabChange = (tabId: number) => {\n              onTabClick(tabId);\n              originalOnTabChange?.(tabId);\n            };\n            return React.cloneElement(child, { activeTabId: activeTabIdState, onTabChange });\n          }\n          if (child.type.isTabPanels) {\n            const animationDirection = previousActiveTabIdState < activeTabIdState ? \"ltr\" : \"rtl\";\n            return React.cloneElement(child, { activeTabId: activeTabIdState, animationDirection });\n          }\n          return child;\n        })}\n      </div>\n    );\n  }\n);\n\nexport default TabsContext;\n"],"mappings":";;;;;AAeM,IAAAA,CAAA,GAAoCC,CAAA,CACxC,UAAAA,CAAA,EAA0ED,CAAA;EAAO,IAA9EE,CAAA,GAASD,CAAA,CAATE,SAAA;IAAWC,CAAA,GAAEH,CAAA,CAAFI,EAAA;IAAEC,CAAA,GAAAL,CAAA,CAAEM,WAAA;IAAAC,CAAA,QAAc,MAAHF,CAAA,GAAG,IAACA,CAAA;IAAEG,CAAA,GAAQR,CAAA,CAARS,QAAA;IAAyBC,CAAA,GAAUV,CAAA,CAAzB;IACrCW,CAAA,GAAeC,CAAA,CAAO;IACtBC,CAAA,GAAYC,CAAA,CAAYf,CAAA,EAAKY,CAAA;IAEnCI,CAAA,GAAgEC,CAAA,CAAST,CAAA;IAAYU,CAAA,GAAAC,CAAA,CAAAH,CAAA;IAA9EI,CAAA,GAAwBF,CAAA;IAAEG,CAAA,GAA2BH,CAAA;IAC5DI,CAAA,GAAgDL,CAAA,CAAST,CAAA;IAAYe,CAAA,GAAAJ,CAAA,CAAAG,CAAA;IAA9DE,CAAA,GAAgBD,CAAA;IAAEE,CAAA,GAAmBF,CAAA;IACtCG,CAAA,GAAsBC,CAAA,CAAYnB,CAAA;EAExCoB,CAAA,CAAU;IAEJpB,CAAA,KAAgBkB,CAAA,IAAuBlB,CAAA,KAAgBgB,CAAA,KACzDH,CAAA,CAA4BG,CAAA,GAC5BC,CAAA,CAAoBjB,CAAA,EAEvB;EAAA,GAAE,CAACA,CAAA,EAAagB,CAAA,EAAkBE,CAAA;EAEnC,IAAMG,CAAA,GAAaC,CAAA,CACjB,UAACX,CAAA;IACCE,CAAA,CAA4BG,CAAA,GAC5BC,CAAA,CAAoBN,CAAA,CACtB;EAAA,GACA,CAACK,CAAA;EAGH,OACEO,CAAA,CACEC,aAAA;IAAAC,GAAA,EAAKnB,CAAA;IACLX,SAAA,EAAWD,CAAA;IACXG,EAAA,EAAID,CAAA;IACS,eAAAO,CAAA,IAAcuB,CAAA,CAAUC,CAAA,CAAuBC,YAAA,EAAchC,CAAA;EAAA,GAEzE2B,CAAA,CAAMM,QAAA,CAASC,GAAA,CAAI7B,CAAA,EAAU,UAACU,CAAA;IAC7B,IAAIA,CAAA,CAAMoB,IAAA,CAAKC,SAAA,EAAW;MACxB,IAAMvC,CAAA,GAAsBkB,CAAA,CAAMsB,KAAA,CAAMC,WAAA;MAKxC,OAAOX,CAAA,CAAMY,YAAA,CAAaxB,CAAA,EAAO;QAAEZ,WAAA,EAAaiB,CAAA;QAAkBkB,WAAA,EAJ9C,SAAAA,CAACvB,CAAA;UACnBU,CAAA,CAAWV,CAAA,GACX,QAAAlB,CAAA,IAAAA,CAAA,CAAsBkB,CAAA;QAAA;MAAA,EAGzB;IAAA;IACD,OAAIA,CAAA,CAAMoB,IAAA,CAAKK,WAAA,GAENb,CAAA,CAAMY,YAAA,CAAaxB,CAAA,EAAO;MAAEZ,WAAA,EAAaiB,CAAA;MAAkBqB,kBAAA,EADZrB,CAAA,GAA3BJ,CAAA,GAA8C,QAAQ;IAAA,KAG5ED,CACR;EAAA,GAGP;AAAA;AAAA,SAAAnB,CAAA,IAAA8C,OAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}