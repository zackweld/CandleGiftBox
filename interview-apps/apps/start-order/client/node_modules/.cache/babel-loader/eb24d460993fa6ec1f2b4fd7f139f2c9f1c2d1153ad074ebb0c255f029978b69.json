{"ast":null,"code":"import { defineProperty as o } from \"../../../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport e from \"classnames\";\nimport t, { useRef as n, useEffect as i, useCallback as r, useMemo as l } from \"react\";\nimport s from \"../../../Icon/Icon.js\";\nimport c from \"../../../Tooltip/Tooltip.js\";\nimport a from \"../../../../hooks/useIsOverflowing/useIsOverflowing.js\";\nimport { keyCodes as m } from \"../../../../constants/keyCodes.js\";\nimport { getOptionId as p } from \"../../helpers.js\";\nimport { withStaticProps as u } from \"../../../../types/withStaticProps.js\";\nimport { ComboboxOptionIconType as f } from \"../ComboboxConstants.js\";\nimport { getTestId as d, ComponentDefaultTestId as v } from \"../../../../tests/testIds.js\";\nimport b from \"./ComboboxOption.module.scss.js\";\nvar O = u(function (u) {\n  var O = u.index,\n    y = u.option,\n    I = u.className,\n    h = u.isActive,\n    E = u.visualFocus,\n    T = u.scrollRef,\n    g = u.scrollOffset,\n    C = void 0 === g ? 100 : g,\n    j = u.onOptionClick,\n    N = u.onOptionLeave,\n    k = u.onOptionHover,\n    R = u.optionLineHeight,\n    S = u.shouldScrollWhenActive,\n    w = void 0 === S || S,\n    x = u.optionRenderer,\n    L = void 0 === x ? null : x,\n    P = y.id,\n    F = y.leftIcon,\n    _ = y.leftIconType,\n    A = y.rightIcon,\n    B = y.rightIconType,\n    H = y.label,\n    M = y.iconSize,\n    z = void 0 === M ? 18 : M,\n    D = y.disabled,\n    K = y.selected,\n    V = y.ariaLabel,\n    W = y.belongToCategory,\n    X = void 0 !== W && W,\n    q = y.tooltipContent,\n    G = n(null),\n    J = n(),\n    Q = a({\n      ref: J\n    });\n  i(function () {\n    var o,\n      e = G.current;\n    E && e && w && ((null == T ? void 0 : T.current) && e ? T.current.scrollTop = e.offsetTop - C : null === (o = null == e ? void 0 : e.scrollIntoView) || void 0 === o || o.call(e, {\n      behaviour: \"smooth\"\n    }));\n  }, [G, E, w, T, C, X]);\n  var U = function (o, n, i) {\n      return n === f.RENDERER ? o(e(b.optionIcon, i)) : t.createElement(s, {\n        className: e(b.optionIcon, i),\n        iconType: s.type.ICON_FONT,\n        clickable: !1,\n        icon: o,\n        iconSize: z,\n        ignoreFocusStyle: !0\n      });\n    },\n    Y = r(function (o) {\n      j(o, O, y, !0);\n    }, [O, y, j]),\n    Z = r(function (o) {\n      D || N(o, O, y, !0);\n    }, [O, y, N, D]),\n    $ = r(function (o) {\n      D || k(o, O, y, !0);\n    }, [O, y, k, D]),\n    oo = r(function (o) {\n      o.key !== m.ENTER && o.key !== m.SPACE || j(o, O, y, !1);\n    }, [j, O, y]);\n  q || (q = Q ? H : null);\n  var eo = l(function () {\n      return L && L(y);\n    }, [L, y]),\n    to = t.createElement(t.Fragment, null, F && U(F, _, b.left), t.createElement(\"div\", {\n      ref: J,\n      className: e(b.optionLabel)\n    }, H), A && U(A, B, \"\"));\n  return t.createElement(c, {\n    content: q\n  }, t.createElement(\"div\", {\n    ref: G,\n    key: P || H,\n    \"aria-level\": X ? 2 : 1,\n    \"aria-selected\": h,\n    \"aria-label\": V || H,\n    id: p(P, O),\n    \"data-testid\": d(v.COMBOBOX_OPTION, O),\n    onMouseEnter: $,\n    onClick: Y,\n    onKeyDown: oo,\n    onMouseLeave: Z,\n    className: e(b.comboboxOption, I, o(o(o(o({}, b.disabled, D), b.selected, K), b.active, h), b.activeOutline, E)),\n    style: {\n      height: R\n    }\n  }, eo || to));\n}, {\n  iconTypes: f\n});\nexport { O as default };","map":{"version":3,"names":["O","u","index","y","option","I","className","h","isActive","E","visualFocus","T","scrollRef","g","scrollOffset","C","j","onOptionClick","N","onOptionLeave","k","onOptionHover","R","optionLineHeight","S","shouldScrollWhenActive","w","x","optionRenderer","L","P","id","F","leftIcon","_","leftIconType","A","rightIcon","B","rightIconType","H","label","M","iconSize","z","D","disabled","K","selected","V","ariaLabel","W","belongToCategory","X","q","tooltipContent","G","n","J","Q","a","ref","i","o","e","current","scrollTop","offsetTop","scrollIntoView","call","behaviour","U","renderIcon","f","RENDERER","b","optionIcon","t","createElement","s","iconType","type","ICON_FONT","clickable","icon","ignoreFocusStyle","Y","r","Z","$","oo","key","m","ENTER","SPACE","eo","l","to","Fragment","left","optionLabel","c","content","p","d","v","COMBOBOX_OPTION","onMouseEnter","onClick","onKeyDown","onMouseLeave","comboboxOption","active","activeOutline","style","height","iconTypes","default"],"sources":["/Users/zacharyweld/Documents/Code/CandleGiftBoxDemo/CandleGiftBox/interview-apps/apps/start-order/client/node_modules/monday-ui-react-core/src/components/Combobox/components/ComboboxOption/ComboboxOption.tsx"],"sourcesContent":["import cx from \"classnames\";\nimport React, { RefObject, useCallback, useEffect, useMemo, useRef } from \"react\";\nimport Icon from \"../../../Icon/Icon\";\nimport Tooltip from \"../../../Tooltip/Tooltip\";\nimport useIsOverflowing from \"../../../../hooks/useIsOverflowing/useIsOverflowing\";\nimport { keyCodes } from \"../../../../constants/keyCodes\";\nimport { getOptionId } from \"../../helpers\";\nimport { SubIcon, withStaticProps } from \"../../../../types\";\nimport { ComboboxOptionIconType, IComboboxOption, IComboboxOptionEvents } from \"../ComboboxConstants\";\nimport { ComponentDefaultTestId, getTestId } from \"../../../../tests/test-ids-utils\";\nimport styles from \"./ComboboxOption.module.scss\";\n\nexport interface ComboboxOptionProps extends IComboboxOptionEvents {\n  index?: number;\n  option?: IComboboxOption;\n  className?: string;\n  isActive?: boolean;\n  visualFocus?: boolean;\n  scrollRef?: RefObject<HTMLElement>;\n  scrollOffset?: number;\n  optionLineHeight?: number;\n  shouldScrollWhenActive?: boolean;\n  optionRenderer?: (option: IComboboxOption) => JSX.Element;\n}\n\nconst ComboboxOption: React.FC<ComboboxOptionProps> & { iconTypes?: typeof ComboboxOptionIconType } = ({\n  index,\n  option,\n  className,\n  isActive,\n  visualFocus,\n  scrollRef,\n  scrollOffset = 100,\n  onOptionClick,\n  onOptionLeave,\n  onOptionHover,\n  optionLineHeight,\n  shouldScrollWhenActive = true,\n  optionRenderer = null\n}) => {\n  const {\n    id,\n    leftIcon,\n    leftIconType,\n    rightIcon,\n    rightIconType,\n    label,\n    iconSize = 18,\n    disabled,\n    selected,\n    ariaLabel,\n    belongToCategory = false\n  } = option;\n  let { tooltipContent } = option;\n\n  const ref = useRef(null);\n  const labelRef = useRef();\n\n  const isOptionOverflowing = useIsOverflowing({ ref: labelRef });\n\n  useEffect(() => {\n    const element = ref.current;\n    if (visualFocus && element && shouldScrollWhenActive) {\n      if (scrollRef?.current && element) {\n        // not supported with virtualized atm, need their scrollRef (element with overflow-y auto that has the scroll)\n        scrollRef.current.scrollTop = element.offsetTop - scrollOffset;\n      } else {\n        element?.scrollIntoView?.({ behaviour: \"smooth\" });\n      }\n    }\n  }, [ref, visualFocus, shouldScrollWhenActive, scrollRef, scrollOffset, belongToCategory]);\n\n  const renderIcon = (\n    icon: SubIcon | ((className: string) => JSX.Element),\n    iconType: ComboboxOptionIconType,\n    className: string\n  ) => {\n    if (iconType === ComboboxOptionIconType.RENDERER) {\n      return (icon as (className: string) => JSX.Element)(cx(styles.optionIcon, className));\n    }\n\n    return (\n      <Icon\n        className={cx(styles.optionIcon, className)}\n        iconType={Icon.type.ICON_FONT}\n        clickable={false}\n        icon={icon as SubIcon}\n        iconSize={iconSize}\n        ignoreFocusStyle\n      />\n    );\n  };\n\n  const onClick = useCallback(\n    (event: React.MouseEvent) => {\n      onOptionClick(event, index, option, true);\n    },\n    [index, option, onOptionClick]\n  );\n\n  const onMouseLeave = useCallback(\n    (event: React.MouseEvent) => {\n      if (disabled) return;\n      onOptionLeave(event, index, option, true);\n    },\n    [index, option, onOptionLeave, disabled]\n  );\n\n  const onMouseEnter = useCallback(\n    (event: React.MouseEvent) => {\n      if (disabled) return;\n      onOptionHover(event, index, option, true);\n    },\n    [index, option, onOptionHover, disabled]\n  );\n\n  const onKeyDown = useCallback(\n    (event: React.KeyboardEvent) => {\n      if (event.key === keyCodes.ENTER || event.key === keyCodes.SPACE) {\n        onOptionClick(event, index, option, false);\n      }\n    },\n    [onOptionClick, index, option]\n  );\n  if (!tooltipContent) {\n    tooltipContent = isOptionOverflowing ? label : null;\n  }\n\n  const optionRendererValue = useMemo(() => optionRenderer && optionRenderer(option), [optionRenderer, option]);\n\n  const optionValue = (\n    <>\n      {leftIcon && renderIcon(leftIcon, leftIconType, styles.left)}\n      <div ref={labelRef} className={cx(styles.optionLabel)}>\n        {label}\n      </div>\n      {rightIcon && renderIcon(rightIcon, rightIconType, \"\")}\n    </>\n  );\n\n  return (\n    <Tooltip content={tooltipContent}>\n      <div\n        ref={ref}\n        key={id || label}\n        aria-level={belongToCategory ? 2 : 1}\n        aria-selected={isActive}\n        aria-label={ariaLabel || label}\n        id={getOptionId(id, index)}\n        data-testid={getTestId(ComponentDefaultTestId.COMBOBOX_OPTION, index)}\n        onMouseEnter={onMouseEnter}\n        onClick={onClick}\n        onKeyDown={onKeyDown}\n        onMouseLeave={onMouseLeave}\n        className={cx(styles.comboboxOption, className, {\n          [styles.disabled]: disabled,\n          [styles.selected]: selected,\n          [styles.active]: isActive,\n          [styles.activeOutline]: visualFocus\n        })}\n        style={{ height: optionLineHeight }}\n      >\n        {optionRendererValue || optionValue}\n      </div>\n    </Tooltip>\n  );\n};\n\nexport default withStaticProps(ComboboxOption, { iconTypes: ComboboxOptionIconType });\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}