{"ast":null,"code":"import { slicedToArray as t } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport e from \"classnames\";\nimport i, { forwardRef as r, useState as o, useMemo as n, useRef as l, useCallback as a, useEffect as s } from \"react\";\nimport { noop as c } from \"lodash-es\";\nimport { VariableSizeList as u } from \"react-window\";\nimport f from \"react-virtualized-auto-sizer\";\nimport m from \"../../hooks/usePrevious/index.js\";\nimport d from \"../../hooks/useThrottledCallback.js\";\nimport v from \"../../hooks/useMergeRef.js\";\nimport { getNormalizedItems as h, getMaxOffset as p, easeInOutQuint as I, getOnItemsRenderedData as S, isLayoutDirectionScrollbarVisible as g } from \"../../services/virtualized-service.js\";\nimport { getTestId as T } from \"../../tests/testIds.js\";\nimport { ComponentDefaultTestId as z } from \"../../tests/constants.js\";\nimport O from \"./VirtualizedList.module.scss.js\";\nvar b = r(function (r, b) {\n  var y = r.className,\n    C = r.id,\n    j = r.items,\n    R = void 0 === j ? [] : j,\n    w = r.itemRenderer,\n    F = void 0 === w ? function (t, e, i) {\n      return t;\n    } : w,\n    x = r.getItemHeight,\n    L = void 0 === x ? function (t, e) {\n      return t.height;\n    } : x,\n    V = r.getItemSize,\n    k = void 0 === V ? null : V,\n    A = r.layout,\n    D = void 0 === A ? \"vertical\" : A,\n    E = r.onScroll,\n    M = r.overscanCount,\n    N = void 0 === M ? 0 : M,\n    U = r.getItemId,\n    _ = void 0 === U ? function (t, e) {\n      return t.id;\n    } : U,\n    q = r.scrollToId,\n    H = r.scrollDuration,\n    P = void 0 === H ? 200 : H,\n    W = r.onScrollToFinished,\n    B = void 0 === W ? c : W,\n    Z = r.onItemsRendered,\n    G = r.onItemsRenderedThrottleMs,\n    J = void 0 === G ? 200 : G,\n    K = r.onSizeUpdate,\n    Q = void 0 === K ? c : K,\n    X = r.onVerticalScrollbarVisiblityChange,\n    Y = void 0 === X ? null : X,\n    $ = r.onLayoutDirectionScrollbarVisibilityChange,\n    tt = void 0 === $ ? null : $,\n    et = r.virtualListRef,\n    it = r.scrollableClassName,\n    rt = r.role,\n    ot = r.style,\n    nt = r[\"data-testid\"],\n    lt = o(0),\n    at = t(lt, 2),\n    st = at[0],\n    ct = at[1],\n    ut = o(0),\n    ft = t(ut, 2),\n    mt = ft[0],\n    dt = ft[1],\n    vt = \"horizontal\" !== D,\n    ht = n(function () {\n      return vt ? st : mt;\n    }, [vt, st, mt]),\n    pt = m(q),\n    It = l(null),\n    St = l(null),\n    gt = l(null),\n    Tt = l(0),\n    zt = l({\n      initialized: !1,\n      scrollOffsetInitial: 0,\n      scrollOffsetFinal: 0,\n      animationStartTime: 0\n    }),\n    Ot = v(b, It),\n    bt = v(et, gt),\n    yt = zt.current;\n  yt.initialized || (yt.initialized = !0, yt.scrollOffsetInitial = 0, yt.scrollOffsetFinal = 0, yt.animationStartTime = 0);\n  var Ct = a(function (t, e) {\n      var i = (k || L)(t, e);\n      return void 0 === i && console.error(\"Couldn't get height for item: \", t), i;\n    }, [L, k]),\n    jt = a(function (t, e) {\n      var i = _(t, e);\n      return void 0 === i && console.error(\"Couldn't get id for item: \", t), i;\n    }, [_]),\n    Rt = n(function () {\n      return h(R, jt, Ct);\n    }, [R, jt, Ct]),\n    wt = n(function () {\n      return p(ht, Rt);\n    }, [ht, Rt]),\n    Ft = a(function (t) {\n      var e = t.scrollDirection,\n        i = t.scrollOffset,\n        r = t.scrollUpdateWasRequested;\n      Tt.current = i, r || (yt.scrollOffsetInitial = i), E && E(e, i, r);\n    }, [E, Tt, yt]),\n    xt = a(function () {\n      requestAnimationFrame(function () {\n        var t,\n          e = performance.now() - yt.animationStartTime,\n          i = yt.scrollOffsetFinal - yt.scrollOffsetInitial,\n          r = I(Math.min(1, e / P)),\n          o = Math.min(wt, yt.scrollOffsetInitial + i * r);\n        Tt.current = o, null === (t = gt.current) || void 0 === t || t.scrollTo(o), P > e ? xt() : (yt.animationStartTime = void 0, B && B());\n      });\n    }, [P, yt, gt, wt, B]),\n    Lt = a(function (t) {\n      var e = t.offsetTop;\n      yt.animationStartTime ? yt.scrollOffsetFinal = e : yt.scrollOffsetInitial !== e ? (yt.scrollOffsetFinal = e, yt.animationStartTime = performance.now(), xt()) : B && B();\n    }, [yt, xt, B]),\n    Vt = a(function (t) {\n      var e = t.index;\n      return F(R[e], e, t.style);\n    }, [R, F]),\n    kt = a(function (t) {\n      return Ct(R[t], t);\n    }, [R, Ct]),\n    At = a(function (t, e) {\n      e === st && t === mt || setTimeout(function () {\n        ct(e), dt(t), Q(t, e);\n      }, 0);\n    }, [st, mt, Q]),\n    Dt = d(function (t) {\n      if (Z) {\n        var e = S(R, Rt, jt, t.visibleStartIndex, t.visibleStopIndex, ht, Tt.current);\n        Z(e);\n      }\n    }, {\n      wait: J,\n      trailing: !0\n    }, [Z, R, Rt, jt, ht]);\n  return s(function () {\n    if (q && pt !== q) {\n      var t = g(R, Rt, jt, ht),\n        e = Rt[q];\n      t && e && Lt(e);\n    }\n  }, [pt, q, Lt, Rt, R, jt, ht]), s(function () {\n    gt.current && gt.current.resetAfterIndex(0);\n  }, [Rt]), s(function () {\n    var t = tt || Y;\n    if (t) {\n      var e = g(R, Rt, jt, ht);\n      St.current !== e && (St.current = e, t(e));\n    }\n  }, [tt, Y, R, Rt, ht, jt]), i.createElement(\"div\", {\n    ref: Ot,\n    className: e(O.virtualizedListWrapper, y),\n    id: C,\n    role: rt,\n    \"data-testid\": nt || T(z.VIRTUALIZED_LIST, C),\n    style: ot\n  }, i.createElement(f, null, function (t) {\n    var e = t.height,\n      r = t.width;\n    return At(r, e), i.createElement(u, {\n      ref: bt,\n      height: e,\n      width: r,\n      itemCount: R.length,\n      itemSize: kt,\n      onScroll: Ft,\n      layout: D,\n      overscanCount: N,\n      onItemsRendered: Dt,\n      className: it\n    }, Vt);\n  }));\n});\nexport { b as default };","map":{"version":3,"names":["b","r","y","className","C","id","j","items","R","w","itemRenderer","F","t","e","i","x","getItemHeight","L","height","V","getItemSize","k","A","layout","D","E","onScroll","M","overscanCount","N","U","getItemId","_","q","scrollToId","H","scrollDuration","P","W","onScrollToFinished","B","c","Z","onItemsRendered","G","onItemsRenderedThrottleMs","J","K","onSizeUpdate","Q","X","onVerticalScrollbarVisiblityChange","Y","$","onLayoutDirectionScrollbarVisibilityChange","tt","et","virtualListRef","it","scrollableClassName","rt","role","ot","style","nt","lt","o","at","st","ct","ut","ft","mt","dt","vt","ht","n","pt","m","It","l","St","gt","Tt","zt","initialized","scrollOffsetInitial","scrollOffsetFinal","animationStartTime","Ot","v","bt","yt","current","Ct","a","console","error","jt","Rt","h","wt","p","Ft","scrollDirection","scrollOffset","scrollUpdateWasRequested","xt","requestAnimationFrame","performance","now","I","Math","min","scrollTo","Lt","offsetTop","Vt","index","kt","At","setTimeout","Dt","d","S","visibleStartIndex","visibleStopIndex","wait","trailing","s","g","resetAfterIndex","createElement","ref","O","virtualizedListWrapper","T","z","VIRTUALIZED_LIST","f","width","u","itemCount","length","itemSize","default"],"sources":["/Users/zacharyweld/Documents/Code/CandleGiftBoxDemo/CandleGiftBox/interview-apps/apps/start-order/client/node_modules/monday-ui-react-core/src/components/VirtualizedList/VirtualizedList.tsx"],"sourcesContent":["import cx from \"classnames\";\nimport React, {\n  CSSProperties,\n  ForwardedRef,\n  forwardRef,\n  LegacyRef,\n  ReactElement,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState\n} from \"react\";\nimport { noop as NOOP } from \"lodash-es\";\nimport {\n  Layout,\n  ScrollDirection,\n  VariableSizeList as List,\n  ListOnItemsRenderedProps,\n  ListChildComponentProps,\n  VariableSizeList\n} from \"react-window\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport usePrevious from \"../../hooks/usePrevious\";\nimport useThrottledCallback from \"../../hooks/useThrottledCallback\";\nimport useMergeRef from \"../../hooks/useMergeRef\";\nimport {\n  easeInOutQuint,\n  getMaxOffset,\n  getNormalizedItems,\n  getOnItemsRenderedData,\n  isLayoutDirectionScrollbarVisible\n} from \"../../services/virtualized-service\";\nimport { getTestId } from \"../../tests/test-ids-utils\";\nimport { ComponentDefaultTestId } from \"../../tests/constants\";\nimport VibeComponentProps from \"src/types/VibeComponentProps\";\nimport VibeComponent from \"../../types/VibeComponent\";\nimport styles from \"./VirtualizedList.module.scss\";\n\nexport type VirtualizedListItem = {\n  value?: string | Record<string, unknown>;\n  height?: number;\n  width?: number;\n  id?: string;\n  offsetTop?: number;\n};\n\nexport interface VirtualizedListProps extends VibeComponentProps {\n  /**\n   * class name to add to the component scrollable container\n   */\n  scrollableClassName?: string;\n  /**\n   * Layout/orientation of the list.\n   * Acceptable values are:\n   * - \"vertical\" (default) - Up/down scrolling.\n   * - \"horizontal\" - Left/right scrolling.\n   */\n  layout?: Layout;\n  /**\n   * A list of items to be rendered\n   */\n  items: VirtualizedListItem[];\n  /**\n   * Will return the element which represent an item in the virtualized list.\n   * Returns `JSX.Element`\n   * @param item - item data\n   * @param _index - item index\n   * @param style - item style, must be injected to the item element wrapper for correct presentation of the item\n   */\n  itemRenderer: (item: VirtualizedListItem, index: number, style: CSSProperties) => ReactElement | JSX.Element;\n  /**\n   * Deprecated - use getItemSize\n   * in order to calculate the number of items to render, the component needs the height of the items\n   * return `number`\n   */\n  getItemHeight?: (item: VirtualizedListItem, index: number) => number;\n  /**\n   * in order to calculate the number of items to render, the component needs the width/height of the items (according to layout)\n   * return `number`\n   */\n  getItemSize?: (item: VirtualizedListItem, index: number) => number;\n  /**\n   * returns Id of an items\n   * returns `string`\n   */\n  getItemId?: (item: VirtualizedListItem, index: number) => string;\n  /**\n   * callback to be called when the scroll is finished\n   */\n  onScrollToFinished?: () => void;\n  /**\n   * number of items to render (below/above the fold)\n   */\n  overscanCount?: number;\n  /**\n   * the speed of the scroll (in ms)\n   */\n  scrollDuration?: number;\n  /**\n   * a callback that is being called when the items are rendered\n   */\n  onItemsRendered?: ({\n    firstItemId,\n    secondItemId,\n    lastItemId,\n    centerItemId,\n    firstItemOffsetEnd,\n    currentOffsetTop\n  }: {\n    firstItemId: string;\n    secondItemId: string;\n    lastItemId: string;\n    centerItemId: string;\n    firstItemOffsetEnd: number;\n    currentOffsetTop: number;\n  }) => void;\n  onItemsRenderedThrottleMs?: number;\n  /**\n   * when the list size changes - `=> (width, height)`\n   */\n  onSizeUpdate?: (width: number, height: number) => void;\n  /**\n   * Deprecated - use onLayoutDirectionScrollbarVisibilityChange\n   */\n  onVerticalScrollbarVisiblityChange?: (value: boolean) => void;\n  /**\n   * Callback - called when the vertical/horizontal (depends on layout) scrollbar visibility changed\n   */\n  onLayoutDirectionScrollbarVisibilityChange?: (value: boolean) => void;\n  role?: string;\n  /** Custom style to pass to the component */\n  style?: CSSProperties;\n  /**\n   * index of the item to scroll to\n   */\n  scrollToId?: string;\n  virtualListRef?: ForwardedRef<HTMLElement>;\n  onScroll?: (horizontalScrollDirection: ScrollDirection, scrollTop: number, scrollUpdateWasRequested: boolean) => void;\n}\n\nconst VirtualizedList: VibeComponent<VirtualizedListProps> = forwardRef(\n  (\n    {\n      className,\n      id,\n      items = [],\n      itemRenderer = (item: VirtualizedListItem, _index: number, _style: CSSProperties) => item,\n      getItemHeight = (item: VirtualizedListItem, _index: number) => item.height,\n      getItemSize = null, // must be null for backward compatibility\n      layout = \"vertical\",\n      onScroll,\n      overscanCount = 0,\n      getItemId = (item: VirtualizedListItem, _index: number) => item.id,\n      scrollToId,\n      scrollDuration = 200,\n      onScrollToFinished = NOOP,\n      onItemsRendered,\n      onItemsRenderedThrottleMs = 200,\n      onSizeUpdate = NOOP,\n      onVerticalScrollbarVisiblityChange = null,\n      onLayoutDirectionScrollbarVisibilityChange = null,\n      virtualListRef,\n      scrollableClassName,\n      role,\n      style,\n      \"data-testid\": dataTestId\n    },\n    ref\n  ) => {\n    // states\n    const [listHeight, setListHeight] = useState(0);\n    const [listWidth, setListWidth] = useState(0);\n\n    const isVerticalList = layout !== \"horizontal\";\n    const listSizeByLayout = useMemo(() => {\n      return isVerticalList ? listHeight : listWidth;\n    }, [isVerticalList, listHeight, listWidth]);\n\n    // prevs\n    const prevScrollToId = usePrevious(scrollToId);\n\n    // Refs\n    const componentRef = useRef(null);\n    const isVerticalScrollbarVisibleRef = useRef(null);\n    const listRef = useRef(null);\n    const scrollTopRef = useRef(0);\n    const animationDataRef = useRef({\n      initialized: false,\n      scrollOffsetInitial: 0,\n      scrollOffsetFinal: 0,\n      animationStartTime: 0\n    });\n    const mergedRef = useMergeRef(ref, componentRef);\n    const mergedListRef = useMergeRef(virtualListRef, listRef);\n\n    const animationData = animationDataRef.current;\n    if (!animationData.initialized) {\n      animationData.initialized = true;\n      animationData.scrollOffsetInitial = 0;\n      animationData.scrollOffsetFinal = 0;\n      animationData.animationStartTime = 0;\n    }\n\n    // Callbacks\n    const sizeGetter = useCallback(\n      (item: VirtualizedListItem, index: number) => {\n        const getSize = getItemSize || getItemHeight;\n        const height = getSize(item, index);\n        if (height === undefined) {\n          console.error(\"Couldn't get height for item: \", item);\n        }\n        return height;\n      },\n      [getItemHeight, getItemSize]\n    );\n\n    const idGetter = useCallback(\n      (item: VirtualizedListItem, index: number) => {\n        const itemId = getItemId(item, index);\n        if (itemId === undefined) {\n          console.error(\"Couldn't get id for item: \", item);\n        }\n        return itemId;\n      },\n      [getItemId]\n    );\n\n    // Memos\n    // Creates object of itemId => { item, index, size, offsetTop}\n    const normalizedItems = useMemo(() => {\n      return getNormalizedItems(items, idGetter, sizeGetter);\n    }, [items, idGetter, sizeGetter]);\n\n    const maxListOffset = useMemo(() => {\n      return getMaxOffset(listSizeByLayout, normalizedItems);\n    }, [listSizeByLayout, normalizedItems]);\n\n    // Callbacks\n    const onScrollCB = useCallback(\n      ({\n        scrollDirection,\n        scrollOffset,\n        scrollUpdateWasRequested\n      }: {\n        scrollDirection: ScrollDirection;\n        scrollOffset: number;\n        scrollUpdateWasRequested: boolean;\n      }) => {\n        scrollTopRef.current = scrollOffset;\n        if (!scrollUpdateWasRequested) {\n          animationData.scrollOffsetInitial = scrollOffset;\n        }\n        onScroll && onScroll(scrollDirection, scrollOffset, scrollUpdateWasRequested);\n      },\n      [onScroll, scrollTopRef, animationData]\n    );\n\n    const animateScroll = useCallback(() => {\n      requestAnimationFrame(() => {\n        const now = performance.now();\n        const ellapsed = now - animationData.animationStartTime;\n        const scrollDelta = animationData.scrollOffsetFinal - animationData.scrollOffsetInitial;\n        const easedTime = easeInOutQuint(Math.min(1, ellapsed / scrollDuration));\n        const scrollOffset = animationData.scrollOffsetInitial + scrollDelta * easedTime;\n        const finalOffsetValue = Math.min(maxListOffset, scrollOffset);\n        scrollTopRef.current = finalOffsetValue;\n        listRef.current?.scrollTo(finalOffsetValue);\n\n        if (ellapsed < scrollDuration) {\n          animateScroll();\n        } else {\n          animationData.animationStartTime = undefined;\n          onScrollToFinished && onScrollToFinished();\n        }\n      });\n    }, [scrollDuration, animationData, listRef, maxListOffset, onScrollToFinished]);\n\n    const startScrollAnimation = useCallback(\n      (item: VirtualizedListItem) => {\n        const { offsetTop } = item;\n        if (animationData.animationStartTime) {\n          // animation already in progress\n          animationData.scrollOffsetFinal = offsetTop;\n          return;\n        }\n        if (animationData.scrollOffsetInitial === offsetTop) {\n          // offset already equals to item offset\n          onScrollToFinished && onScrollToFinished();\n          return;\n        }\n\n        animationData.scrollOffsetFinal = offsetTop;\n        animationData.animationStartTime = performance.now();\n        animateScroll();\n      },\n      [animationData, animateScroll, onScrollToFinished]\n    );\n\n    const rowRenderer = useCallback(\n      ({ index, style }: { index: number; style: CSSProperties }) => {\n        const item = items[index];\n        return itemRenderer(item, index, style);\n      },\n      [items, itemRenderer]\n    );\n\n    const calcItemSize = useCallback(\n      (index: number) => {\n        const item = items[index];\n        return sizeGetter(item, index);\n      },\n      [items, sizeGetter]\n    );\n\n    const updateListSize = useCallback(\n      (width: number, height: number) => {\n        if (height !== listHeight || width !== listWidth) {\n          setTimeout(() => {\n            setListHeight(height);\n            setListWidth(width);\n            onSizeUpdate(width, height);\n          }, 0);\n        }\n      },\n      [listHeight, listWidth, onSizeUpdate]\n    );\n\n    const onItemsRenderedCB = useThrottledCallback(\n      ({ visibleStartIndex, visibleStopIndex }: ListOnItemsRenderedProps) => {\n        if (!onItemsRendered) return;\n        const data = getOnItemsRenderedData(\n          items,\n          normalizedItems,\n          idGetter,\n          visibleStartIndex,\n          visibleStopIndex,\n          listSizeByLayout,\n          scrollTopRef.current\n        );\n        onItemsRendered(data);\n      },\n      { wait: onItemsRenderedThrottleMs, trailing: true },\n      [onItemsRendered, items, normalizedItems, idGetter, listSizeByLayout]\n    );\n\n    // Effects\n    useEffect(() => {\n      // scroll to specific item\n      if (scrollToId && prevScrollToId !== scrollToId) {\n        const hasScrollbar = isLayoutDirectionScrollbarVisible(items, normalizedItems, idGetter, listSizeByLayout);\n        const item = normalizedItems[scrollToId as keyof typeof normalizedItems];\n        hasScrollbar && item && startScrollAnimation(item);\n      }\n    }, [prevScrollToId, scrollToId, startScrollAnimation, normalizedItems, items, idGetter, listSizeByLayout]);\n\n    useEffect(() => {\n      // recalculate row heights\n      if (listRef.current) {\n        listRef.current.resetAfterIndex(0);\n      }\n    }, [normalizedItems]);\n\n    useEffect(() => {\n      // update vertical scrollbar visibility\n      const callback = onLayoutDirectionScrollbarVisibilityChange || onVerticalScrollbarVisiblityChange;\n      if (callback) {\n        const isVisible = isLayoutDirectionScrollbarVisible(items, normalizedItems, idGetter, listSizeByLayout);\n        if (isVerticalScrollbarVisibleRef.current !== isVisible) {\n          isVerticalScrollbarVisibleRef.current = isVisible;\n          callback(isVisible);\n        }\n      }\n    }, [\n      onLayoutDirectionScrollbarVisibilityChange,\n      onVerticalScrollbarVisiblityChange,\n      items,\n      normalizedItems,\n      listSizeByLayout,\n      idGetter\n    ]);\n\n    return (\n      <div\n        ref={mergedRef}\n        className={cx(styles.virtualizedListWrapper, className)}\n        id={id}\n        role={role}\n        data-testid={dataTestId || getTestId(ComponentDefaultTestId.VIRTUALIZED_LIST, id)}\n        style={style}\n      >\n        <AutoSizer>\n          {({ height, width }: { height: number; width: number }) => {\n            updateListSize(width, height);\n            return (\n              <List\n                ref={mergedListRef as unknown as LegacyRef<VariableSizeList<unknown>>}\n                height={height}\n                width={width}\n                itemCount={items.length}\n                itemSize={calcItemSize}\n                onScroll={onScrollCB}\n                layout={layout}\n                overscanCount={overscanCount}\n                onItemsRendered={onItemsRenderedCB}\n                className={scrollableClassName}\n              >\n                {rowRenderer as VibeComponent<ListChildComponentProps>}\n              </List>\n            );\n          }}\n        </AutoSizer>\n      </div>\n    );\n  }\n);\n\nexport default VirtualizedList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}