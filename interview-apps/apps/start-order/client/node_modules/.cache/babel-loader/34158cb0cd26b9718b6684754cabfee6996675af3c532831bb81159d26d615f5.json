{"ast":null,"code":"import { slicedToArray as e, toConsumableArray as o, defineProperty as n } from \"../../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport a from \"classnames\";\nimport r, { forwardRef as i, useRef as t, useState as l, useMemo as c, useCallback as s } from \"react\";\nimport d from \"../../../hooks/useMergeRef.js\";\nimport u from \"./Accordion.module.scss.js\";\nvar m = \"monday-accordion\";\nvar p = i(function (i, p) {\n  var f = i.children,\n    v = void 0 === f ? null : f,\n    C = i.allowMultiple,\n    b = void 0 !== C && C,\n    g = i[\"data-testid\"],\n    h = void 0 === g ? m : g,\n    j = i.defaultIndex,\n    x = void 0 === j ? [] : j,\n    y = i.className,\n    A = void 0 === y ? \"\" : y,\n    E = i.id,\n    O = t(null),\n    k = d(p, O),\n    I = l(x),\n    N = e(I, 2),\n    M = N[0],\n    P = N[1],\n    _ = c(function () {\n      return r.Children.toArray(v);\n    }, [v]),\n    w = s(function (e) {\n      return M.includes(e);\n    }, [M]),\n    B = s(function (e) {\n      if (b) {\n        var n = o(M);\n        if (w(e)) {\n          var a = n.indexOf(e);\n          a > -1 && n.splice(a, 1);\n        } else n.push(e);\n        P(n);\n      } else w(e) ? P([]) : P([e]);\n    }, [w, M, b]),\n    H = c(function () {\n      return r.Children.map(_, function (e, o) {\n        var i,\n          t,\n          l,\n          c = Object.assign({}, null == e ? void 0 : e.props),\n          s = (i = o, l = E, (t = c).id ? t.id : l ? \"\".concat(l, \"--item-\").concat(i) : \"\".concat(m, \"--item-\").concat(i));\n        return r.cloneElement(e, Object.assign(Object.assign({}, c), {\n          id: s,\n          onClickAccordionCallback: function () {\n            B(o);\n          },\n          open: w(o),\n          expandCollapseComponentClassName: a(u.accordionItemExpandCollapse, n({}, u.accordionItemExpandCollapseLast, o === _.length - 1))\n        }));\n      });\n    }, [_, E, w, B]);\n  return r.createElement(\"div\", {\n    ref: k,\n    className: a(u.accordion, A),\n    \"data-testid\": h,\n    id: E\n  }, _ && H);\n});\nexport { p as default };","map":{"version":3,"names":["m","p","i","f","children","v","C","allowMultiple","b","g","h","j","defaultIndex","x","y","className","A","E","id","O","t","k","d","I","l","N","e","M","P","_","c","r","Children","toArray","w","s","includes","B","n","o","a","indexOf","splice","push","H","map","Object","assign","props","concat","cloneElement","onClickAccordionCallback","open","expandCollapseComponentClassName","u","accordionItemExpandCollapse","accordionItemExpandCollapseLast","length","createElement","ref","accordion","default"],"sources":["/Users/zacharyweld/Documents/Code/CandleGiftBoxDemo/CandleGiftBox/interview-apps/apps/start-order/client/node_modules/monday-ui-react-core/src/components/Accordion/Accordion/Accordion.tsx"],"sourcesContent":["import cx from \"classnames\";\nimport React, { forwardRef, ReactElement, useCallback, useMemo, useRef, useState } from \"react\";\nimport useMergeRef from \"../../../hooks/useMergeRef\";\nimport { VibeComponent, VibeComponentProps } from \"../../../types\";\nimport styles from \"./Accordion.module.scss\";\n\nconst COMPONENT_ID = \"monday-accordion\";\n\nfunction defineChildId(index: number, props: { id: string }, accordionId: string) {\n  if (props.id) {\n    return props.id;\n  }\n  if (accordionId) {\n    return `${accordionId}--item-${index}`;\n  }\n  return `${COMPONENT_ID}--item-${index}`;\n}\n\nexport interface AccordionProps extends VibeComponentProps {\n  /**\n   * List of AccordionItems\n   */\n  children?: Array<ReactElement> | ReactElement;\n  /**\n   * is allowed multiple opened accordion items\n   */\n  allowMultiple?: boolean;\n  /**\n   * Unique TestId - can be used as Selector for integration tests and other needs (tracking, etc.)\n   */\n  \"data-testid\"?: string;\n  /**\n   * Array of initial expanded indexes\n   */\n  defaultIndex?: Array<number>;\n}\n\nconst Accordion: VibeComponent<AccordionProps, unknown> & object = forwardRef(\n  (\n    {\n      children: originalChildren = null,\n      allowMultiple = false,\n      \"data-testid\": dataTestId = COMPONENT_ID,\n      defaultIndex = [],\n      className = \"\",\n      id\n    },\n    ref\n  ) => {\n    const componentRef = useRef(null);\n    const mergedRef = useMergeRef(ref, componentRef);\n\n    const [expandedItems, setExpandedItems] = useState(defaultIndex);\n\n    const children = useMemo(() => React.Children.toArray(originalChildren), [originalChildren]);\n\n    const isChildExpanded = useCallback(\n      (itemIndex: number) => {\n        return expandedItems.includes(itemIndex);\n      },\n      [expandedItems]\n    );\n\n    const onChildClick = useCallback(\n      (itemIndex: number) => {\n        if (allowMultiple) {\n          const newExpandedItems = [...expandedItems];\n          if (isChildExpanded(itemIndex)) {\n            const index = newExpandedItems.indexOf(itemIndex);\n            if (index > -1) {\n              newExpandedItems.splice(index, 1);\n            }\n          } else {\n            newExpandedItems.push(itemIndex);\n          }\n          setExpandedItems(newExpandedItems);\n          return;\n        }\n\n        if (isChildExpanded(itemIndex)) {\n          setExpandedItems([]);\n        } else {\n          setExpandedItems([itemIndex]);\n        }\n      },\n      [isChildExpanded, expandedItems, allowMultiple]\n    );\n\n    const renderChildElements = useMemo(() => {\n      return React.Children.map(children, (child: ReactElement, itemIndex) => {\n        const originalProps = { ...child?.props };\n        const childId = defineChildId(itemIndex, originalProps, id);\n        return React.cloneElement(child, {\n          ...originalProps,\n          id: childId,\n          onClickAccordionCallback: () => {\n            onChildClick(itemIndex);\n          },\n          open: isChildExpanded(itemIndex),\n          expandCollapseComponentClassName: cx(styles.accordionItemExpandCollapse, {\n            [styles.accordionItemExpandCollapseLast]: itemIndex === children.length - 1\n          })\n        });\n      });\n    }, [children, id, isChildExpanded, onChildClick]);\n\n    return (\n      <div ref={mergedRef} className={cx(styles.accordion, className)} data-testid={dataTestId} id={id}>\n        {children && renderChildElements}\n      </div>\n    );\n  }\n);\n\nexport default Accordion;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}