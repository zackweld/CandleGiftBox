{"ast":null,"code":"const {\n  logWarnings\n} = require(\"./helpers/monday-api-helpers\");\nconst mondayApiClient = require(\"./monday-api-client\");\nconst {\n  oauthToken\n} = require(\"./services/oauth-service.js\");\nconst TOKEN_MISSING_ERROR = \"Should send 'token' as an option or call mondaySdk.setToken(TOKEN)\";\nclass MondayServerSdk {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this._token = options.token;\n    this._apiVersion = options.apiVersion;\n    this.setToken = this.setToken.bind(this);\n    this.setApiVersion = this.setApiVersion.bind(this);\n    this.api = this.api.bind(this);\n  }\n  setToken(token) {\n    this._token = token;\n  }\n  setApiVersion(apiVersion) {\n    this._apiVersion = apiVersion;\n  }\n  api(query) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const params = {\n      query,\n      variables: options.variables\n    };\n    const token = options.token || this._token;\n    const apiVersion = options.apiVersion || this._apiVersion;\n    if (!token) throw new Error(TOKEN_MISSING_ERROR);\n    return mondayApiClient.execute(params, token, {\n      apiVersion\n    }).then(logWarnings);\n  }\n  oauthToken(code, clientId, clientSecret) {\n    return oauthToken(code, clientId, clientSecret);\n  }\n}\nfunction init() {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return new MondayServerSdk(options);\n}\nmodule.exports = init;","map":{"version":3,"names":["logWarnings","require","mondayApiClient","oauthToken","TOKEN_MISSING_ERROR","MondayServerSdk","constructor","options","arguments","length","undefined","_token","token","_apiVersion","apiVersion","setToken","bind","setApiVersion","api","query","params","variables","Error","execute","then","code","clientId","clientSecret","init","module","exports"],"sources":["/Users/zacharyweld/Documents/Code/CandleGiftBoxDemo/CandleGiftBox/interview-apps/apps/start-order/client/node_modules/monday-sdk-js/src/server.js"],"sourcesContent":["const { logWarnings } = require(\"./helpers/monday-api-helpers\");\nconst mondayApiClient = require(\"./monday-api-client\");\nconst { oauthToken } = require(\"./services/oauth-service.js\");\n\nconst TOKEN_MISSING_ERROR = \"Should send 'token' as an option or call mondaySdk.setToken(TOKEN)\";\n\nclass MondayServerSdk {\n  constructor(options = {}) {\n    this._token = options.token;\n    this._apiVersion = options.apiVersion;\n\n    this.setToken = this.setToken.bind(this);\n    this.setApiVersion = this.setApiVersion.bind(this);\n    this.api = this.api.bind(this);\n  }\n\n  setToken(token) {\n    this._token = token;\n  }\n\n  setApiVersion(apiVersion) {\n    this._apiVersion = apiVersion;\n  }\n\n  api(query, options = {}) {\n    const params = { query, variables: options.variables };\n    const token = options.token || this._token;\n    const apiVersion = options.apiVersion || this._apiVersion;\n\n    if (!token) throw new Error(TOKEN_MISSING_ERROR);\n\n    return mondayApiClient.execute(params, token, { apiVersion }).then(logWarnings);\n  }\n\n  oauthToken(code, clientId, clientSecret) {\n    return oauthToken(code, clientId, clientSecret);\n  }\n}\n\nfunction init(options = {}) {\n  return new MondayServerSdk(options);\n}\n\nmodule.exports = init;\n"],"mappings":"AAAA,MAAM;EAAEA;AAAY,CAAC,GAAGC,OAAO,CAAC,8BAA8B,CAAC;AAC/D,MAAMC,eAAe,GAAGD,OAAO,CAAC,qBAAqB,CAAC;AACtD,MAAM;EAAEE;AAAW,CAAC,GAAGF,OAAO,CAAC,6BAA6B,CAAC;AAE7D,MAAMG,mBAAmB,GAAG,oEAAoE;AAEhG,MAAMC,eAAe,CAAC;EACpBC,WAAWA,CAAA,EAAe;IAAA,IAAdC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;IACtB,IAAI,CAACG,MAAM,GAAGJ,OAAO,CAACK,KAAK;IAC3B,IAAI,CAACC,WAAW,GAAGN,OAAO,CAACO,UAAU;IAErC,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACC,IAAI,CAAC,IAAI,CAAC;IACxC,IAAI,CAACC,aAAa,GAAG,IAAI,CAACA,aAAa,CAACD,IAAI,CAAC,IAAI,CAAC;IAClD,IAAI,CAACE,GAAG,GAAG,IAAI,CAACA,GAAG,CAACF,IAAI,CAAC,IAAI,CAAC;EAChC;EAEAD,QAAQA,CAACH,KAAK,EAAE;IACd,IAAI,CAACD,MAAM,GAAGC,KAAK;EACrB;EAEAK,aAAaA,CAACH,UAAU,EAAE;IACxB,IAAI,CAACD,WAAW,GAAGC,UAAU;EAC/B;EAEAI,GAAGA,CAACC,KAAK,EAAgB;IAAA,IAAdZ,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;IACrB,MAAMY,MAAM,GAAG;MAAED,KAAK;MAAEE,SAAS,EAAEd,OAAO,CAACc;IAAU,CAAC;IACtD,MAAMT,KAAK,GAAGL,OAAO,CAACK,KAAK,IAAI,IAAI,CAACD,MAAM;IAC1C,MAAMG,UAAU,GAAGP,OAAO,CAACO,UAAU,IAAI,IAAI,CAACD,WAAW;IAEzD,IAAI,CAACD,KAAK,EAAE,MAAM,IAAIU,KAAK,CAAClB,mBAAmB,CAAC;IAEhD,OAAOF,eAAe,CAACqB,OAAO,CAACH,MAAM,EAAER,KAAK,EAAE;MAAEE;IAAW,CAAC,CAAC,CAACU,IAAI,CAACxB,WAAW,CAAC;EACjF;EAEAG,UAAUA,CAACsB,IAAI,EAAEC,QAAQ,EAAEC,YAAY,EAAE;IACvC,OAAOxB,UAAU,CAACsB,IAAI,EAAEC,QAAQ,EAAEC,YAAY,CAAC;EACjD;AACF;AAEA,SAASC,IAAIA,CAAA,EAAe;EAAA,IAAdrB,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACxB,OAAO,IAAIH,eAAe,CAACE,OAAO,CAAC;AACrC;AAEAsB,MAAM,CAACC,OAAO,GAAGF,IAAI"},"metadata":{},"sourceType":"script","externalDependencies":[]}