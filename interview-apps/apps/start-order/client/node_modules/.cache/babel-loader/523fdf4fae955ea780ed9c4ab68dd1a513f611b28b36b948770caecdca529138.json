{"ast":null,"code":"import { slicedToArray as t } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport e from \"classnames\";\nimport r, { forwardRef as i, useRef as s, useState as o, useCallback as n, useMemo as a } from \"react\";\nimport l from \"../../hooks/useMergeRef.js\";\nimport m from \"../../hooks/useKeyEvent/index.js\";\nimport { VirtualizedListItems as c } from \"./VirtualizedListItems/VirtualizedListItems.js\";\nimport { keyCodes as u, UP_DOWN_ARROWS as d } from \"../../constants/keyCodes.js\";\nimport { withStaticProps as f } from \"../../types/withStaticProps.js\";\nimport { ListWrapperComponentType as p } from \"./ListConstants.js\";\nimport { getTestId as v, ComponentDefaultTestId as y } from \"../../tests/testIds.js\";\nimport { ListContext as b } from \"./utils/ListContext.js\";\nimport { useListId as j, getListItemIndexById as L, getNextListItemIndex as I, getPrevListItemIndex as h, getListItemIdByIndex as k, getListItemComponentType as x } from \"./utils/ListUtils.js\";\nimport A from \"./List.module.scss.js\";\nvar E = i(function (i, f) {\n    var p = i.className,\n      R = i.id,\n      g = i.component,\n      C = void 0 === g ? E.components.UL : g,\n      O = i.children,\n      P = i.ariaLabel,\n      V = i.ariaDescribedBy,\n      _ = i[\"aria-controls\"],\n      D = i.renderOnlyVisibleItems,\n      N = void 0 !== D && D,\n      U = i.style,\n      W = i[\"data-testid\"],\n      z = s(null),\n      B = l(f, z),\n      S = s([]),\n      T = j(R),\n      w = o(0),\n      F = t(w, 2),\n      H = F[0],\n      K = F[1],\n      M = C,\n      q = n(function (t) {\n        var e;\n        K(L(S, t)), null === (e = null == z ? void 0 : z.current) || void 0 === e || e.setAttribute(\"aria-activedescendant\", t);\n      }, []),\n      G = n(function (t) {\n        if (!N) {\n          t.preventDefault();\n          var e = t.key === u.UP_ARROW,\n            r = void 0;\n          t.key === u.DOWN_ARROW && S.current.length > H + 1 ? r = I(H, S) : e && H > 0 && (r = h(H, S)), void 0 !== r && (q(k(S, r)), S.current[r].focus());\n        }\n      }, [H, N, q]);\n    m({\n      keys: d,\n      callback: G,\n      ref: z\n    });\n    var J = a(function () {\n      var t = Array.isArray(O) ? O : [O];\n      return N ? t = r.createElement(c, null, t) : (S.current = S.current.slice(0, t.length), t = r.Children.map(t, function (t, e) {\n        if (!r.isValidElement(t)) return t;\n        var i = t.props.id || \"\".concat(T, \"-item-\").concat(e);\n        return r.cloneElement(t, {\n          ref: function (t) {\n            return S.current[e] = t;\n          },\n          tabIndex: H === e ? 0 : -1,\n          id: i,\n          component: x(C)\n        });\n      })), t;\n    }, [O, C, H, T, N]);\n    return r.createElement(b.Provider, {\n      value: {\n        updateFocusedItem: q\n      }\n    }, r.createElement(M, {\n      \"data-testid\": W || v(y.LIST, R),\n      ref: B,\n      style: U,\n      className: e(A.list, p),\n      id: T,\n      \"aria-label\": P,\n      \"aria-describedby\": V,\n      \"aria-controls\": _,\n      tabIndex: -1,\n      role: \"listbox\"\n    }, J));\n  }),\n  R = f(E, {\n    components: p\n  });\nexport { R as default };","map":{"version":3,"names":["E","i","f","p","className","R","id","g","component","C","components","UL","O","children","P","ariaLabel","V","ariaDescribedBy","_","D","renderOnlyVisibleItems","N","U","style","W","z","s","B","l","S","T","j","w","o","F","t","H","K","M","q","n","e","L","current","setAttribute","G","preventDefault","key","u","UP_ARROW","r","DOWN_ARROW","length","I","h","k","focus","m","keys","d","callback","ref","J","a","Array","isArray","createElement","c","slice","Children","map","isValidElement","props","concat","cloneElement","tabIndex","x","b","Provider","value","updateFocusedItem","v","y","LIST","A","list","role","default"],"sources":["/Users/zacharyweld/Documents/Code/CandleGiftBoxDemo/CandleGiftBox/interview-apps/apps/start-order/client/node_modules/monday-ui-react-core/src/components/List/List.tsx"],"sourcesContent":["import cx from \"classnames\";\nimport React, {\n  AriaAttributes,\n  CSSProperties,\n  forwardRef,\n  ReactElement,\n  useCallback,\n  useMemo,\n  useRef,\n  useState\n} from \"react\";\nimport useMergeRef from \"../../hooks/useMergeRef\";\nimport useKeyEvent from \"../../hooks/useKeyEvent\";\nimport { VirtualizedListItems } from \"./VirtualizedListItems/VirtualizedListItems\";\nimport { keyCodes, UP_DOWN_ARROWS } from \"../../constants/keyCodes\";\nimport { VibeComponent, withStaticProps, VibeComponentProps } from \"../../types\";\nimport { ListItemProps } from \"../ListItem/ListItem\";\nimport { ListTitleProps } from \"../ListTitle/ListTitle\";\nimport { ListWrapperComponentStringType, ListWrapperComponentType } from \"./ListConstants\";\nimport { ComponentDefaultTestId, getTestId } from \"../../tests/test-ids-utils\";\nimport { ListContext } from \"./utils/ListContext\";\nimport {\n  getListItemComponentType,\n  getListItemIdByIndex,\n  getListItemIndexById,\n  getNextListItemIndex,\n  getPrevListItemIndex,\n  useListId\n} from \"./utils/ListUtils\";\nimport styles from \"./List.module.scss\";\n\nexport interface ListProps extends VibeComponentProps {\n  /**\n   * the wrapping component to wrap the List Items [div, nav, ul, ol]\n   */\n  component?: ListWrapperComponentType | ListWrapperComponentStringType;\n  /**\n   * ARIA label string to describe to list\n   */\n  ariaLabel?: string;\n  /**\n   * ARIA described by string to reference an id to describe by\n   */\n  ariaDescribedBy?: string;\n  \"aria-controls\"?: AriaAttributes[\"aria-controls\"];\n  children?: ReactElement<ListItemProps | ListTitleProps> | ReactElement<ListItemProps | ListTitleProps>[];\n  /**\n   * Using virtualized list for rendering only the items which visible to the user in any given user (performance optimization)\n   */\n  renderOnlyVisibleItems?: boolean;\n  style?: CSSProperties;\n}\n\nconst List: VibeComponent<ListProps> & {\n  components?: typeof ListWrapperComponentType;\n} = forwardRef(\n  (\n    {\n      className,\n      id,\n      component = List.components.UL,\n      children,\n      ariaLabel,\n      ariaDescribedBy,\n      \"aria-controls\": ariaControls,\n      renderOnlyVisibleItems = false,\n      style,\n      \"data-testid\": dataTestId\n    },\n    ref\n  ) => {\n    const componentRef = useRef(null);\n    const mergedRef = useMergeRef(ref, componentRef);\n    const childrenRefs: React.MutableRefObject<HTMLElement[]> = useRef([]);\n\n    const overrideId = useListId(id);\n    const [focusIndex, setFocusIndex] = useState(0);\n    const Component = component;\n\n    const updateFocusedItem = useCallback((id: string) => {\n      setFocusIndex(getListItemIndexById(childrenRefs, id));\n      componentRef?.current?.setAttribute(\"aria-activedescendant\", id);\n    }, []);\n\n    const onUpDownArrows = useCallback(\n      (event: KeyboardEvent) => {\n        if (renderOnlyVisibleItems) {\n          return;\n        }\n        event.preventDefault();\n\n        const isUpKey = event.key === keyCodes.UP_ARROW;\n        const isDownKey = event.key === keyCodes.DOWN_ARROW;\n        let overrideFocusIndex = undefined;\n\n        if (isDownKey && focusIndex + 1 < childrenRefs.current.length) {\n          overrideFocusIndex = getNextListItemIndex(focusIndex, childrenRefs);\n        } else if (isUpKey && focusIndex > 0) {\n          overrideFocusIndex = getPrevListItemIndex(focusIndex, childrenRefs);\n        }\n        if (overrideFocusIndex !== undefined) {\n          updateFocusedItem(getListItemIdByIndex(childrenRefs, overrideFocusIndex));\n          childrenRefs.current[overrideFocusIndex].focus();\n        }\n      },\n      [focusIndex, renderOnlyVisibleItems, updateFocusedItem]\n    );\n\n    useKeyEvent({\n      keys: UP_DOWN_ARROWS,\n      callback: onUpDownArrows,\n      ref: componentRef\n    });\n\n    const overrideChildren = useMemo(() => {\n      let override: ReactElement | ReactElement[] = Array.isArray(children) ? children : [children];\n      if (renderOnlyVisibleItems) {\n        override = <VirtualizedListItems>{override}</VirtualizedListItems>;\n      } else {\n        childrenRefs.current = childrenRefs.current.slice(0, override.length);\n        override = React.Children.map(override, (child, index) => {\n          if (!React.isValidElement(child)) {\n            return child;\n          }\n\n          const id = (child.props as { id: string }).id || `${overrideId}-item-${index}`;\n          return React.cloneElement(child, {\n            // @ts-ignore not sure how to deal with ref here\n            ref: ref => (childrenRefs.current[index] = ref),\n            tabIndex: focusIndex === index ? 0 : -1,\n            id,\n            component: getListItemComponentType(component)\n          });\n        });\n      }\n\n      return override;\n    }, [children, component, focusIndex, overrideId, renderOnlyVisibleItems]);\n\n    return (\n      <ListContext.Provider value={{ updateFocusedItem }}>\n        <Component\n          data-testid={dataTestId || getTestId(ComponentDefaultTestId.LIST, id)}\n          ref={mergedRef}\n          style={style}\n          className={cx(styles.list, className)}\n          id={overrideId}\n          aria-label={ariaLabel}\n          aria-describedby={ariaDescribedBy}\n          aria-controls={ariaControls}\n          tabIndex={-1}\n          role=\"listbox\"\n        >\n          {overrideChildren}\n        </Component>\n      </ListContext.Provider>\n    );\n  }\n);\n\nexport default withStaticProps(List, {\n  components: ListWrapperComponentType\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}