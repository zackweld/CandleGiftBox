{"version":3,"file":"index.js","sources":["../../../../../src/hooks/useMediaQuery/index.ts"],"sourcesContent":["import { useLayoutEffect, useState, useMemo } from \"react\";\n\nexport function useMediaQuery(query: string | string[]) {\n  const queries = useMemo(() => {\n    return Array.isArray(query) ? query : [query];\n  }, [query]);\n\n  const [matches, setMatches] = useState(queries.map(query => !!window.matchMedia(query).matches));\n\n  useLayoutEffect(() => {\n    const mediaQueryList = queries.map(query => window.matchMedia(query));\n    const updated: [MediaQueryList, (event: MediaQueryListEvent) => void][] = mediaQueryList.map((query, index) => {\n      // we save the callback function so when we unmount we could remove the listener\n      const callback = (event: MediaQueryListEvent) => {\n        setMatches(prevState => {\n          const newQueries = [...prevState];\n          newQueries[index] = event.matches;\n          return newQueries;\n        });\n      };\n      query.addEventListener(\"change\", callback);\n      return [query, callback];\n    });\n    return () => {\n      updated.forEach(([query, callback]) => {\n        query.removeEventListener(\"change\", callback);\n      });\n    };\n  }, [queries, setMatches]);\n  return matches;\n}\nexport default useMediaQuery;\n"],"names":["useMediaQuery","query","queries","useMemo","Array","isArray","_useState","useState","map","window","matchMedia","matches","_useState2","_slicedToArray","setMatches","useLayoutEffect","mediaQueryList","updated","index","callback","event","prevState","newQueries","_toConsumableArray","addEventListener","forEach","_ref","_ref2","removeEventListener"],"mappings":"yKAEM,SAAUA,EAAcC,GAC5B,IAAMC,EAAUC,GAAQ,WACtB,OAAOC,MAAMC,QAAQJ,GAASA,EAAQ,CAACA,EACzC,GAAG,CAACA,IAEJK,EAA8BC,EAASL,EAAQM,KAAI,SAAAP,GAAK,QAAMQ,OAAOC,WAAWT,GAAOU,OAAO,KAAEC,EAAAC,EAAAP,EAAA,GAAzFK,EAAOC,EAAA,GAAEE,EAAUF,EAAA,GAsB1B,OApBAG,GAAgB,WACd,IAAMC,EAAiBd,EAAQM,KAAI,SAAAP,GAAK,OAAIQ,OAAOC,WAAWT,MACxDgB,EAAoED,EAAeR,KAAI,SAACP,EAAOiB,GAEnG,IAAMC,EAAW,SAACC,GAChBN,GAAW,SAAAO,GACT,IAAMC,EAAUC,EAAOF,GAEvB,OADAC,EAAWJ,GAASE,EAAMT,QACnBW,CACT,KAGF,OADArB,EAAMuB,iBAAiB,SAAUL,GAC1B,CAAClB,EAAOkB,EACjB,IACA,OAAO,WACLF,EAAQQ,SAAQ,SAAAC,GAAsB,IAAAC,EAAAd,EAAAa,EAAA,GAAfC,EAAA,GACfC,oBAAoB,SADKD,EAAA,GAEjC,IAEJ,GAAG,CAACzB,EAASY,IACNH,CACT"}