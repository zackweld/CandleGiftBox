import{defineProperty as o}from"../../../../../_virtual/_rollupPluginBabelHelpers.js";import e from"classnames";import t,{useRef as n,useEffect as i,useCallback as r,useMemo as l}from"react";import s from"../../../Icon/Icon.js";import c from"../../../Tooltip/Tooltip.js";import a from"../../../../hooks/useIsOverflowing/useIsOverflowing.js";import{keyCodes as m}from"../../../../constants/keyCodes.js";import{getOptionId as p}from"../../helpers.js";import{withStaticProps as u}from"../../../../types/withStaticProps.js";import{ComboboxOptionIconType as f}from"../ComboboxConstants.js";import{getTestId as d,ComponentDefaultTestId as v}from"../../../../tests/testIds.js";import b from"./ComboboxOption.module.scss.js";var O=u((function(u){var O=u.index,y=u.option,I=u.className,h=u.isActive,E=u.visualFocus,T=u.scrollRef,g=u.scrollOffset,C=void 0===g?100:g,j=u.onOptionClick,N=u.onOptionLeave,k=u.onOptionHover,R=u.optionLineHeight,S=u.shouldScrollWhenActive,w=void 0===S||S,x=u.optionRenderer,L=void 0===x?null:x,P=y.id,F=y.leftIcon,_=y.leftIconType,A=y.rightIcon,B=y.rightIconType,H=y.label,M=y.iconSize,z=void 0===M?18:M,D=y.disabled,K=y.selected,V=y.ariaLabel,W=y.belongToCategory,X=void 0!==W&&W,q=y.tooltipContent,G=n(null),J=n(),Q=a({ref:J});i((function(){var o,e=G.current;E&&e&&w&&((null==T?void 0:T.current)&&e?T.current.scrollTop=e.offsetTop-C:null===(o=null==e?void 0:e.scrollIntoView)||void 0===o||o.call(e,{behaviour:"smooth"}))}),[G,E,w,T,C,X]);var U=function(o,n,i){return n===f.RENDERER?o(e(b.optionIcon,i)):t.createElement(s,{className:e(b.optionIcon,i),iconType:s.type.ICON_FONT,clickable:!1,icon:o,iconSize:z,ignoreFocusStyle:!0})},Y=r((function(o){j(o,O,y,!0)}),[O,y,j]),Z=r((function(o){D||N(o,O,y,!0)}),[O,y,N,D]),$=r((function(o){D||k(o,O,y,!0)}),[O,y,k,D]),oo=r((function(o){o.key!==m.ENTER&&o.key!==m.SPACE||j(o,O,y,!1)}),[j,O,y]);q||(q=Q?H:null);var eo=l((function(){return L&&L(y)}),[L,y]),to=t.createElement(t.Fragment,null,F&&U(F,_,b.left),t.createElement("div",{ref:J,className:e(b.optionLabel)},H),A&&U(A,B,""));return t.createElement(c,{content:q},t.createElement("div",{ref:G,key:P||H,"aria-level":X?2:1,"aria-selected":h,"aria-label":V||H,id:p(P,O),"data-testid":d(v.COMBOBOX_OPTION,O),onMouseEnter:$,onClick:Y,onKeyDown:oo,onMouseLeave:Z,className:e(b.comboboxOption,I,o(o(o(o({},b.disabled,D),b.selected,K),b.active,h),b.activeOutline,E)),style:{height:R}},eo||to))}),{iconTypes:f});export{O as default};
//# sourceMappingURL=ComboboxOption.js.map
