{"version":3,"file":"useCloseMenuOnKeyEvent.js","sources":["../../../../../../../src/components/Menu/Menu/hooks/useCloseMenuOnKeyEvent.tsx"],"sourcesContent":["import React, { useCallback } from \"react\";\nimport useKeyEvent from \"../../../../hooks/useKeyEvent\";\nimport { CloseMenuOption } from \"../MenuConstants\";\nimport { keyCodes } from \"../../../../constants\";\n\nconst KEYS = [keyCodes.ESCAPE, keyCodes.LEFT_ARROW];\n\nexport default function useCloseMenuOnKeyEvent({\n  hasOpenSubMenu,\n  onCloseMenu,\n  ref,\n  onClose,\n  isSubMenu,\n  useDocumentEventListeners\n}: {\n  hasOpenSubMenu: boolean;\n  onCloseMenu: (option: CloseMenuOption) => void;\n  ref: React.RefObject<HTMLElement>;\n  onClose: (option: CloseMenuOption, key?: string) => void;\n  isSubMenu: boolean;\n  useDocumentEventListeners: boolean;\n}) {\n  const onEscapeOrLeftArrowKey = useCallback(\n    (event: React.KeyboardEvent) => {\n      const isArrowLeftClick = event.key === keyCodes.LEFT_ARROW;\n\n      if (isArrowLeftClick && !isSubMenu) {\n        return;\n      }\n\n      if (hasOpenSubMenu) return false;\n      onCloseMenu({ propagate: false });\n      if (onClose) {\n        onClose({ propagate: false }, isArrowLeftClick ? keyCodes.LEFT_ARROW : keyCodes.ESCAPE);\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    },\n    [onClose, hasOpenSubMenu, onCloseMenu, isSubMenu]\n  );\n\n  useKeyEvent({\n    keys: KEYS,\n    callback: onEscapeOrLeftArrowKey,\n    ref: useDocumentEventListeners ? undefined : ref\n  });\n}\n"],"names":["KEYS","keyCodes","ESCAPE","LEFT_ARROW","useCloseMenuOnKeyEvent","_ref","hasOpenSubMenu","onCloseMenu","ref","onClose","isSubMenu","useDocumentEventListeners","onEscapeOrLeftArrowKey","useCallback","event","isArrowLeftClick","key","propagate","preventDefault","stopPropagation","useKeyEvent","keys","callback","undefined"],"mappings":"iRAKA,IAAMA,EAAO,CAACC,EAASC,OAAQD,EAASE,YAE1B,SAAUC,EAAsBC,GAc7C,IAbCC,EAAcD,EAAdC,eACAC,EAAWF,EAAXE,YACAC,EAAGH,EAAHG,IACAC,EAAOJ,EAAPI,QACAC,EAASL,EAATK,UACAC,EAAyBN,EAAzBM,0BASMC,EAAyBC,GAC7B,SAACC,GACC,IAAMC,EAAmBD,EAAME,MAAQf,EAASE,WAEhD,IAAIY,GAAqBL,EAAzB,CAIA,GAAIJ,EAAgB,OAAO,EAC3BC,EAAY,CAAEU,WAAW,IACrBR,IACFA,EAAQ,CAAEQ,WAAW,GAASF,EAAmBd,EAASE,WAAaF,EAASC,QAChFY,EAAMI,iBACNJ,EAAMK,kBAPP,CASF,GACD,CAACV,EAASH,EAAgBC,EAAaG,IAGzCU,EAAY,CACVC,KAAMrB,EACNsB,SAAUV,EACVJ,IAAKG,OAA4BY,EAAYf,GAEjD"}