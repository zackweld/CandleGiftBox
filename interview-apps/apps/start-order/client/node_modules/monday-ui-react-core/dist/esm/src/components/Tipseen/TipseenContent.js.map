{"version":3,"file":"TipseenContent.js","sources":["../../../../../src/components/Tipseen/TipseenContent.tsx"],"sourcesContent":["import React, { FC, useContext, useMemo } from \"react\";\nimport cx from \"classnames\";\nimport { NOOP } from \"../../utils/function-utils\";\nimport Button from \"../../components/Button/Button\";\nimport { backwardCompatibilityForProperties } from \"../../helpers/backwardCompatibilityForProperties\";\nimport {\n  ButtonPropsBackwardCompatible,\n  DISMISS_BUTTON_TEXT,\n  SUBMIT_BUTTON_TEXT,\n  TipseenColor\n} from \"./TipseenConstants\";\nimport TipseenBasicContent from \"./TipseenBasicContent\";\nimport { VibeComponentProps } from \"../../types\";\nimport { ElementContent } from \"../../types/ElementContent\";\nimport styles from \"./TipseenContent.module.scss\";\nimport { getTestId } from \"../../tests/test-ids-utils\";\nimport { ComponentDefaultTestId } from \"../../tests/constants\";\nimport { TipseenContext } from \"./Tipseen\";\nimport { ButtonColor } from \"../Button/ButtonConstants\";\n\nconst EMPTY_OBJECT: ButtonPropsBackwardCompatible = {};\n\nexport interface TipseenContentProps extends VibeComponentProps {\n  title?: string;\n  /**\n   * Classname for overriding TipseenTitle styles\n   */\n  titleClassName?: string;\n  /**\n   * @deprecated - use hideDismiss instead\n   */\n  isDismissHidden?: boolean;\n  hideDismiss?: boolean;\n  children?: ElementContent;\n  /**\n   * @deprecated - use hideSubmit instead\n   */\n  isSubmitHidden?: boolean;\n  hideSubmit?: boolean;\n  submitButtonText?: string;\n  submitButtonProps?: ButtonPropsBackwardCompatible;\n  onSubmit?: (event: React.MouseEvent) => void;\n  dismissButtonText?: string;\n  dismissButtonProps?: ButtonPropsBackwardCompatible;\n  onDismiss?: (event: React.MouseEvent) => void;\n}\n\nconst TipseenContent: FC<TipseenContentProps> = ({\n  id,\n  title,\n  titleClassName,\n  children = null,\n  // Backward compatability\n  isDismissHidden,\n  hideDismiss,\n  // Backward compatability\n  isSubmitHidden,\n  hideSubmit,\n  submitButtonText,\n  onSubmit,\n  dismissButtonText,\n  onDismiss,\n  // Backward compatibility for props naming\n  dismissButtonProps = EMPTY_OBJECT,\n  // Backward compatibility for props naming\n  submitButtonProps = EMPTY_OBJECT\n}) => {\n  const overrideHideDismiss = backwardCompatibilityForProperties([hideDismiss, isDismissHidden], true);\n  const overrideHideSubmit = backwardCompatibilityForProperties([hideSubmit, isSubmitHidden], false);\n  const dismissContent = dismissButtonProps.content || dismissButtonProps.children;\n  const {\n    className: dismissClassName,\n    onClick: dismissDeprecatedOnClick,\n    ...otherDismissButtonProps\n  } = dismissButtonProps;\n  const overrideDismissContent = backwardCompatibilityForProperties(\n    [dismissButtonText, dismissContent],\n    DISMISS_BUTTON_TEXT\n  );\n  const overrideDismissOnClick = backwardCompatibilityForProperties([onDismiss, dismissDeprecatedOnClick], NOOP);\n\n  const submitContent = submitButtonProps.content || submitButtonProps.children;\n  const { className: submitClassName, onClick: submitDeprecatedOnClick, ...otherSubmitButtonProps } = submitButtonProps;\n  const overrideSubmitContent = backwardCompatibilityForProperties(\n    [submitButtonText, submitContent],\n    SUBMIT_BUTTON_TEXT\n  );\n  const overrideSubmitOnClick = backwardCompatibilityForProperties([onSubmit, submitDeprecatedOnClick], NOOP);\n  const color = useContext(TipseenContext);\n  const buttonColor = useMemo(() => {\n    return color === TipseenColor.INVERTED ? ButtonColor.ON_INVERTED_BACKGROUND : ButtonColor.ON_PRIMARY_COLOR;\n  }, [color]);\n\n  return (\n    <TipseenBasicContent title={title} titleClassName={titleClassName} id={id}>\n      {children ? <span>{children}</span> : null}\n      <div className={cx(styles.buttons)}>\n        {overrideHideDismiss ? null : (\n          <Button\n            kind={Button.kinds.TERTIARY}\n            color={buttonColor}\n            className={cx(styles.dismiss, dismissClassName)}\n            size={Button.sizes.SMALL}\n            onClick={overrideDismissOnClick}\n            data-testid={getTestId(ComponentDefaultTestId.TIPSEEN_CONTENT_DISMISS)}\n            {...otherDismissButtonProps}\n          >\n            {overrideDismissContent}\n          </Button>\n        )}\n        {overrideHideSubmit ? null : (\n          <Button\n            kind={Button.kinds.PRIMARY}\n            color={buttonColor}\n            size={Button.sizes.SMALL}\n            className={submitClassName}\n            onClick={overrideSubmitOnClick}\n            data-testid={getTestId(ComponentDefaultTestId.TIPSEEN_CONTENT_SUBMIT)}\n            {...otherSubmitButtonProps}\n          >\n            {overrideSubmitContent}\n          </Button>\n        )}\n      </div>\n    </TipseenBasicContent>\n  );\n};\n\nexport default TipseenContent;\n"],"names":["EMPTY_OBJECT","TipseenContent","_ref","id","title","titleClassName","_ref$children","children","isSubmitHidden","hideSubmit","submitButtonText","onSubmit","dismissButtonText","onDismiss","_ref$dismissButtonPro","dismissButtonProps","_ref$submitButtonProp","submitButtonProps","overrideHideDismiss","backwardCompatibilityForProperties","hideDismiss","isDismissHidden","overrideHideSubmit","dismissContent","content","dismissClassName","className","dismissDeprecatedOnClick","onClick","otherDismissButtonProps","__rest","overrideDismissContent","DISMISS_BUTTON_TEXT","overrideDismissOnClick","NOOP","submitContent","submitClassName","submitDeprecatedOnClick","otherSubmitButtonProps","overrideSubmitContent","SUBMIT_BUTTON_TEXT","overrideSubmitOnClick","color","useContext","TipseenContext","buttonColor","useMemo","TipseenColor","INVERTED","ButtonColor","ON_INVERTED_BACKGROUND","ON_PRIMARY_COLOR","React","createElement","TipseenBasicContent","cx","styles","buttons","Button","Object","assign","kind","kinds","TERTIARY","dismiss","size","sizes","SMALL","getTestId","ComponentDefaultTestId","TIPSEEN_CONTENT_DISMISS","PRIMARY","TIPSEEN_CONTENT_SUBMIT"],"mappings":"8tBAoBA,IAAMA,EAA8C,CAAA,EA2B9CC,EAA0C,SAA5BC,GAmBf,IAlBHC,EAAED,EAAFC,GACAC,EAAKF,EAALE,MACAC,EAAcH,EAAdG,eAAcC,EAAAJ,EACdK,SAAAA,OAAW,IAAHD,EAAG,KAAIA,EAKfE,EAAcN,EAAdM,eACAC,EAAUP,EAAVO,WACAC,EAAgBR,EAAhBQ,iBACAC,EAAQT,EAARS,SACAC,EAAiBV,EAAjBU,kBACAC,EAASX,EAATW,UAASC,EAAAZ,EAETa,mBAAAA,OAAqBf,IAAHc,EAAGd,EAAYc,EAAAE,EAAAd,EAEjCe,kBAAAA,OAAoBjB,IAAHgB,EAAGhB,EAAYgB,EAE1BE,EAAsBC,EAAmC,CAbpDjB,EAAXkB,YADelB,EAAfmB,kBAc+F,GACzFC,EAAqBH,EAAmC,CAACV,EAAYD,IAAiB,GACtFe,EAAiBR,EAAmBS,SAAWT,EAAmBR,SAE3DkB,EAGTV,EAHFW,UACSC,EAEPZ,EAFFa,QACGC,EAAuBC,EACxBf,EAJE,CAAA,YAAA,YAKAgB,EAAyBZ,EAC7B,CAACP,EAAmBW,GACpBS,GAEIC,EAAyBd,EAAmC,CAACN,EAAWc,GAA2BO,GAEnGC,EAAgBlB,EAAkBO,SAAWP,EAAkBV,SAClD6B,EAAiFnB,EAA5FS,UAAqCW,EAAuDpB,EAAhEW,QAAqCU,EAAsBR,EAAKb,EAA9F,CAAA,YAAA,YACAsB,EAAwBpB,EAC5B,CAACT,EAAkByB,GACnBK,GAEIC,EAAwBtB,EAAmC,CAACR,EAAU0B,GAA0BH,GAChGQ,EAAQC,EAAWC,GACnBC,EAAcC,GAAQ,WAC1B,OAAOJ,IAAUK,EAAaC,SAAWC,EAAYC,uBAAyBD,EAAYE,gBAC5F,GAAG,CAACT,IAEJ,OACEU,EAAAC,cAACC,EAAmB,CAAClD,MAAOA,EAAOC,eAAgBA,EAAgBF,GAAIA,GACpEI,EAAW6C,EAAAC,cAAA,OAAA,KAAO9C,GAAmB,KACtC6C,EAAAC,cAAA,MAAA,CAAK3B,UAAW6B,EAAGC,EAAOC,UACvBvC,EAAsB,KACrBkC,EAAAC,cAACK,EAAMC,OAAAC,OAAA,CACLC,KAAMH,EAAOI,MAAMC,SACnBrB,MAAOG,EACPnB,UAAW6B,EAAGC,EAAOQ,QAASvC,GAC9BwC,KAAMP,EAAOQ,MAAMC,MACnBvC,QAASK,EACI,cAAAmC,EAAUC,EAAuBC,0BAC1CzC,GAEHE,GAGJT,EAAqB,KACpB8B,EAACC,cAAAK,EACCC,OAAAC,OAAA,CAAAC,KAAMH,EAAOI,MAAMS,QACnB7B,MAAOG,EACPoB,KAAMP,EAAOQ,MAAMC,MACnBzC,UAAWU,EACXR,QAASa,EAAqB,cACjB2B,EAAUC,EAAuBG,yBAC1ClC,GAEHC,IAMb"}