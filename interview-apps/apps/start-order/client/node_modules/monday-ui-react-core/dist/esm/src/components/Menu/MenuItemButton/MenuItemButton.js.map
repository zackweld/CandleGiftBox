{"version":3,"file":"MenuItemButton.js","sources":["../../../../../../src/components/Menu/MenuItemButton/MenuItemButton.tsx"],"sourcesContent":["/* eslint-disable react/jsx-props-no-spreading */\nimport cx from \"classnames\";\nimport React, { FC, useRef } from \"react\";\nimport { ComponentDefaultTestId, getTestId } from \"../../../tests/test-ids-utils\";\nimport Button from \"../../Button/Button\";\nimport Tooltip from \"../../Tooltip/Tooltip\";\nimport { ButtonType } from \"../../Button/ButtonConstants\";\nimport useMergeRef from \"../../../hooks/useMergeRef\";\nimport useMenuItemMouseEvents from \"../MenuItem/hooks/useMenuItemMouseEvents\";\nimport useMenuItemKeyboardEvents from \"../MenuItem/hooks/useMenuItemKeyboardEvents\";\nimport { DialogPosition } from \"../../../constants/positions\";\nimport { backwardCompatibilityForProperties } from \"../../../helpers/backwardCompatibilityForProperties\";\nimport { SubIcon, VibeComponentProps, withStaticProps, ElementContent } from \"../../../types\";\nimport Text from \"../../Text/Text\";\nimport styles from \"./MenuItemButton.module.scss\";\n\nexport interface MenuItemButtonProps extends VibeComponentProps {\n  /**\n   * @deprecated - use className instead\n   */\n  classname?: string;\n  kind?: ButtonType;\n  leftIcon?: SubIcon;\n  rightIcon?: SubIcon;\n  index?: number;\n  activeItemIndex?: number;\n  disabled?: boolean;\n  disableReason?: string;\n  onClick?: (event: React.MouseEvent | React.KeyboardEvent) => void;\n  tooltipPosition?: DialogPosition;\n  tooltipShowDelay?: number;\n  resetOpenSubMenuIndex?: () => void;\n  setSubMenuIsOpenByIndex?: (index: number, isOpen: boolean) => void;\n  setActiveItemIndex?: (index: number) => void;\n  menuRef?: React.RefObject<HTMLElement>;\n  closeMenu?: () => void;\n  useDocumentEventListeners?: boolean;\n  children?: ElementContent | ElementContent[];\n}\n\nconst MenuItemButton: FC<MenuItemButtonProps> & {\n  kinds?: typeof Button.kinds;\n  tooltipPositions?: typeof DialogPosition;\n  isSelectable?: boolean;\n  isMenuChild?: boolean;\n} = ({\n  className,\n  // Backward compatibility for props naming\n  classname,\n  kind = MenuItemButton.kinds.PRIMARY,\n  leftIcon = null,\n  rightIcon = null,\n  disabled = false,\n  disableReason,\n  index,\n  activeItemIndex = -1,\n  onClick,\n  tooltipPosition = MenuItemButton.tooltipPositions.RIGHT,\n  tooltipShowDelay = 300,\n  children,\n  resetOpenSubMenuIndex,\n  setSubMenuIsOpenByIndex,\n  setActiveItemIndex,\n  menuRef,\n  closeMenu,\n  useDocumentEventListeners,\n  id,\n  \"data-testid\": dataTestId\n}) => {\n  const ref = useRef(null);\n  const referenceElementRef = useRef(null);\n  const mergedRef = useMergeRef(ref, referenceElementRef);\n  const overrideClassName = backwardCompatibilityForProperties([className, classname]);\n\n  const shouldShowTooltip = disabled && disableReason;\n  const tooltipContent = disableReason;\n\n  const isActive = activeItemIndex === index;\n\n  const isMouseEnter = useMenuItemMouseEvents({\n    ref,\n    resetOpenSubMenuIndex,\n    setSubMenuIsOpenByIndex,\n    isActive,\n    setActiveItemIndex,\n    index,\n    hasChildren: false\n  });\n\n  const { onClickCallback } = useMenuItemKeyboardEvents({\n    onClick,\n    disabled,\n    isActive,\n    index,\n    setActiveItemIndex,\n    hasChildren: false,\n    shouldShowSubMenu: false,\n    setSubMenuIsOpenByIndex,\n    menuRef,\n    isMouseEnter,\n    closeMenu,\n    useDocumentEventListeners\n  });\n\n  return (\n    <Tooltip\n      content={shouldShowTooltip ? tooltipContent : null}\n      position={tooltipPosition}\n      showDelay={tooltipShowDelay}\n    >\n      <Text\n        type={Text.types.TEXT2}\n        element=\"li\"\n        data-testid={dataTestId || getTestId(ComponentDefaultTestId.MENU_ITEM_BUTTON, id)}\n        id={id}\n        className={cx(styles.itemButton, overrideClassName)}\n        ref={mergedRef}\n        role=\"menuitem\"\n        aria-current={isActive}\n      >\n        <Button\n          className={styles.buttonComponent}\n          active={isActive}\n          disabled={disabled}\n          leftIcon={leftIcon}\n          rightIcon={rightIcon}\n          onClick={onClickCallback}\n          kind={kind}\n          size={Button.sizes.SMALL}\n          blurOnMouseUp={false}\n        >\n          <div className={styles.content}>{children}</div>\n        </Button>\n      </Text>\n    </Tooltip>\n  );\n};\n\nObject.assign(MenuItemButton, {\n  isSelectable: true,\n  isMenuChild: true\n});\n\nexport default withStaticProps(MenuItemButton, {\n  kinds: Button.kinds,\n  tooltipPositions: DialogPosition\n});\n"],"names":["MenuItemButton","_ref","className","classname","_ref$kind","kind","kinds","PRIMARY","_ref$leftIcon","leftIcon","_ref$rightIcon","rightIcon","_ref$disabled","disabled","disableReason","index","_ref$activeItemIndex","activeItemIndex","onClick","_ref$tooltipPosition","tooltipPosition","tooltipPositions","RIGHT","_ref$tooltipShowDelay","tooltipShowDelay","children","resetOpenSubMenuIndex","setSubMenuIsOpenByIndex","setActiveItemIndex","menuRef","closeMenu","useDocumentEventListeners","id","dataTestId","ref","useRef","referenceElementRef","mergedRef","useMergeRef","overrideClassName","backwardCompatibilityForProperties","shouldShowTooltip","tooltipContent","isActive","isMouseEnter","useMenuItemMouseEvents","hasChildren","onClickCallback","useMenuItemKeyboardEvents","shouldShowSubMenu","React","Tooltip","content","position","showDelay","createElement","Text","type","types","TEXT2","element","getTestId","ComponentDefaultTestId","MENU_ITEM_BUTTON","cx","styles","itemButton","role","Button","buttonComponent","active","size","sizes","SMALL","blurOnMouseUp","Object","assign","isSelectable","isMenuChild","withStaticProps","DialogPosition"],"mappings":"osBAwCA,IAAMA,EAKF,SALEA,EAAcC,GA4Bf,IAtBHC,EAASD,EAATC,UAEAC,EAASF,EAATE,UAASC,EAAAH,EACTI,KAAAA,OAAOL,IAAHI,EAAGJ,EAAeM,MAAMC,QAAOH,EAAAI,EAAAP,EACnCQ,SAAAA,OAAW,IAAHD,EAAG,KAAIA,EAAAE,EAAAT,EACfU,UAAAA,OAAY,IAAHD,EAAG,KAAIA,EAAAE,EAAAX,EAChBY,SAAAA,OAAW,IAAHD,GAAQA,EAChBE,EAAab,EAAba,cACAC,EAAKd,EAALc,MAAKC,EAAAf,EACLgB,gBAAAA,OAAe,IAAAD,GAAI,EAACA,EACpBE,EAAOjB,EAAPiB,QAAOC,EAAAlB,EACPmB,gBAAAA,OAAkBpB,IAAHmB,EAAGnB,EAAeqB,iBAAiBC,MAAKH,EAAAI,EAAAtB,EACvDuB,iBAAAA,OAAmB,IAAHD,EAAG,IAAGA,EACtBE,EAAQxB,EAARwB,SACAC,EAAqBzB,EAArByB,sBACAC,EAAuB1B,EAAvB0B,wBACAC,EAAkB3B,EAAlB2B,mBACAC,EAAO5B,EAAP4B,QACAC,EAAS7B,EAAT6B,UACAC,EAAyB9B,EAAzB8B,0BACAC,EAAE/B,EAAF+B,GACeC,EAAUhC,EAAzB,eAEMiC,EAAMC,EAAO,MACbC,EAAsBD,EAAO,MAC7BE,EAAYC,EAAYJ,EAAKE,GAC7BG,EAAoBC,EAAmC,CAACtC,EAAWC,IAEnEsC,EAAoB5B,GAAYC,EAChC4B,EAAiB5B,EAEjB6B,EAAW1B,IAAoBF,EAE/B6B,EAAeC,EAAuB,CAC1CX,IAAAA,EACAR,sBAAAA,EACAC,wBAAAA,EACAgB,SAAAA,EACAf,mBAAAA,EACAb,MAAAA,EACA+B,aAAa,IAGPC,EAAoBC,EAA0B,CACpD9B,QAAAA,EACAL,SAAAA,EACA8B,SAAAA,EACA5B,MAAAA,EACAa,mBAAAA,EACAkB,aAAa,EACbG,mBAAmB,EACnBtB,wBAAAA,EACAE,QAAAA,EACAe,aAAAA,EACAd,UAAAA,EACAC,0BAAAA,IAZMgB,gBAeR,OACEG,gBAACC,EAAO,CACNC,QAASX,EAAoBC,EAAiB,KAC9CW,SAAUjC,EACVkC,UAAW9B,GAEX0B,EAACK,cAAAC,GACCC,KAAMD,EAAKE,MAAMC,MACjBC,QAAQ,KAAI,cACC3B,GAAc4B,EAAUC,EAAuBC,iBAAkB/B,GAC9EA,GAAIA,EACJ9B,UAAW8D,EAAGC,EAAOC,WAAY3B,GACjCL,IAAKG,EACL8B,KAAK,WAAU,eACDxB,GAEdO,EAAAK,cAACa,EACC,CAAAlE,UAAW+D,EAAOI,gBAClBC,OAAQ3B,EACR9B,SAAUA,EACVJ,SAAUA,EACVE,UAAWA,EACXO,QAAS6B,EACT1C,KAAMA,EACNkE,KAAMH,EAAOI,MAAMC,MACnBC,eAAe,GAEfxB,EAAAK,cAAA,MAAA,CAAKrD,UAAW+D,EAAOb,SAAU3B,KAK3C,EAEAkD,OAAOC,OAAO5E,EAAgB,CAC5B6E,cAAc,EACdC,aAAa,IAGf,IAAeC,EAAAA,EAAgB/E,EAAgB,CAC7CM,MAAO8D,EAAO9D,MACde,iBAAkB2D"}