{"version":3,"file":"RadioButton.js","sources":["../../../../../src/components/RadioButton/RadioButton.tsx"],"sourcesContent":["import cx from \"classnames\";\nimport React, { forwardRef, useCallback, useMemo, useRef } from \"react\";\nimport useMergeRef from \"../../hooks/useMergeRef\";\nimport Clickable from \"../Clickable/Clickable\";\nimport Text from \"../Text/Text\";\nimport { backwardCompatibilityForProperties } from \"../../helpers/backwardCompatibilityForProperties\";\nimport VibeComponentProps from \"../../types/VibeComponentProps\";\nimport VibeComponent from \"../../types/VibeComponent\";\nimport Tooltip from \"../Tooltip/Tooltip\";\nimport { ComponentDefaultTestId, getTestId } from \"../../tests/test-ids-utils\";\nimport styles from \"./RadioButton.module.scss\";\n\nexport interface RadioButtonProps extends VibeComponentProps {\n  /**  class to be added to wrapping component */\n  className?: string;\n  /**\n   * @deprecated - use className instead\n   */\n  componentClassName?: string;\n  /** class to add to the  text/label */\n  labelClassName?: string;\n  /** class to be added to the radiobutton */\n  radioButtonClassName?: string;\n  /** text value */\n  text?: string;\n  /** The input control's value. When specified in the HTML, this is the initial value, and from then on it can be altered or retrieved at any time using JavaScript to access the respective HTMLInputElement object's value property. The value attribute is always optional, though should be considered mandatory for checkbox, radio, and hidden.l */\n  value?: string;\n  /** A string specifying a name for the input control. This name is submitted along with the control's value when the form data is submitted. */\n  name?: string;\n  /** is autoFocus */\n  autoFocus?: boolean;\n  /** is disabled */\n  disabled?: boolean;\n  /** why the input is disabled */\n  disabledReason?: string;\n  /** default checked value*/\n  defaultChecked?: boolean;\n  children?: React.ReactNode;\n  /** callback function when value changed */\n  onSelect?: (event: React.ChangeEvent<HTMLInputElement | null>) => void;\n  /** controlled the radio button state */\n  checked?: boolean;\n  /** react to click on children */\n  retainChildClick?: boolean;\n  /** add tab index to the children */\n  childrenTabIndex?: string;\n  /** disabled animation */\n  noLabelAnimation?: boolean;\n}\n\nconst RadioButton: VibeComponent<RadioButtonProps, HTMLElement> & object = forwardRef(\n  (\n    {\n      className,\n      // Backward compatibility for props naming\n      componentClassName,\n      text = \"\",\n      value = \"\",\n      name = \"\",\n      /**\n       * Radio button label class name\n       */\n      labelClassName,\n      /**\n       * Radio button marker class name\n       */\n      radioButtonClassName,\n      disabled = false,\n      autoFocus,\n      disabledReason,\n      defaultChecked = false,\n      children,\n      onSelect,\n      checked,\n      retainChildClick = true,\n      childrenTabIndex = \"0\",\n      noLabelAnimation = false,\n      id,\n      \"data-testid\": dataTestId\n    },\n    ref: React.ForwardedRef<HTMLInputElement>\n  ) => {\n    const inputRef = useRef<HTMLInputElement | null>();\n    const mergedRef = useMergeRef(ref, inputRef);\n    const overrideClassName = backwardCompatibilityForProperties([className, componentClassName]);\n\n    const onChildClick = useCallback(() => {\n      if (disabled || !retainChildClick) return;\n      if (inputRef.current) {\n        inputRef.current.checked = true;\n      }\n      if (onSelect) {\n        onSelect(null);\n      }\n    }, [onSelect, inputRef, disabled, retainChildClick]);\n\n    const checkedProps = useMemo(() => {\n      if (checked !== undefined) {\n        return { checked };\n      }\n      return { defaultChecked };\n    }, [checked, defaultChecked]);\n\n    const tooltipContent = disabled ? disabledReason : null;\n\n    return (\n      <Tooltip content={tooltipContent}>\n        <label\n          data-testid={dataTestId || getTestId(ComponentDefaultTestId.RADIO_BUTTON, id)}\n          className={cx(styles.radioButton, overrideClassName, {\n            [styles.disabled]: disabled,\n            disabled: disabled\n          })}\n        >\n          <span className={cx(styles.inputContainer)}>\n            <input\n              className={cx(styles.input)}\n              type=\"radio\"\n              value={value}\n              name={name}\n              autoFocus={autoFocus}\n              disabled={disabled}\n              {...checkedProps}\n              onChange={onSelect}\n              ref={mergedRef}\n            />\n            <span\n              data-testid={getTestId(ComponentDefaultTestId.RADIO_BUTTON_CONTROL, id)}\n              className={cx(styles.control, radioButtonClassName, {\n                [styles.labelAnimation]: !noLabelAnimation\n              })}\n            />\n          </span>\n          {text && (\n            <Text\n              element=\"span\"\n              type={Text.types.TEXT2}\n              className={labelClassName}\n              data-testid={getTestId(ComponentDefaultTestId.RADIO_BUTTON_LABEL, id)}\n            >\n              {text}\n            </Text>\n          )}\n          {children && (\n            <Clickable onClick={onChildClick} tabIndex={childrenTabIndex}>\n              {children}\n            </Clickable>\n          )}\n        </label>\n      </Tooltip>\n    );\n  }\n);\n\nexport default RadioButton;\n"],"names":["RadioButton","forwardRef","_ref","ref","className","componentClassName","_ref$text","text","_ref$value","value","_ref$name","name","labelClassName","radioButtonClassName","_ref$disabled","disabled","autoFocus","disabledReason","_ref$defaultChecked","defaultChecked","children","onSelect","checked","_ref$retainChildClick","retainChildClick","_ref$childrenTabIndex","childrenTabIndex","_ref$noLabelAnimation","noLabelAnimation","id","dataTestId","inputRef","useRef","mergedRef","useMergeRef","overrideClassName","backwardCompatibilityForProperties","onChildClick","useCallback","current","checkedProps","useMemo","undefined","React","createElement","Tooltip","content","getTestId","ComponentDefaultTestId","RADIO_BUTTON","cx","styles","radioButton","_defineProperty","inputContainer","Object","assign","input","type","onChange","RADIO_BUTTON_CONTROL","control","labelAnimation","Text","element","types","TEXT2","RADIO_BUTTON_LABEL","Clickable","onClick","tabIndex"],"mappings":"qjBAkDMA,IAAAA,EAAqEC,GACzE,SAAAC,EA6BEC,GACE,IA5BAC,EAASF,EAATE,UAEAC,EAAkBH,EAAlBG,mBAAkBC,EAAAJ,EAClBK,KAAAA,OAAO,IAAHD,EAAG,GAAEA,EAAAE,EAAAN,EACTO,MAAAA,OAAQ,IAAHD,EAAG,GAAEA,EAAAE,EAAAR,EACVS,KAAAA,OAAO,IAAHD,EAAG,GAAEA,EAITE,EAAcV,EAAdU,eAIAC,EAAoBX,EAApBW,qBAAoBC,EAAAZ,EACpBa,SAAAA,OAAW,IAAHD,GAAQA,EAChBE,EAASd,EAATc,UACAC,EAAcf,EAAde,eAAcC,EAAAhB,EACdiB,eAAAA,OAAiB,IAAHD,GAAQA,EACtBE,EAAQlB,EAARkB,SACAC,EAAQnB,EAARmB,SACAC,EAAOpB,EAAPoB,QAAOC,EAAArB,EACPsB,iBAAAA,OAAmB,IAAHD,GAAOA,EAAAE,EAAAvB,EACvBwB,iBAAAA,OAAmB,IAAHD,EAAG,IAAGA,EAAAE,EAAAzB,EACtB0B,iBAAAA,OAAmB,IAAHD,GAAQA,EACxBE,EAAE3B,EAAF2B,GACeC,EAAU5B,EAAzB,eAII6B,EAAWC,IACXC,EAAYC,EAAY/B,EAAK4B,GAC7BI,EAAoBC,EAAmC,CAAChC,EAAWC,IAEnEgC,EAAeC,GAAY,YAC3BvB,GAAaS,IACbO,EAASQ,UACXR,EAASQ,QAAQjB,SAAU,GAEzBD,GACFA,EAAS,MAEZ,GAAE,CAACA,EAAUU,EAAUhB,EAAUS,IAE5BgB,EAAeC,GAAQ,WAC3B,YAAgBC,IAAZpB,EACK,CAAEA,QAAAA,GAEJ,CAAEH,eAAAA,EACX,GAAG,CAACG,EAASH,IAIb,OACEwB,EAACC,cAAAC,EAAQ,CAAAC,QAHY/B,EAAWE,EAAiB,MAI/C0B,EACeC,cAAA,QAAA,CAAA,cAAAd,GAAciB,EAAUC,EAAuBC,aAAcpB,GAC1EzB,UAAW8C,EAAGC,EAAOC,YAAajB,EAAiBkB,EAAAA,EAAA,CAAA,EAChDF,EAAOpC,SAAWA,GAAQ,WACjBA,KAGZ4B,EAAAC,cAAA,OAAA,CAAMxC,UAAW8C,EAAGC,EAAOG,iBACzBX,EAAAC,cAAA,QAAAW,OAAAC,OAAA,CACEpD,UAAW8C,EAAGC,EAAOM,OACrBC,KAAK,QACLjD,MAAOA,EACPE,KAAMA,EACNK,UAAWA,EACXD,SAAUA,GACNyB,EAAY,CAChBmB,SAAUtC,EACVlB,IAAK8B,KAEPU,EAAAC,cAAA,OAAA,CAAA,cACeG,EAAUC,EAAuBY,qBAAsB/B,GACpEzB,UAAW8C,EAAGC,EAAOU,QAAShD,EAAoBwC,KAC/CF,EAAOW,gBAAkBlC,OAI/BrB,GACCoC,EAACC,cAAAmB,GACCC,QAAQ,OACRN,KAAMK,EAAKE,MAAMC,MACjB9D,UAAWQ,EACE,cAAAmC,EAAUC,EAAuBmB,mBAAoBtC,IAEjEtB,GAGJa,GACCuB,EAAAC,cAACwB,EAAU,CAAAC,QAAShC,EAAciC,SAAU5C,GACzCN,IAMb"}