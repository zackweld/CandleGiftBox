{"version":3,"file":"ThemeProviderUtils.js","sources":["../../../../../src/components/ThemeProvider/ThemeProviderUtils.ts"],"sourcesContent":["import { Theme, ThemeColorTokenValueMap, SystemTheme, SystemThemeClassMap } from \"./ThemeProviderConstants\";\n\nconst generateCss = (object: ThemeColorTokenValueMap, stack: string, parentSelector: string) => {\n  for (const key of Object.keys(object)) {\n    if (typeof object[key as keyof ThemeColorTokenValueMap] === \"string\") {\n      stack += `--${key}: ${object[key as keyof ThemeColorTokenValueMap]};`;\n    }\n  }\n\n  if (stack !== \"\") {\n    stack = parentSelector + \" {\" + stack + \"}\";\n  }\n\n  for (const key of Object.keys(object)) {\n    if (typeof object[key as keyof ThemeColorTokenValueMap] === \"object\") {\n      const selector = `${parentSelector} .${key}`;\n      stack +=\n        \"\\n\" + generateCss(object[key as keyof ThemeColorTokenValueMap] as ThemeColorTokenValueMap, \"\", selector);\n    }\n  }\n\n  return stack;\n};\n\nexport const shouldGenerateTheme = (themeConfig: Theme) => {\n  return !!themeConfig?.colors && !!themeConfig?.name;\n};\n\nexport const generateThemeCssOverride = (themeConfig: Theme, themeClassSpecifier: string) => {\n  if (!shouldGenerateTheme(themeConfig)) {\n    return null;\n  }\n\n  let css = \"\";\n  for (const systemTheme of Object.keys(themeConfig.colors) as SystemTheme[]) {\n    css +=\n      generateCss(\n        themeConfig.colors[systemTheme],\n        \"\",\n        `.${SystemThemeClassMap[systemTheme]} .${themeClassSpecifier}.${themeConfig.name}`\n      ) + \"\\n\";\n  }\n\n  return css;\n};\n\nexport const generateRandomAlphaString = (length = 6) => {\n  let result = \"\";\n  const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * characters.length));\n  }\n\n  return result;\n};\n\nconst APP_THEME_SUFFIX = \"-app-theme\";\n\nconst isAppThemeClassName = (className: string) => {\n  return className.endsWith(APP_THEME_SUFFIX);\n};\n\nexport const addAppThemeSuffix = (systemTheme: SystemTheme) => {\n  return `${systemTheme}${APP_THEME_SUFFIX}`;\n};\n\nexport const getBodySystemThemeClassName = () => {\n  const classList = document.body.classList;\n  for (const className of Array.from(classList)) {\n    if (isAppThemeClassName(className)) {\n      return className;\n    }\n  }\n  return null;\n};\n\nexport const isAnySystemThemeClassNameOnBody = () => {\n  const bodySystemThemeClassName = getBodySystemThemeClassName();\n  return !!bodySystemThemeClassName;\n};\n\nexport const addSystemThemeClassNameToBody = (systemTheme: SystemTheme) => {\n  document.body.classList.add(addAppThemeSuffix(systemTheme));\n};\n\nexport const removeSystemThemeClassNameFromBody = (systemTheme: SystemTheme) => {\n  document.body.classList.remove(addAppThemeSuffix(systemTheme));\n};\n"],"names":["generateCss","object","stack","parentSelector","_i","_Object$keys","Object","keys","length","key","concat","_i2","_Object$keys2","_typeof","selector","shouldGenerateTheme","themeConfig","colors","name","generateThemeCssOverride","themeClassSpecifier","css","_i3","_Object$keys3","systemTheme","SystemThemeClassMap","generateRandomAlphaString","arguments","undefined","result","characters","i","charAt","Math","floor","random","APP_THEME_SUFFIX","isAppThemeClassName","className","endsWith","addAppThemeSuffix","getBodySystemThemeClassName","classList","document","body","_i4","_Array$from","Array","from","isAnySystemThemeClassNameOnBody","addSystemThemeClassNameToBody","add","removeSystemThemeClassNameFromBody","remove"],"mappings":"0IAEA,IAAMA,EAAc,SAAdA,EAAeC,EAAiCC,EAAeC,GACnE,IAAA,IAAAC,EAAAC,EAAAA,EAAkBC,OAAOC,KAAKN,GAAOI,EAAAG,OAAAJ,EAAAA,IAAE,CAAlC,IAAMK,EAAGJ,EAAAD,GACgD,iBAAjDH,EAAOQ,KAChBP,GAAK,KAAAQ,OAASD,EAAG,MAAAC,OAAKT,EAAOQ,GAAwC,KAExE,CAEa,KAAVP,IACFA,EAAQC,EAAiB,KAAOD,EAAQ,KAG1C,IAAA,IAAAS,EAAAC,EAAAA,EAAkBN,OAAOC,KAAKN,GAAOW,EAAAJ,OAAAG,EAAAA,IAAE,CAAlC,IAAMF,EAAGG,EAAAD,GACZ,GAA4D,WAAxDE,EAAOZ,EAAOQ,IAAoD,CACpE,IAAMK,KAAQJ,OAAMP,EAAcO,MAAAA,OAAKD,GACvCP,GACE,KAAOF,EAAYC,EAAOQ,GAAkE,GAAIK,EACnG,CACF,CAED,OAAOZ,CACT,EAEaa,EAAsB,SAACC,GAClC,SAASA,aAAW,EAAXA,EAAaC,YAAYD,eAAAA,EAAaE,KACjD,EAEaC,EAA2B,SAACH,EAAoBI,GAC3D,IAAKL,EAAoBC,GACvB,OAAO,KAIT,IADA,IAAIK,EAAM,GACVC,IAAAC,EAA0BjB,OAAOC,KAAKS,EAAYC,QAAwBM,EAAAf,OAAAc,EAAAA,IAAE,CAAvE,IAAME,EAAWD,EAAAD,GACpBD,GACErB,EACEgB,EAAYC,OAAOO,GACnB,GAAE,IAAAd,OACEe,EAAoBD,GAAY,MAAAd,OAAKU,EAAmBV,KAAAA,OAAIM,EAAYE,OAC1E,IACP,CAED,OAAOG,CACT,EAEaK,EAA4B,WAIvC,IAJsD,IAAdlB,EAAMmB,UAAAnB,OAAA,QAAAoB,IAAAD,UAAA,GAAAA,UAAA,GAAG,EAC7CE,EAAS,GACPC,EAAa,uDAEVC,EAAI,EAAOvB,EAAJuB,EAAYA,IAC1BF,GAAUC,EAAWE,OAAOC,KAAKC,MAAsBJ,GAAhBG,KAAKE,WAG9C,OAAON,CACT,EAEMO,EAAmB,aAEnBC,EAAsB,SAACC,GAC3B,OAAOA,EAAUC,SAASH,EAC5B,EAEaI,EAAoB,SAAChB,GAChC,MAAA,GAAAd,OAAUc,GAAWd,OAAG0B,EAC1B,EAEaK,EAA8B,WAEzC,IADA,IAAMC,EAAYC,SAASC,KAAKF,UAChCG,EAAAC,EAAAA,EAAwBC,MAAMC,KAAKN,GAAUI,EAAAtC,OAAAqC,EAAAA,IAAE,CAA1C,IAAMP,EAASQ,EAAAD,GAClB,GAAIR,EAAoBC,GACtB,OAAOA,CAEV,CACD,OAAO,IACT,EAEaW,EAAkC,WAE7C,QADiCR,GAEnC,EAEaS,EAAgC,SAAC1B,GAC5CmB,SAASC,KAAKF,UAAUS,IAAIX,EAAkBhB,GAChD,EAEa4B,EAAqC,SAAC5B,GACjDmB,SAASC,KAAKF,UAAUW,OAAOb,EAAkBhB,GACnD"}