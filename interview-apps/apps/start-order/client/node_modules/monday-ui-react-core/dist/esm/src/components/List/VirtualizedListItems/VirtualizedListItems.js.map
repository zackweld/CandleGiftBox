{"version":3,"file":"VirtualizedListItems.js","sources":["../../../../../../src/components/List/VirtualizedListItems/VirtualizedListItems.tsx"],"sourcesContent":["import React, { CSSProperties, ReactElement, useCallback, useMemo } from \"react\";\nimport cx from \"classnames\";\nimport ListItem, { ListItemProps } from \"../../../components/ListItem/ListItem\";\nimport ListTitle, { ListTitleProps } from \"../../ListTitle/ListTitle\";\nimport VirtualizedList from \"../../../components/VirtualizedList/VirtualizedList\";\nimport VibeComponentProps from \"../../../types/VibeComponentProps\";\nimport { ListItemIconProps } from \"../../ListItemIcon/ListItemIcon\";\nimport styles from \"./VirtualizedListItems.module.scss\";\n\nconst ITEM_CHILDREN_TYPES = {\n  TITLE: \"title\",\n  ITEM: \"item\"\n};\n\nconst LIST_TITLE_HEIGHT = 48;\nconst LIST_ITEM_HEIGHT = 32;\n\nexport interface VirtualizedListItemsProps extends VibeComponentProps {\n  children?: React.ReactElement<ListItemProps | ListTitleProps> | React.ReactElement<ListItemProps | ListTitleProps>[];\n}\n\nexport const VirtualizedListItems: React.FC<VirtualizedListItemsProps> = ({ children }) => {\n  const items = useMemo(() => {\n    const childrenArr = Array.isArray(children) ? children : [children];\n    return childrenArr\n      .map((child, index) => {\n        // @ts-ignore displayName is coming from Component assigned field: ListTitle, ListItem\n        const childTypeDisplayName = child.type.displayName;\n        if (childTypeDisplayName === ListTitle.displayName) {\n          return {\n            type: ITEM_CHILDREN_TYPES.TITLE,\n            id: `list-title-${index}`,\n            props: child.props,\n            // avoid add spacing to the first category on the list\n            height: LIST_TITLE_HEIGHT\n          };\n        } else if (childTypeDisplayName === ListItem.displayName) {\n          const { id } = child.props;\n          return {\n            type: ITEM_CHILDREN_TYPES.ITEM,\n            id: id || `list-item-${index}`,\n            props: child.props,\n            height: LIST_ITEM_HEIGHT\n          };\n        } else {\n          return undefined;\n        }\n      })\n      .filter(item => item !== undefined);\n  }, [children]);\n\n  const itemRenderer = useCallback(\n    (item: ReactElement<ListItemProps | ListItemIconProps | ListTitleProps>, index: number, style: CSSProperties) => {\n      const { type, props } = item;\n      let element;\n      switch (type) {\n        case ITEM_CHILDREN_TYPES.TITLE: {\n          element = <ListTitle {...(props as ListTitleProps)} />;\n          break;\n        }\n        case ITEM_CHILDREN_TYPES.ITEM: {\n          element = <ListItem {...(props as ListItemProps)} />;\n          break;\n        }\n      }\n\n      return <div style={style}>{element}</div>;\n    },\n    []\n  );\n\n  return (\n    // @ts-ignore TODO TS-migration fix when VirtualizedList is converted to TS\n    <VirtualizedList scrollableClassName={cx(styles.scrollableContainer)} items={items} itemRenderer={itemRenderer} />\n  );\n};\n"],"names":["ITEM_CHILDREN_TYPES","VirtualizedListItems","_ref","children","items","useMemo","Array","isArray","map","child","index","childTypeDisplayName","type","displayName","ListTitle","id","concat","props","height","ListItem","filter","item","undefined","itemRenderer","useCallback","style","element","React","createElement","Object","assign","VirtualizedList","scrollableClassName","cx","styles","scrollableContainer"],"mappings":"iRASA,IAAMA,EACG,QADHA,EAEE,OAUKC,EAA4D,SAAxCC,GAAyD,IAAdC,EAAQD,EAARC,SACpEC,EAAQC,GAAQ,WAEpB,OADoBC,MAAMC,QAAQJ,GAAYA,EAAW,CAACA,IAEvDK,KAAI,SAACC,EAAOC,GAEX,IAAMC,EAAuBF,EAAMG,KAAKC,YACxC,OAAIF,IAAyBG,EAAUD,YAC9B,CACLD,KAAMZ,EACNe,GAAEC,cAAAA,OAAgBN,GAClBO,MAAOR,EAAMQ,MAEbC,OApBc,IAsBPP,IAAyBQ,EAASN,YAEpC,CACLD,KAAMZ,EACNe,GAHaN,EAAMQ,MAAbF,IAGA,aAAAC,OAAiBN,GACvBO,MAAOR,EAAMQ,MACbC,OA3Ba,SA8Bf,CAEJ,IACCE,QAAO,SAAAC,GAAI,YAAaC,IAATD,IACpB,GAAG,CAAClB,IAEEoB,EAAeC,GACnB,SAACH,EAAwEX,EAAee,GACtF,IACIC,EADUT,EAAUI,EAAVJ,MAEd,OAFwBI,EAAhBT,MAGN,KAAKZ,EACH0B,EAAUC,EAACC,cAAAd,EAAee,OAAAC,OAAA,CAAA,EAAAb,IAC1B,MAEF,KAAKjB,EACH0B,EAAUC,EAACC,cAAAT,EAAcU,OAAAC,OAAA,CAAA,EAAAb,IAK7B,OAAOU,uBAAKF,MAAOA,GAAQC,EAC5B,GACD,IAGF,OAEEC,EAACC,cAAAG,GAAgBC,oBAAqBC,EAAGC,EAAOC,qBAAsB/B,MAAOA,EAAOmB,aAAcA,GAEtG"}