{"version":3,"file":"a11yDialog.js","sources":["../../../../../src/components/Modal/a11yDialog.ts"],"sourcesContent":["import React from \"react\";\nimport A11yDialogLib from \"a11y-dialog\";\nimport { A11yDialogType } from \"./ModalHelper\";\n\nconst useA11yDialogInstance = (): [A11yDialogType, (node: Element) => void] => {\n  const [instance, setInstance] = React.useState(null);\n  const container = React.useCallback((node: Element) => {\n    if (node !== null) setInstance(new A11yDialogLib(node));\n  }, []);\n\n  return [instance, container];\n};\n\nexport const useA11yDialog = ({ id, alertDialog }: { id: string; alertDialog: boolean }) => {\n  const [instance, ref] = useA11yDialogInstance();\n  const role = alertDialog ? \"alertdialog\" : \"dialog\";\n  const titleId = id + \"-title\";\n\n  // Destroy the `a11y-dialog` instance when unmounting the component.\n  React.useEffect(() => {\n    return () => {\n      if (instance) instance.destroy();\n    };\n  }, [instance]);\n\n  return [\n    instance,\n    {\n      container: {\n        id,\n        ref,\n        role,\n        tabIndex: -1,\n        \"aria-modal\": true,\n        \"aria-hidden\": true,\n        \"aria-labelledby\": titleId\n      },\n      dialog: { role: \"document\" },\n      // Using a paragraph with accessibility mapping can be useful to work\n      // around SEO concerns of having multiple <h1> per page.\n      title: { id: titleId }\n    }\n  ];\n};\n"],"names":["useA11yDialog","_ref","_React$useState","_React$useState2","setInstance","id","alertDialog","_useA11yDialogInstanc","React","useState","_slicedToArray","useCallback","node","A11yDialogLib","_useA11yDialogInstanc2","instance","ref","role","titleId","useEffect","destroy","container","tabIndex","dialog","title"],"mappings":"+HAIA,IASaA,EAAgB,SAAHC,GAAiE,IARzFC,EAAoDC,EAAnCC,EAQaC,EAAEJ,EAAFI,GAAIC,EAAWL,EAAXK,YAClCC,GATAL,EAAgCM,EAAMC,SAAS,MAAKN,EAAAO,EAAAR,EAAA,GAAnCE,EAAWD,EAAA,GAKrB,CALQA,EAAA,GACGK,EAAMG,aAAY,SAACC,GACtB,OAATA,GAAeR,EAAY,IAAIS,EAAcD,GAClD,GAAE,MAM4CE,EAAAJ,EAAAH,EAAA,GAAxCQ,EAAQD,EAAA,GAAEE,EAAGF,EAAA,GACdG,EAAOX,EAAc,cAAgB,SACrCY,EAAUb,EAAK,SASrB,OANAG,EAAMW,WAAU,WACd,OAAO,WACDJ,GAAUA,EAASK,UAE3B,GAAG,CAACL,IAEG,CACLA,EACA,CACEM,UAAW,CACThB,GAAAA,EACAW,IAAAA,EACAC,KAAAA,EACAK,UAAW,EACX,cAAc,EACd,eAAe,EACf,kBAAmBJ,GAErBK,OAAQ,CAAEN,KAAM,YAGhBO,MAAO,CAAEnB,GAAIa,IAGnB"}