{"version":3,"file":"ListItem.js","sources":["../../../../../src/components/ListItem/ListItem.tsx"],"sourcesContent":["/* eslint-disable jsx-a11y/role-supports-aria-props,jsx-a11y/no-noninteractive-element-interactions */\nimport cx from \"classnames\";\nimport React, { AriaAttributes, forwardRef, useCallback, useContext, useEffect, useRef } from \"react\";\nimport { camelCase } from \"lodash-es\";\nimport { getStyle } from \"../../helpers/typesciptCssModulesHelper\";\nimport Text from \"../Text/Text\";\nimport { SIZES, SELECTION_KEYS } from \"../../constants\";\nimport { NOOP } from \"../../utils/function-utils\";\nimport { withStaticProps, VibeComponentProps, VibeComponent, ElementContent } from \"../../types\";\nimport { useKeyEvent } from \"../../hooks\";\nimport useMergeRef from \"../../hooks/useMergeRef\";\nimport { ListContext } from \"../List/utils/ListContext\";\nimport { ListItemComponentType } from \"./ListItemConstants\";\nimport styles from \"./ListItem.module.scss\";\n\nexport interface ListItemProps extends VibeComponentProps {\n  /**\n   * the ListItem component [li, div, a]\n   */\n  component?: ListItemComponentType;\n  /**\n   * The textual content of the list item\n   */\n  children?: ElementContent;\n  /**\n   * A class name to be passed to the list item wrapper\n   */\n  className?: string;\n  /**\n   * An id to be passed to the list item wrapper\n   */\n  id?: string;\n  /**\n   * A callback function which is being called when the item is being clicked\n   * It will be called with the following params\n   * event (DomEvent)\n   * id (the id which is being passed)\n   * onClick(event, id)\n   */\n  onClick?: (event: React.MouseEvent | React.KeyboardEvent, id: string) => void;\n  /**\n   * A callback function which is being called when the item is being hovered\n   * It will be called with the following params\n   * event (DomEvent)\n   * id (the id which is being passed)\n   * onHover(event, id)\n   */\n  onHover?: (event: React.MouseEvent | React.FocusEvent, id: string) => void;\n  /**\n   * disabled state - callback will not be called and navigation will be skipped\n   */\n  disabled?: boolean;\n  /**\n   * Selected indication\n   */\n  selected?: boolean;\n  /**\n   * The size of the list item\n   */\n  size?: (typeof SIZES)[keyof typeof SIZES];\n  /**\n   Tabindex is used for keyboard navigation - if you want to skip \"Tab navigation\" please pass -1.\n   */\n  tabIndex?: number;\n  \"aria-current\"?: AriaAttributes[\"aria-current\"];\n}\n\nconst ListItem: VibeComponent<ListItemProps> & { sizes?: typeof SIZES; components?: typeof ListItemComponentType } =\n  forwardRef(\n    (\n      {\n        className,\n        id,\n        component = ListItem.components.DIV,\n        onClick = NOOP,\n        onHover = NOOP,\n        selected,\n        disabled = false,\n        size = SIZES.SMALL,\n        tabIndex = 0,\n        children,\n        \"aria-current\": ariaCurrent,\n        \"data-testid\": dataTestId\n      },\n      ref\n    ) => {\n      const { updateFocusedItem } = useContext(ListContext);\n      const componentRef = useRef(null);\n      const mergedRef = useMergeRef(ref, componentRef);\n\n      useEffect(() => {\n        if (selected) {\n          updateFocusedItem?.(id);\n        }\n      }, [selected, id, updateFocusedItem]);\n\n      const componentOnClick = useCallback(\n        (event: React.MouseEvent | React.KeyboardEvent) => {\n          if (disabled) return;\n          onClick(event, id);\n        },\n        [disabled, onClick, id]\n      );\n\n      useKeyEvent({\n        keys: SELECTION_KEYS,\n        ref: componentRef,\n        callback: componentOnClick\n      });\n\n      const componentOnHover = useCallback(\n        (event: React.MouseEvent | React.FocusEvent) => {\n          if (disabled) return;\n          onHover(event, id);\n        },\n        [disabled, onHover, id]\n      );\n\n      return (\n        <Text\n          element={component}\n          data-testid={dataTestId || id}\n          ref={mergedRef}\n          className={cx(styles.listItem, className, getStyle(styles, camelCase(size)), {\n            [styles.selected]: selected && !disabled,\n            [styles.disabled]: disabled\n          })}\n          id={id}\n          type={Text.types.TEXT2}\n          aria-disabled={disabled}\n          aria-selected={selected}\n          onClick={componentOnClick}\n          onMouseEnter={componentOnHover}\n          onFocus={componentOnHover}\n          role=\"option\"\n          tabIndex={tabIndex}\n          aria-current={ariaCurrent}\n        >\n          {children}\n        </Text>\n      );\n    }\n  );\n\nObject.assign(ListItem, {\n  // Used by VirtualizedListItems\n  displayName: \"ListItem\"\n});\n\nexport default withStaticProps(ListItem, {\n  sizes: SIZES,\n  components: ListItemComponentType\n});\n"],"names":["ListItem","forwardRef","_ref","ref","className","id","_ref$component","component","components","DIV","_ref$onClick","onClick","NOOP","_ref$onHover","onHover","selected","_ref$disabled","disabled","_ref$size","size","SIZES","SMALL","_ref$tabIndex","tabIndex","children","ariaCurrent","dataTestId","updateFocusedItem","useContext","ListContext","componentRef","useRef","mergedRef","useMergeRef","useEffect","componentOnClick","useCallback","event","useKeyEvent","keys","SELECTION_KEYS","callback","componentOnHover","React","createElement","Text","element","cx","styles","listItem","getStyle","camelCase","_defineProperty","type","types","TEXT2","onMouseEnter","onFocus","role","Object","assign","displayName","withStaticProps","sizes","ListItemComponentType"],"mappings":"ypCAmEA,IAAMA,EACJC,GACE,SAAAC,EAeEC,GACE,IAdAC,EAASF,EAATE,UACAC,EAAEH,EAAFG,GAAEC,EAAAJ,EACFK,UAAAA,OAAYP,IAAHM,EAAGN,EAASQ,WAAWC,IAAGH,EAAAI,EAAAR,EACnCS,QAAAA,OAAUC,IAAHF,EAAGE,EAAIF,EAAAG,EAAAX,EACdY,QAAAA,OAAUF,IAAHC,EAAGD,EAAIC,EACdE,EAAQb,EAARa,SAAQC,EAAAd,EACRe,SAAAA,OAAW,IAAHD,GAAQA,EAAAE,EAAAhB,EAChBiB,KAAAA,OAAI,IAAAD,EAAGE,EAAMC,MAAKH,EAAAI,EAAApB,EAClBqB,SAAAA,OAAW,IAAHD,EAAG,EAACA,EACZE,EAAQtB,EAARsB,SACgBC,EAAWvB,EAA3B,gBACewB,EAAUxB,EAAzB,eAIMyB,EAAsBC,EAAWC,GAAjCF,kBACFG,EAAeC,EAAO,MACtBC,EAAYC,EAAY9B,EAAK2B,GAEnCI,GAAU,WACJnB,IACFY,SAAAA,EAAoBtB,GAEvB,GAAE,CAACU,EAAUV,EAAIsB,IAElB,IAAMQ,EAAmBC,GACvB,SAACC,GACKpB,GACJN,EAAQ0B,EAAOhC,EAChB,GACD,CAACY,EAAUN,EAASN,IAGtBiC,EAAY,CACVC,KAAMC,EACNrC,IAAK2B,EACLW,SAAUN,IAGZ,IAAMO,EAAmBN,GACvB,SAACC,GACKpB,GACJH,EAAQuB,EAAOhC,EAChB,GACD,CAACY,EAAUH,EAAST,IAGtB,OACEsC,EAAAC,cAACC,EAAI,CACHC,QAASvC,EACI,cAAAmB,GAAcrB,EAC3BF,IAAK6B,EACL5B,UAAW2C,EAAGC,EAAOC,SAAU7C,EAAW8C,EAASF,EAAQG,EAAUhC,IAAMiC,EAAAA,EACxEJ,CAAAA,EAAAA,EAAOjC,SAAWA,IAAaE,GAC/B+B,EAAO/B,SAAWA,IAErBZ,GAAIA,EACJgD,KAAMR,EAAKS,MAAMC,sBACFtC,EAAQ,gBACRF,EACfJ,QAASwB,EACTqB,aAAcd,EACde,QAASf,EACTgB,KAAK,SACLnC,SAAUA,EACI,eAAAE,GAEbD,EAGP,IAGJmC,OAAOC,OAAO5D,EAAU,CAEtB6D,YAAa,aAGf,IAAeC,EAAAA,EAAgB9D,EAAU,CACvC+D,MAAO3C,EACPZ,WAAYwD"}