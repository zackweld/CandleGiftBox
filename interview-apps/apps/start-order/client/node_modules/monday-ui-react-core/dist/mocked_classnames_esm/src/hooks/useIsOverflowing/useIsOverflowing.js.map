{"version":3,"file":"useIsOverflowing.js","sources":["../../../../../src/hooks/useIsOverflowing/useIsOverflowing.ts"],"sourcesContent":["/* eslint-disable no-param-reassign */\nimport { RefObject, useCallback, useState } from \"react\";\nimport useResizeObserver from \"../useResizeObserver\";\n\nfunction checkOverflow(element: HTMLElement, ignoreHeightOverflow: boolean, tolerance = 0) {\n  if (!element) {\n    return false;\n  }\n  const curOverflow = element.style.overflow;\n  if (!curOverflow || curOverflow === \"visible\") element.style.overflow = \"hidden\";\n  const isOverflowing =\n    element.clientWidth < element.scrollWidth ||\n    (!ignoreHeightOverflow && element.clientHeight + tolerance < element.scrollHeight);\n  element.style.overflow = curOverflow;\n  return isOverflowing;\n}\n\nexport default function useIsOverflowing({\n  ref,\n  ignoreHeightOverflow = false,\n  tolerance\n}: {\n  ref: RefObject<HTMLElement>;\n  ignoreHeightOverflow?: boolean;\n  tolerance?: number;\n}) {\n  const [isOverflowing, setIsOverflowing] = useState<boolean>(() =>\n    checkOverflow(ref?.current, ignoreHeightOverflow, tolerance)\n  );\n  const callback = useCallback(() => {\n    setIsOverflowing(checkOverflow(ref?.current, ignoreHeightOverflow, tolerance));\n  }, [ignoreHeightOverflow, ref, tolerance]);\n\n  useResizeObserver({\n    ref,\n    callback,\n    debounceTime: 0\n  });\n\n  return isOverflowing;\n}\n"],"names":["checkOverflow","element","ignoreHeightOverflow","tolerance","arguments","length","undefined","curOverflow","style","overflow","isOverflowing","scrollWidth","clientWidth","scrollHeight","clientHeight","useIsOverflowing","_ref","ref","_ref$ignoreHeightOver","_useState","useState","current","_useState2","_slicedToArray","setIsOverflowing","callback","useCallback","useResizeObserver","debounceTime"],"mappings":"wKAIA,SAASA,EAAcC,EAAsBC,GAA4C,IAAbC,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,EACtF,IAAKH,EACH,OAAO,EAET,IAAMM,EAAcN,EAAQO,MAAMC,SAC7BF,GAA+B,YAAhBA,IAA2BN,EAAQO,MAAMC,SAAW,UACxE,IAAMC,EACkBT,EAAQU,YAA9BV,EAAQW,cACNV,GAA2DD,EAAQY,aAA3CZ,EAAQa,aAAeX,EAEnD,OADAF,EAAQO,MAAMC,SAAWF,EAClBG,CACT,CAEwB,SAAAK,EAAgBC,GAQvC,IAPCC,EAAGD,EAAHC,IAAGC,EAAAF,EACHd,qBAAAA,OAAuB,IAAHgB,GAAQA,EAC5Bf,EAASa,EAATb,UAMAgB,EAA0CC,GAAkB,WAAA,OAC1DpB,EAAciB,aAAA,EAAAA,EAAKI,QAASnB,EAAsBC,MACnDmB,EAAAC,EAAAJ,EAAA,GAFMT,EAAaY,EAAA,GAAEE,EAAgBF,EAAA,GAGhCG,EAAWC,GAAY,WAC3BF,EAAiBxB,EAAciB,aAAA,EAAAA,EAAKI,QAASnB,EAAsBC,GACpE,GAAE,CAACD,EAAsBe,EAAKd,IAQ/B,OANAwB,EAAkB,CAChBV,IAAAA,EACAQ,SAAAA,EACAG,aAAc,IAGTlB,CACT"}