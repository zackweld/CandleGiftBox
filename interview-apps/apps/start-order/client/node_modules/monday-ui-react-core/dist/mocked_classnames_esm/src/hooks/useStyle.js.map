{"version":3,"file":"useStyle.js","sources":["../../../../src/hooks/useStyle.ts"],"sourcesContent":["import { CSSProperties, useMemo, useRef } from \"react\";\nimport { isEqual, isEmpty } from \"lodash-es\";\n\n// remove empty values\nfunction removeEmpty(obj: CSSProperties) {\n  const newObj = { ...obj };\n  for (const k in newObj) {\n    if (newObj[k as keyof typeof newObj] === undefined) {\n      delete newObj[k as keyof typeof newObj];\n    }\n  }\n\n  return newObj;\n}\n\nexport default function useStyle(currentStyle: CSSProperties, additionalProps?: CSSProperties) {\n  const additionalPropsRef = useRef<CSSProperties>(additionalProps);\n  const currentStyleRef = useRef<CSSProperties>(currentStyle);\n  // using deep equal in order to allow sending new object for additionalProps\n  // but with the same values inside i.e. '{ color, width }'\n  if (!isEqual(additionalPropsRef.current, additionalProps)) {\n    additionalPropsRef.current = additionalProps;\n  }\n  if (!isEqual(currentStyleRef.current, currentStyle)) {\n    currentStyleRef.current = currentStyle;\n  }\n  const currentStyleObj = currentStyleRef.current;\n  const additionalPropsObj = additionalPropsRef.current;\n  return useMemo(() => {\n    const nonEmptyObj = removeEmpty(additionalPropsObj);\n    if (isEmpty(nonEmptyObj)) return currentStyleObj;\n    return {\n      ...currentStyleObj,\n      ...nonEmptyObj\n    };\n  }, [currentStyleObj, additionalPropsObj]);\n}\n"],"names":["useStyle","currentStyle","additionalProps","additionalPropsRef","useRef","currentStyleRef","isEqual","current","currentStyleObj","additionalPropsObj","useMemo","nonEmptyObj","obj","newObj","Object","assign","k","undefined","removeEmpty","isEmpty"],"mappings":"6FAec,SAAUA,EAASC,EAA6BC,GAC5D,IAAMC,EAAqBC,EAAsBF,GAC3CG,EAAkBD,EAAsBH,GAGzCK,EAAQH,EAAmBI,QAASL,KACvCC,EAAmBI,QAAUL,GAE1BI,EAAQD,EAAgBE,QAASN,KACpCI,EAAgBE,QAAUN,GAE5B,IAAMO,EAAkBH,EAAgBE,QAClCE,EAAqBN,EAAmBI,QAC9C,OAAOG,GAAQ,WACb,IAAMC,EAzBV,SAAqBC,GACnB,IAAMC,EAAMC,OAAAC,OAAA,CAAA,EAAQH,GACpB,IAAK,IAAMI,KAAKH,OAC2BI,IAArCJ,EAAOG,WACFH,EAAOG,GAIlB,OAAOH,CACT,CAgBwBK,CAAYT,GAChC,OAAIU,EAAQR,GAAqBH,EAE5BM,OAAAC,OAAAD,OAAAC,OAAA,CAAA,EAAAP,GACAG,EAEP,GAAG,CAACH,EAAiBC,GACvB"}