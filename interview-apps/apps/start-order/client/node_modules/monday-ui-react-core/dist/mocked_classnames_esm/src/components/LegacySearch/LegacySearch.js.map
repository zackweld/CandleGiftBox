{"version":3,"file":"LegacySearch.js","sources":["../../../../../src/components/LegacySearch/LegacySearch.tsx"],"sourcesContent":["import cx from \"classnames\";\nimport React, { forwardRef } from \"react\";\nimport TextField from \"../TextField/TextField\";\nimport useMergeRef from \"../../hooks/useMergeRef\";\nimport { SearchDefaultIconNames, SearchType } from \"./SearchConstants\";\nimport CloseIcon from \"../Icon/Icons/components/CloseSmall\";\nimport SearchIcon from \"../Icon/Icons/components/Search\";\nimport { NOOP } from \"../../utils/function-utils\";\nimport { SubIcon, VibeComponentProps, VibeComponent, withStaticProps } from \"../../types\";\nimport { TextFieldTextType } from \"../TextField/TextFieldConstants\";\nimport { BASE_SIZES } from \"../../constants\";\nimport { ComponentDefaultTestId, getTestId } from \"../../tests/test-ids-utils\";\nimport styles from \"./LegacySearch.module.scss\";\n\nexport interface SearchProps extends VibeComponentProps {\n  secondaryIconName?: SubIcon;\n  iconName?: SubIcon;\n  onChange?: (value: string) => void;\n  autoFocus?: boolean;\n  value?: string;\n  placeholder?: string;\n  disabled?: boolean;\n  debounceRate?: number;\n  onBlur?: (event: React.FocusEvent) => void;\n  onFocus?: (event: React.FocusEvent) => void;\n  wrapperClassName?: string;\n  setRef?: () => void;\n  autoComplete?: string;\n  /* BASE_SIZES is exposed on the component itself */\n  size?: (typeof BASE_SIZES)[keyof typeof BASE_SIZES];\n  /* TYPES is exposed on the component itself */\n  type?: SearchType;\n  validation?:\n    | {\n        status: \"error\" | \"success\";\n        text: string;\n      }\n    | { text: string };\n  inputAriaLabel?: string;\n  searchResultsContainerId?: string;\n  activeDescendant?: string;\n  /*  Icon names labels for a11y */\n  iconNames?: {\n    layout: string;\n    primary: string;\n    secondary: string;\n  };\n  /** shows loading animation */\n  loading?: boolean;\n}\n\nconst LegacySearch: VibeComponent<SearchProps, unknown> & {\n  sizes?: typeof BASE_SIZES;\n  types?: typeof SearchType;\n} = forwardRef<unknown, SearchProps>(\n  (\n    {\n      secondaryIconName = CloseIcon,\n      iconName = SearchIcon,\n      onChange = NOOP,\n      autoFocus = false,\n      value = \"\",\n      placeholder = \"\",\n      disabled = false,\n      debounceRate = 200,\n      onBlur = NOOP,\n      onFocus = NOOP,\n      wrapperClassName = \"\",\n      setRef = NOOP,\n      autoComplete = \"off\",\n      size = BASE_SIZES.MEDIUM,\n      type = SearchType.SQUARE,\n      className,\n      id = \"search\",\n      validation = null,\n      inputAriaLabel,\n      searchResultsContainerId = \"\",\n      activeDescendant = \"\",\n      iconNames = SearchDefaultIconNames,\n      loading = false,\n      \"data-testid\": dataTestId\n    },\n    ref\n  ) => {\n    const mergedRef = useMergeRef(ref, setRef);\n    return (\n      <TextField\n        id={id}\n        data-testid={dataTestId || getTestId(ComponentDefaultTestId.SEARCH, id)}\n        iconName={iconName}\n        value={value}\n        onChange={onChange}\n        autoFocus={autoFocus}\n        placeholder={placeholder}\n        disabled={disabled}\n        debounceRate={debounceRate}\n        className={cx(className, styles.search, { [styles.round]: type === SearchType.ROUND })}\n        secondaryIconName={secondaryIconName}\n        secondaryDataTestId={getTestId(ComponentDefaultTestId.CLEAN_SEARCH_BUTTON, id)}\n        wrapperClassName={cx(wrapperClassName, styles.searchWrapper)}\n        onBlur={onBlur}\n        onFocus={onFocus}\n        ref={mergedRef}\n        autoComplete={autoComplete}\n        size={size}\n        clearOnIconClick\n        validation={validation}\n        inputAriaLabel={inputAriaLabel}\n        searchResultsContainerId={searchResultsContainerId}\n        activeDescendant={activeDescendant}\n        iconsNames={iconNames}\n        type={TextFieldTextType.SEARCH}\n        role=\"search\"\n        loading={loading}\n        underline={type === SearchType.UNDERLINE}\n      />\n    );\n  }\n);\n\nexport default withStaticProps(LegacySearch, {\n  sizes: BASE_SIZES,\n  types: SearchType\n});\n"],"names":["withStaticProps","forwardRef","_ref","ref","_ref$secondaryIconNam","secondaryIconName","CloseIcon","_ref$iconName","iconName","SearchIcon","_ref$onChange","onChange","NOOP","_ref$autoFocus","autoFocus","_ref$value","value","_ref$placeholder","placeholder","_ref$disabled","disabled","_ref$debounceRate","debounceRate","_ref$onBlur","onBlur","_ref$onFocus","onFocus","_ref$wrapperClassName","wrapperClassName","_ref$setRef","setRef","_ref$autoComplete","autoComplete","_ref$size","size","BASE_SIZES","MEDIUM","_ref$type","type","SearchType","SQUARE","className","_ref$id","id","_ref$validation","validation","inputAriaLabel","_ref$searchResultsCon","searchResultsContainerId","_ref$activeDescendant","activeDescendant","_ref$iconNames","iconNames","SearchDefaultIconNames","_ref$loading","loading","dataTestId","mergedRef","useMergeRef","React","createElement","TextField","getTestId","ComponentDefaultTestId","SEARCH","cx","styles","search","_defineProperty","round","ROUND","secondaryDataTestId","CLEAN_SEARCH_BUTTON","searchWrapper","clearOnIconClick","iconsNames","TextFieldTextType","role","underline","UNDERLINE","sizes","types"],"mappings":"+0BAmDA,IAqEeA,EAAAA,EAlEXC,GACF,SAAAC,EA2BEC,GACE,IAAAC,EAAAF,EA1BAG,kBAAAA,OAAoBC,IAAHF,EAAGE,EAASF,EAAAG,EAAAL,EAC7BM,SAAAA,OAAWC,IAAHF,EAAGE,EAAUF,EAAAG,EAAAR,EACrBS,SAAAA,OAAWC,IAAHF,EAAGE,EAAIF,EAAAG,EAAAX,EACfY,UAAAA,OAAY,IAAHD,GAAQA,EAAAE,EAAAb,EACjBc,MAAAA,OAAQ,IAAHD,EAAG,GAAEA,EAAAE,EAAAf,EACVgB,YAAAA,OAAc,IAAHD,EAAG,GAAEA,EAAAE,EAAAjB,EAChBkB,SAAAA,OAAW,IAAHD,GAAQA,EAAAE,EAAAnB,EAChBoB,aAAAA,OAAe,IAAHD,EAAG,IAAGA,EAAAE,EAAArB,EAClBsB,OAAAA,OAASZ,IAAHW,EAAGX,EAAIW,EAAAE,EAAAvB,EACbwB,QAAAA,OAAUd,IAAHa,EAAGb,EAAIa,EAAAE,EAAAzB,EACd0B,iBAAAA,OAAmB,IAAHD,EAAG,GAAEA,EAAAE,EAAA3B,EACrB4B,OAAaC,EAAA7B,EACb8B,aAAAA,OAAe,IAAHD,EAAG,MAAKA,EAAAE,EAAA/B,EACpBgC,KAAAA,OAAI,IAAAD,EAAGE,EAAWC,OAAMH,EAAAI,EAAAnC,EACxBoC,KAAAA,OAAI,IAAAD,EAAGE,EAAWC,OAAMH,EACxBI,EAASvC,EAATuC,UAASC,EAAAxC,EACTyC,GAAAA,OAAK,IAAHD,EAAG,SAAQA,EAAAE,EAAA1C,EACb2C,WAAAA,OAAa,IAAHD,EAAG,KAAIA,EACjBE,EAAc5C,EAAd4C,eAAcC,EAAA7C,EACd8C,yBAAAA,OAA2B,IAAHD,EAAG,GAAEA,EAAAE,GAAA/C,EAC7BgD,iBAAAA,QAAmB,IAAHD,GAAG,GAAEA,GAAAE,GAAAjD,EACrBkD,UAAAA,QAAYC,IAAHF,GAAGE,EAAsBF,GAAAG,GAAApD,EAClCqD,QAAAA,QAAU,IAAHD,IAAQA,GACAE,GAAUtD,EAAzB,eAIIuD,GAAYC,EAAYvD,OAhBnBS,IAAHiB,EAAGjB,EAAIiB,GAiBf,OACE8B,EAACC,cAAAC,EACC,CAAAlB,GAAIA,EAAE,cACOa,IAAcM,EAAUC,EAAuBC,OAAQrB,GACpEnC,SAAUA,EACVQ,MAAOA,EACPL,SAAUA,EACVG,UAAWA,EACXI,YAAaA,EACbE,SAAUA,EACVE,aAAcA,EACdmB,UAAWwB,EAAGxB,EAAWyB,EAAOC,OAAMC,KAAKF,EAAOG,MAAQ/B,IAASC,EAAW+B,QAC9EjE,kBAAmBA,EACnBkE,oBAAqBT,EAAUC,EAAuBS,oBAAqB7B,GAC3Ef,iBAAkBqC,EAAGrC,EAAkBsC,EAAOO,eAC9CjD,OAAQA,EACRE,QAASA,EACTvB,IAAKsD,GACLzB,aAAcA,EACdE,KAAMA,EACNwC,kBAAgB,EAChB7B,WAAYA,EACZC,eAAgBA,EAChBE,yBAA0BA,EAC1BE,iBAAkBA,GAClByB,WAAYvB,GACZd,KAAMsC,EAAkBZ,OACxBa,KAAK,SACLtB,QAASA,GACTuB,UAAWxC,IAASC,EAAWwC,WAGrC,IAG2C,CAC3CC,MAAO7C,EACP8C,MAAO1C"}