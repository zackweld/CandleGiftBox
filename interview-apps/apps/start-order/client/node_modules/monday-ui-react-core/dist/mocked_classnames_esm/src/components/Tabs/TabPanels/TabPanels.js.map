{"version":3,"file":"TabPanels.js","sources":["../../../../../../src/components/Tabs/TabPanels/TabPanels.tsx"],"sourcesContent":["import cx from \"classnames\";\nimport { camelCase } from \"lodash-es\";\nimport React, { FC, forwardRef, ReactElement, useMemo, useRef } from \"react\";\nimport useMergeRef from \"../../../hooks/useMergeRef\";\nimport VibeComponentProps from \"../../../types/VibeComponentProps\";\nimport { TabPanelsAnimationDirection } from \"./TabPanelsConstants\";\nimport { TabPanelProps } from \"../TabPanel/TabPanel\";\nimport { ComponentDefaultTestId, getTestId } from \"../../../tests/test-ids-utils\";\nimport { getStyle } from \"../../../helpers/typesciptCssModulesHelper\";\nimport { withStaticProps } from \"../../../types\";\nimport styles from \"./TabPanels.module.scss\";\n\nexport interface TabPanelsProps extends VibeComponentProps {\n  renderOnlyActiveTab?: boolean;\n  activeTabId?: number;\n  animationDirection?: TabPanelsAnimationDirection;\n  children?: ReactElement<TabPanelProps> | ReactElement<TabPanelProps>[];\n}\n\nconst TabPanels: FC<TabPanelsProps> & {\n  animationDirections?: typeof TabPanelsAnimationDirection;\n} = forwardRef(\n  (\n    {\n      className,\n      id,\n      activeTabId = 0,\n      animationDirection = TabPanelsAnimationDirection.RTL,\n      children,\n      // TODO Vibe 2.0 BREAKING change to true - breaking change\n      renderOnlyActiveTab = false,\n      \"data-testid\": dataTestId\n    },\n    ref\n  ) => {\n    const componentRef = useRef(null);\n    const mergedRef = useMergeRef(ref, componentRef);\n    const renderedTabs = useMemo(() => {\n      return React.Children.map(children, (child, index) => {\n        const isActiveTab = activeTabId === index;\n        if (renderOnlyActiveTab && !isActiveTab) return null;\n        const activeClass = isActiveTab ? \"active\" : \"non-active\";\n        const animationClass = isActiveTab ? `animation-direction-${animationDirection}` : \"\";\n        return React.cloneElement(child, {\n          index,\n          ...child.props,\n          className: cx(\n            styles.tabPanel,\n            [getStyle(styles, activeClass)],\n            [getStyle(styles, camelCase(animationClass))],\n            child.props.className\n          )\n        });\n      }).filter(Boolean);\n    }, [children, activeTabId, renderOnlyActiveTab, animationDirection]);\n\n    return (\n      <div\n        ref={mergedRef}\n        className={cx(styles.tabPanelsWrapper, className)}\n        id={id}\n        data-testid={dataTestId || getTestId(ComponentDefaultTestId.TAB_PANELS, id)}\n      >\n        {renderedTabs}\n      </div>\n    );\n  }\n);\n\nObject.assign(TabPanels, {\n  isTabPanels: true\n});\n\nexport default withStaticProps(TabPanels, {\n  animationDirections: TabPanelsAnimationDirection\n});\n"],"names":["TabPanels","forwardRef","_ref","ref","className","id","_ref$activeTabId","activeTabId","_ref$animationDirecti","animationDirection","TabPanelsAnimationDirection","RTL","children","_ref$renderOnlyActive","renderOnlyActiveTab","dataTestId","componentRef","useRef","mergedRef","useMergeRef","renderedTabs","useMemo","React","Children","map","child","index","isActiveTab","activeClass","animationClass","concat","cloneElement","Object","assign","props","cx","styles","tabPanel","getStyle","camelCase","filter","Boolean","createElement","tabPanelsWrapper","getTestId","ComponentDefaultTestId","TAB_PANELS","isTabPanels","withStaticProps","animationDirections"],"mappings":"2fAmBA,IAAMA,EAEFC,GACF,SAAAC,EAWEC,GACE,IAVAC,EAASF,EAATE,UACAC,EAAEH,EAAFG,GAAEC,EAAAJ,EACFK,YAAAA,OAAc,IAAHD,EAAG,EAACA,EAAAE,EAAAN,EACfO,mBAAAA,OAAkB,IAAAD,EAAGE,EAA4BC,IAAGH,EACpDI,EAAQV,EAARU,SAAQC,EAAAX,EAERY,oBAAAA,OAAsB,IAAHD,GAAQA,EACZE,EAAUb,EAAzB,eAIIc,EAAeC,EAAO,MACtBC,EAAYC,EAAYhB,EAAKa,GAC7BI,EAAeC,GAAQ,WAC3B,OAAOC,EAAMC,SAASC,IAAIZ,GAAU,SAACa,EAAOC,GAC1C,IAAMC,EAAcpB,IAAgBmB,EACpC,GAAIZ,IAAwBa,EAAa,OAAO,KAChD,IAAMC,EAAcD,EAAc,SAAW,aACvCE,EAAiBF,EAAW,uBAAAG,OAA0BrB,GAAuB,GACnF,OAAOa,EAAMS,aAAaN,EACxBO,OAAAC,OAAAD,OAAAC,OAAA,CAAAP,MAAAA,GACGD,EAAMS,QACT9B,UAAW+B,EACTC,EAAOC,SACP,CAACC,EAASF,EAAQR,IAClB,CAACU,EAASF,EAAQG,EAAUV,KAC5BJ,EAAMS,MAAM9B,aAGlB,IAAGoC,OAAOC,QACX,GAAE,CAAC7B,EAAUL,EAAaO,EAAqBL,IAEhD,OACEa,EAAAoB,cAAA,MAAA,CACEvC,IAAKe,EACLd,UAAW+B,EAAGC,EAAOO,iBAAkBvC,GACvCC,GAAIA,EACS,cAAAU,GAAc6B,EAAUC,EAAuBC,WAAYzC,IAEvEe,EAGP,IAGFY,OAAOC,OAAOjC,EAAW,CACvB+C,aAAa,IAGf,IAAeC,EAAAA,EAAgBhD,EAAW,CACxCiD,oBAAqBvC"}