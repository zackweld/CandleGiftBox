import{toConsumableArray as o}from"../../../../../_virtual/_rollupPluginBabelHelpers.js";import{difference as r,intersection as e}from"lodash-es";import t,{forwardRef as i,useRef as l,useCallback as n,useMemo as s}from"react";import"../../../../constants/dialog.js";import{BaseSizes as c}from"../../../../constants/sizes.js";import"../../../../constants/positions.js";import{ColorStyle as a,contentColors as d}from"../../../../utils/colors-vars-map.js";import m from"../../../Icon/Icons/components/NoColor.js";import{ColorShapes as u,DEFAULT_NUMBER_OF_COLORS_IN_LINE as p}from"../../ColorPickerConstants.js";import{calculateColorPickerWidth as f}from"../../services/ColorPickerStyleService.js";import{useGridKeyboardNavigationContext as C,GridKeyboardNavigationContext as v}from"../../../GridKeyboardNavigationContext/GridKeyboardNavigationContext.js";import{ColorPickerClearButton as I}from"./ColorPickerClearButton.js";import{ColorPickerColorsGrid as S}from"./ColorPickerColorsGrid.js";import{withStaticProps as h}from"../../../../types/withStaticProps.js";import j from"../../../../hooks/useMergeRef.js";var y=h(i((function(i,h){var y=i.className,k=i.onValueChange,E=i.value,R=i.noColorText,b=i.colorStyle,g=void 0===b?a.REGULAR:b,L=i.ColorIndicatorIcon,N=i.SelectedIndicatorIcon,x=i.shouldRenderIndicatorWithoutBackground,B=i.NoColorIcon,M=void 0===B?m:B,O=i.isBlackListMode,P=void 0===O||O,w=i.colorsList,z=i.isMultiselect,T=i.colorSize,G=void 0===T?c.MEDIUM:T,U=i.numberOfColorsInLine,A=void 0===U?p:U,_=i.tooltipContentByColor,K=void 0===_?{}:_,W=i.focusOnMount,D=i.colorShape,H=void 0===D?u.SQUARE:D,Q=i.forceUseRawColorList,V=i.showColorNameTooltip,Y=i.id,q=i["data-testid"],F=l(null),J=j(h,F),X=l(null),Z=l(null),$=n((function(){k(null)}),[k]),oo=s((function(){return Q?w:P?r(d,w):e(d,w)}),[Q,P,w]),ro=n((function(r){if(z){var e=o(E);if(e.includes(r)){var t=e.indexOf(r);t>-1&&e.splice(t,1)}else e.push(r);k(e)}else k([r])}),[z,k,E]),eo=s((function(){return[{topElement:X,bottomElement:Z}]}),[]),to=C(eo,F),io=f(G,A);return t.createElement("div",{className:y,style:{width:io},ref:J,tabIndex:-1},t.createElement(v.Provider,{value:to},t.createElement(S,{ref:X,onColorClicked:ro,colorsToRender:oo,numberOfColorsInLine:A,focusOnMount:W,value:E,colorStyle:g,ColorIndicatorIcon:L,shouldRenderIndicatorWithoutBackground:x,SelectedIndicatorIcon:N,colorSize:G,tooltipContentByColor:K,colorShape:H,showColorNameTooltip:V&&!Q,id:Y,"data-testid":q}),R&&t.createElement(I,{Icon:M,onClick:$,text:R,ref:Z})))})),{COLOR_STYLES:a,sizes:c,colorStyles:a,colorSizes:c,colorShapes:u});export{y as default};
//# sourceMappingURL=ColorPickerContent.js.map
