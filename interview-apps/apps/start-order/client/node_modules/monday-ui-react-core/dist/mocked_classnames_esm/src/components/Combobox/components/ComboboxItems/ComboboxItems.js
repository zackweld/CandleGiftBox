import e,{forwardRef as t,useRef as o,useMemo as i,useCallback as n}from"react";import r from"classnames";import{comboboxItemRenderer as s}from"../../ComboboxHelpers/ComboboxHelpers.js";import a from"../../../VirtualizedList/VirtualizedList.js";import{COMBOBOX_CATEGORY_ITEM as l,COMBOBOX_OPTION_ITEM as m}from"../ComboboxConstants.js";import c from"./ComboboxItems.module.scss.js";var p=t((function(t,p){var d=t.className,u=t.optionClassName,f=t.categories,C=t.options,v=t.optionRenderer,I=t.activeItemIndex,b=t.visualFocusItemIndex,g=t.onOptionClick,y=t.onOptionEnter,x=t.onOptionLeave,h=t.optionLineHeight,O=t.shouldScrollToSelectedItem,L=t.renderOnlyVisibleOptions,N=t.onActiveCategoryChanged,R=t.maxOptionsWithoutScroll,j=t.itemsMap,k=t.stickyCategories,E=t.id,S=o(),H=i((function(){if(R)return{height:h*Math.min(C.length+Object.keys(null!=f?f:{}).length,R+.5)}}),[R,h,C,f]),V=n((function(e,t,o){return s({stickyCategories:k,item:e,style:o,optionEvents:{onOptionClick:g,onOptionEnter:y,onOptionLeave:x},optionRenderData:{className:u,optionLineHeight:h,optionRenderer:v,visualFocusItemIndex:b,scrollRef:L?null:p,activeItemIndex:I,shouldScrollToSelectedItem:O},isVirtualized:L})}),[g,y,x,u,h,v,b,L,p,I,O]),z=n((function(e){var t=e.firstItemId;window.requestAnimationFrame((function(){var e=j.get(t);if(e&&(e.type===l||e.type===m)){var o=e.type===m&&e.categoryId?e.categoryId:e.id;if(o!==S.current){S.current=o;var i=j.get(S.current);N(i)}}}))}),[j,N]);return L?e.createElement(a,{ref:p,className:r(c.optionsContainer,d),items:C,itemRenderer:V,role:"listbox",scrollableClassName:c.scrollableContainer,onItemsRendered:z,style:H,id:E}):e.createElement("div",{className:r(c.scrollableContainer,c.optionsContainer,d),role:"listbox",id:E,style:H,ref:p},C.map((function(e,t){return V(e,t,void 0)})))}));export{p as ComboboxItems};
//# sourceMappingURL=ComboboxItems.js.map
