import{defineProperty as e}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{getTestId as t,ComponentDefaultTestId as i}from"../../tests/testIds.js";import r from"classnames";import o,{forwardRef as s,useRef as l,useMemo as n,useLayoutEffect as a}from"react";import p from"../Tooltip/Tooltip.js";import m from"../../hooks/useIsOverflowing/useIsOverflowing.js";import f from"../../hooks/useMergeRef.js";import g from"./TextWithHighlight.module.scss.js";var c=function(e,t,i){return i?o.createElement(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"em",{className:r(g.highlightText,arguments.length>4?arguments[4]:void 0),key:t},e):o.createElement("span",{key:t},e)},u=s((function(s,u){var d=s.className,h=s.id,v=s.text,T=void 0===v?"":v,E=s.highlightTerm,j=s.limit,x=s.useEllipsis,H=void 0===x||x,w=s.linesToClamp,I=void 0===w?3:w,y=s.ignoreCase,k=void 0===y||y,N=s.allowTermSplit,P=void 0===N||N,W=s.nonEllipsisTooltip,_=s.tooltipPosition,C=s.wrappingTextTag,G=void 0===C?"em":C,O=s.wrappingElementClassName,R=s["data-testid"],$=l(null),b=f(u,$),B=n((function(){if(!T||!E||0===j)return T;var e=E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");P&&(e=e.split(" ").join("|"));for(var t=RegExp("(".concat(e,")"),k?"i":""),i=T.split(t),r=[],o=0,s=0,l=0;i.length>l;l++)if(i[l]){var n=l%2==1;r.push(c(i[l],s++,n&&(!j||0>j||j>o),G,O)),n&&o++}return r}),[T,E,j,k,P,G,O]),L=m({ref:H&&$});a((function(){$.current&&$.current.style.setProperty("--heading-clamp-lines",""+I)}),[$,I,L]);var M=o.createElement("div",{ref:b,className:r(g.textWithHighlightWrapper,d,e({},g.withEllipsis,H)),id:h,"data-testid":R||t(i.TEXT_WITH_HIGHLIGHT,h)},B);return L||W?o.createElement(p,{content:L?T:W,position:_},M):M}));export{u as default};
//# sourceMappingURL=TextWithHighlight.js.map
