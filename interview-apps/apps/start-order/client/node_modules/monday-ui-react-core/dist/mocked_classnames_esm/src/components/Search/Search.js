import{defineProperty as e}from"../../../_virtual/_rollupPluginBabelHelpers.js";import a from"classnames";import o,{forwardRef as r,useRef as n,useCallback as s}from"react";import t from"../../hooks/useMergeRef.js";import l from"../Icon/Icons/components/CloseSmall.js";import i from"../Icon/Icons/components/Search.js";import{getTestId as c,ComponentDefaultTestId as m}from"../../tests/testIds.js";import d from"./Search.module.scss.js";import u from"../BaseInput/BaseInput.js";import p from"../../hooks/useDebounceEvent/index.js";import f from"../IconButton/IconButton.js";import v from"../Icon/Icon.js";import h from"../Loader/Loader.js";var C=r((function(r,C){var I,b,N,E,j,R,S,g,A,L,z=r.searchIconName,B=void 0===z?i:z,x=r.clearIconName,y=void 0===x?l:x,F=r.clearIconLabel,O=void 0===F?"Clear":F,_=r.renderAction,k=r.hideRenderActionOnInput,H=r.value,T=r.placeholder,P=r.size,V=void 0===P?"medium":P,w=r.disabled,D=r.loading,M=r.autoFocus,X=r.autoComplete,U=void 0===X?"off":X,W=r.inputAriaLabel,Y=r.debounceRate,q=void 0===Y?400:Y,G=r.searchResultsContainerId,J=r.currentAriaResultId,K=r.onChange,Q=r.onFocus,Z=r.onBlur,$=r.onClear,ee=r.className,ae=r.ariaExpanded,oe=r.ariaHasPopup,re=r.id,ne=r["data-testid"];return I=n(null),b=t(C,I),N=p({delay:q,onChange:K,initialStateValue:H}),E=N.inputValue,j=N.onEventChanged,S=s((function(){var e,a;w||(null===(a=null===(e=I.current)||void 0===e?void 0:e.focus)||void 0===a||a.call(e),R(),null==$||$())}),[w,R=N.clearValue]),g=o.createElement(v,{icon:B,className:d.icon,clickable:!1,iconType:v.type.ICON_FONT,iconSize:"small"===V?"16px":"20px"}),A=o.createElement(f,{className:a(d.icon,e({},d.empty,!E)),icon:y,ariaLabel:O,onClick:S,size:"small"===V?f.sizes.XS:f.sizes.SMALL,"data-testid":c(m.CLEAN_SEARCH_BUTTON,re)}),L=o.createElement(o.Fragment,null,D&&o.createElement(h,{size:"small"===V?h.sizes.XS:20,color:h.colors.SECONDARY,wrapperClassName:a(e({},d.loader,!E&&!_))}),E&&!w&&A,!(k&&E)&&_),o.createElement(u,{ref:b,id:re,type:"search","data-testid":ne||c(m.SEARCH,re),className:a(d.searchWrapper,ee),inputClassName:d.search,value:E,renderLeft:g,renderRight:L,autoFocus:M,placeholder:T,disabled:w,onChange:j,onBlur:Z,onFocus:Q,autoComplete:U,size:V,wrapperRole:"search",inputRole:G?"combobox":void 0,"aria-label":W,"aria-busy":D,"aria-controls":ae?G:void 0,"aria-activedescendant":J,"aria-haspopup":oe,"aria-expanded":ae})}));export{C as default};
//# sourceMappingURL=Search.js.map
