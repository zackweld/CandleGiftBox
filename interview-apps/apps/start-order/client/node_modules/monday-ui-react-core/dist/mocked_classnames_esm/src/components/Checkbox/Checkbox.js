import e from"classnames";import t,{forwardRef as a,useRef as o,useCallback as r,useEffect as n,useMemo as s}from"react";import{isNil as i,noop as c}from"lodash-es";import l from"../Icon/Icon.js";import m from"../Icon/Icons/components/Check.js";import d from"../Icon/Icons/components/Remove.js";import{backwardCompatibilityForProperties as p}from"../../helpers/backwardCompatibilityForProperties.js";import{useSupportFirefoxLabelClick as u}from"./hooks/useSupportFirefoxLabelClick.js";import f from"../../hooks/useMergeRef.js";import{getTestId as C}from"../../tests/testIds.js";import{ComponentDefaultTestId as b}from"../../tests/constants.js";import h from"../Text/Text.js";import k from"./Checkbox.module.scss.js";var v=a((function(a,v){var E=a.className,j=a.componentClassName,x=a.checkboxClassName,y=a.labelClassName,I=a.ariaLabel,N=a.label,F=a.ariaLabelledBy,w=a.onChange,B=void 0===w?c:w,g=a.checked,H=a.autoFocus,L=a.indeterminate,T=void 0!==L&&L,X=a.disabled,K=void 0!==X&&X,O=a.defaultChecked,S=a.tabIndex,A=a.value,R=void 0===A?"":A,q=a.name,M=void 0===q?"":q,_=a.id,z=a["data-testid"],G=o(null),P=f(v,G),U=o(null),V=p([E,j]),D=r((function(){var e=G.current;e&&window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){e.blur()}))}))}),[G]),J=O;i(J)&&i(g)&&(J=!1),n((function(){G.current&&(G.current.indeterminate=T)}),[G,T]);var Q=u({inputRef:G}).onClickCapture,W=s((function(){return I||("string"==typeof N?N:"")}),[I,N]);return t.createElement("label",{className:e(k.wrapper,V),onMouseUp:D,"data-testid":z||C(b.CHECKBOX,_),htmlFor:_,onClickCapture:Q},t.createElement("input",{ref:P,id:_,className:k.input,value:R,name:M,type:"checkbox",autoFocus:H,onChange:B,defaultChecked:J,disabled:K,"aria-label":W,"aria-labelledby":F,checked:g,tabIndex:S}),t.createElement("div",{className:e(k.checkbox,x),ref:U,"data-testid":C(b.CHECKBOX_CHECKBOX,_)},t.createElement(l,{className:k.icon,iconType:l.type.SVG,icon:T?d:m,ignoreFocusStyle:!0,clickable:!1,ariaHidden:!0,iconSize:"16"})),!1===N?null:t.createElement(h,{element:"span",type:h.types.TEXT2,className:e(k.label,y),"data-testid":C(b.CHECKBOX_LABEL,_)},N))}));export{v as default};
//# sourceMappingURL=Checkbox.js.map
