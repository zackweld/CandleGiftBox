{"version":3,"file":"AvatarGroupCounterTooltipContent.js","sources":["../../../../../src/components/AvatarGroup/AvatarGroupCounterTooltipContent.tsx"],"sourcesContent":["import React, { ReactElement, Ref, useCallback, useMemo } from \"react\";\nimport cx from \"classnames\";\nimport Flex from \"../Flex/Flex\";\nimport { AvatarProps } from \"../Avatar/Avatar\";\nimport AvatarGroupCounterTooltipContentVirtualizedList from \"./AvatarGroupCounterTooltipContentVirtualizedList\";\nimport { avatarRenderer } from \"./AvatarGroupCounterTooltipHelper\";\nimport VibeComponentProps from \"../../types/VibeComponentProps\";\nimport { AvatarType } from \"../Avatar/AvatarConstants\";\nimport styles from \"./AvatarGroupCounterTooltipContent.module.scss\";\n\nexport interface AvatarGroupCounterTooltipContentProps extends VibeComponentProps {\n  className?: string;\n  type?: AvatarType;\n  /**\n   * Array of Avatar components\n   */\n  avatars?: ReactElement<AvatarProps>[];\n  isVirtualizedList?: boolean;\n  tooltipContentContainerRef?: Ref<HTMLDivElement>;\n}\n\nconst AvatarGroupCounterTooltipContent: React.FC<AvatarGroupCounterTooltipContentProps> = ({\n  avatars = [],\n  type,\n  className,\n  isVirtualizedList = false,\n  tooltipContentContainerRef\n}) => {\n  const getTooltipContent = useCallback((avatarProps: AvatarProps) => {\n    return avatarProps?.tooltipProps?.content || avatarProps?.ariaLabel;\n  }, []);\n\n  const { avatarItems, displayAsGrid, tooltipContainerAriaLabel } = useMemo(() => {\n    const avatarItems = avatars.map(avatar => ({\n      value: { ...avatar.props, tooltipContent: getTooltipContent(avatar.props) }\n    }));\n    const displayAsGrid = !avatarItems.some(item => item.value.tooltipContent);\n    const tooltipContainerAriaLabel = !displayAsGrid\n      ? avatarItems.map(item => item.value.tooltipContent).join(\",\")\n      : undefined;\n    return { avatarItems, displayAsGrid, tooltipContainerAriaLabel };\n  }, [avatars, getTooltipContent]);\n\n  const renderedItems = useMemo(\n    () => avatarItems.map((item, index) => avatarRenderer(item, index, undefined, type, displayAsGrid)),\n    [avatarItems, displayAsGrid, type]\n  );\n\n  if (isVirtualizedList) {\n    return (\n      <AvatarGroupCounterTooltipContentVirtualizedList\n        avatarRenderer={avatarRenderer}\n        tooltipContentContainerRef={tooltipContentContainerRef}\n        tooltipContainerAriaLabel={tooltipContainerAriaLabel}\n        avatarItems={avatarItems}\n        type={type}\n      />\n    );\n  }\n\n  const flexProps = {\n    ref: tooltipContentContainerRef,\n    tabIndex: -1,\n    role: \"treegrid\",\n    ariaLabel: tooltipContainerAriaLabel,\n    className: displayAsGrid\n      ? cx(styles.scrollableContainer, styles.tooltipContainer, styles.tooltipGridContainer, className)\n      : cx(styles.scrollableContainer, styles.tooltipContainer, className),\n    direction: displayAsGrid ? Flex.directions.ROW : Flex.directions.COLUMN,\n    gap: displayAsGrid ? Flex.gaps.XS : Flex.gaps.SMALL,\n    wrap: displayAsGrid\n  };\n\n  return <Flex {...flexProps}>{renderedItems}</Flex>;\n};\n\nexport default AvatarGroupCounterTooltipContent;\n"],"names":["AvatarGroupCounterTooltipContent","_ref","_ref$avatars","avatars","type","className","_ref$isVirtualizedLis","isVirtualizedList","tooltipContentContainerRef","getTooltipContent","useCallback","avatarProps","tooltipProps","_a","content","ariaLabel","_useMemo","useMemo","avatarItems","map","avatar","value","Object","assign","props","tooltipContent","displayAsGrid","some","item","tooltipContainerAriaLabel","undefined","join","renderedItems","index","avatarRenderer","React","createElement","AvatarGroupCounterTooltipContentVirtualizedList","flexProps","ref","tabIndex","role","cx","styles","scrollableContainer","tooltipContainer","tooltipGridContainer","direction","Flex","directions","ROW","COLUMN","gap","gaps","XS","SMALL","wrap"],"mappings":"wTAqBA,IAAMA,EAAoF,SAApDC,GAMjC,IAAAC,EAAAD,EALHE,QAAAA,OAAU,IAAHD,EAAG,GAAEA,EACZE,EAAIH,EAAJG,KACAC,EAASJ,EAATI,UAASC,EAAAL,EACTM,kBAAAA,OAAoB,IAAHD,GAAQA,EACzBE,EAA0BP,EAA1BO,2BAEMC,EAAoBC,GAAY,SAACC,SACrC,OAAgC,UAAzBA,aAAA,EAAAA,EAAaC,oBAAY,IAAAC,OAAA,EAAAA,EAAEC,WAAWH,aAAW,EAAXA,EAAaI,UAC3D,GAAE,IAEHC,EAAkEC,GAAQ,WACxE,IAAMC,EAAcf,EAAQgB,KAAI,SAAAC,GAAM,MAAK,CACzCC,MAAYC,OAAAC,OAAAD,OAAAC,OAAA,GAAAH,EAAOI,OAAO,CAAAC,eAAgBhB,EAAkBW,EAAOI,SACpE,IACKE,GAAiBR,EAAYS,MAAK,SAAAC,GAAI,OAAIA,EAAKP,MAAMI,kBACrDI,EAA6BH,OAE/BI,EADAZ,EAAYC,KAAI,SAAAS,GAAI,OAAIA,EAAKP,MAAMI,cAAc,IAAEM,KAAK,KAE5D,MAAO,CAAEb,YAAAA,EAAaQ,cAAAA,EAAeG,0BAAAA,EACvC,GAAG,CAAC1B,EAASM,IATLS,EAAWF,EAAXE,YAAaQ,EAAaV,EAAbU,cAAeG,EAAyBb,EAAzBa,0BAW9BG,EAAgBf,GACpB,WAAA,OAAMC,EAAYC,KAAI,SAACS,EAAMK,GAAK,OAAKC,EAAeN,EAAMK,OAAOH,EAAW1B,EAAMsB,KAAe,GACnG,CAACR,EAAaQ,EAAetB,IAG/B,GAAIG,EACF,OACE4B,EAACC,cAAAC,EACC,CAAAH,eAAgBA,EAChB1B,2BAA4BA,EAC5BqB,0BAA2BA,EAC3BX,YAAaA,EACbd,KAAMA,IAKZ,IAAMkC,EAAY,CAChBC,IAAK/B,EACLgC,UAAW,EACXC,KAAM,WACN1B,UAAWc,EACXxB,UAAWqB,EACPgB,EAAGC,EAAOC,oBAAqBD,EAAOE,iBAAkBF,EAAOG,qBAAsBzC,GACrFqC,EAAGC,EAAOC,oBAAqBD,EAAOE,iBAAkBxC,GAC5D0C,UAAWrB,EAAgBsB,EAAKC,WAAWC,IAAMF,EAAKC,WAAWE,OACjEC,IAAK1B,EAAgBsB,EAAKK,KAAKC,GAAKN,EAAKK,KAAKE,MAC9CC,KAAM9B,GAGR,OAAOS,gBAACa,EAAI1B,OAAAC,OAAA,GAAKe,GAAYN,EAC/B"}