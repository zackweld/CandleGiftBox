import{defineProperty as e}from"../../../_virtual/_rollupPluginBabelHelpers.js";import o,{useRef as t,useCallback as r}from"react";import n from"classnames";import a from"../Avatar/Avatar.js";import i from"../Counter/Counter.js";import l from"../MenuButton/MenuButton.js";import s from"../Menu/Menu/Menu.js";import u from"../Menu/MenuItem/AvatarMenuItem.js";import m from"./AvatarGroupCounterTooltipContainer.js";import{getStyle as c}from"../../helpers/typesciptCssModulesHelper.js";import{avatarOnClick as p}from"./AvatarGroupHelper.js";import d from"./AvatarGroupCounter.module.scss.js";import{AVATAR_GROUP_COUNTER_AVATAR_SIZE as v}from"./AvatarGroupConstants.js";var f=function(f){var b=f.counterTooltipAvatars,C=void 0===b?[]:b,I=f.counterTooltipCustomProps,M=f.counterTooltipIsVirtualizedList,j=void 0!==M&&M,x=f.size,A=void 0===x?a.sizes.MEDIUM:x,E=f.type,P=f.counterAriaLabel,L=f.disabled,z=f.counterProps||{},T=z.color,g=void 0===T?i.colors.LIGHT:T,N=z.count,h=void 0===N?C.length:N,y=z.prefix,G=void 0===y?"+":y,D=z.maxDigits,H=void 0===D?3:D,k=z.ariaLabelItemsName,B=void 0===k?"items":k,O=z.noAnimation,R=c(d,null==A?void 0:""+A),U=d[g],V=t(null),_=t(null),S=t(null),q=r((function(){return o.createElement(i,{color:g,count:h,prefix:G,maxDigits:H,ariaLabel:P||"Tab for more ".concat(B),noAnimation:O,counterClassName:n(e({},d.disabled,L))})}),[P,B,g,H,G,h,L,O]);return C.length||h?L?o.createElement("div",{ref:S,className:n(d.counterContainer,d.disabled,R,U)},q()):C.some((function(e){var o;return null===(o=e.props)||void 0===o?void 0:o.onClick}))?o.createElement(l,{component:q,zIndex:1,className:n(d.counterContainer,R,U),ariaLabel:P||"".concat(h," additional ").concat(B)},o.createElement(s,{id:"menu",size:s.sizes.MEDIUM,className:d.menu,focusItemIndexOnMount:0},C.map((function(e,t){var r,n,a,i;return o.createElement(u,{menuItemProps:{key:(null===(r=e.props)||void 0===r?void 0:r.id)||t+"",title:(null===(a=null===(n=e.props)||void 0===n?void 0:n.tooltipProps)||void 0===a?void 0:a.content)||(null===(i=null==e?void 0:e.props)||void 0===i?void 0:i.ariaLabel),onClick:function(o){return p(o,e.props)}},avatarProps:Object.assign(Object.assign({},e.props),{customSize:v,ariaLabel:"",tabIndex:-1})})})))):o.createElement(m,{focusPrevPlaceholderRef:V,focusNextPlaceholderRef:_,counterContainerRef:S,avatars:C,counterTooltipCustomProps:I,counterTooltipIsVirtualizedList:j,type:E},o.createElement("div",{tabIndex:-1,ref:V}),o.createElement("div",{tabIndex:0,className:n(d.counterContainer,R,U),ref:S},q(),o.createElement("div",{tabIndex:-1,ref:_}))):null};export{f as default};
//# sourceMappingURL=AvatarGroupCounter.js.map
