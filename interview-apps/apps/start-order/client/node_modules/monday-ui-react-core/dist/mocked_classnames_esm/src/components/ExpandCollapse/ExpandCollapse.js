import{slicedToArray as e,defineProperty as o}from"../../../_virtual/_rollupPluginBabelHelpers.js";import t from"classnames";import n,{forwardRef as a,useRef as r,useState as i,useCallback as s}from"react";import c from"../../hooks/useMergeRef.js";import l from"../Icon/Icon.js";import d from"../LegacyHeading/LegacyHeading.js";import m from"../Icon/Icons/components/DropdownChevronDown.js";import{getTestId as p,ComponentDefaultTestId as u}from"../../tests/testIds.js";import f from"./ExpandCollapse.module.scss.js";var v=a((function(a,v){var C=a.children,h=a.headerComponentRenderer,y=void 0===h?null:h,N=a.title,g=void 0===N?"":N,E=a.className,j=a.defaultOpenState,I=void 0!==j&&j,k=a.iconSize,B=void 0===k?24:k,x=a.id,O=void 0===x?"":x,S=a.open,b=a.onClick,L=void 0===b?null:b,P=a.hideBorder,w=void 0!==P&&P,A=a.headerClassName,D=a.contentClassName,H=a.componentClassName,_=a["data-testid"],z=a.captureOnClick,R=void 0===z||z,T=r(null),G=c(v,T),M=i(I),V=e(M,2),X=V[0],q=V[1],F=void 0===S?X:S,J=function(){q(!X)},K=s((function(){return"string"==typeof g?n.createElement(d,{type:d.types.h5,value:g,className:t(f.headerContent)}):g}),[g]);return n.createElement("div",{ref:G,className:E,id:O,"data-testid":_||p(u.EXPAND_COLLAPSE,O)},n.createElement("div",{className:t(f.expandCollapse,o(o({},f.hideBorder,w),f.showBorder,!w),H)},n.createElement("button",{type:"button",className:t(f.header,f.section,A,o(o({},f.headerOpen,F),f.hideBorderBottom,w)),onClickCapture:R?L||J:void 0,onClick:R?void 0:L||J,"aria-expanded":F,"aria-controls":"".concat(O,"-controls")},"string"!=typeof g||0!==g.length?K():y&&y(),n.createElement(l,{className:t(f.iconComponent,o(o({},f.animateIconOpen,F),f.animateIconClose,!F)),iconType:l.type.SVG,icon:m,iconSize:B,clickable:!1})),F&&n.createElement("div",{className:t(f.content,f.section,D,o({},f.animateExpandCollapseContent,F)),id:"".concat(O,"-controls"),role:"region"},C)))}));export{v as default};
//# sourceMappingURL=ExpandCollapse.js.map
