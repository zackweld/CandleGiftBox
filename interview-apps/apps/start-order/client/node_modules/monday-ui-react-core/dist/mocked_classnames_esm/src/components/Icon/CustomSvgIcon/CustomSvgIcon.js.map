{"version":3,"file":"CustomSvgIcon.js","sources":["../../../../../../src/components/Icon/CustomSvgIcon/CustomSvgIcon.tsx"],"sourcesContent":["import React, { FunctionComponent, useCallback, AriaRole, Ref } from \"react\";\nimport SVG from \"react-inlinesvg\";\nimport useIconScreenReaderAccessProps from \"../../../hooks/useIconScreenReaderAccessProps\";\nimport VibeComponentProps from \"../../../types/VibeComponentProps\";\nimport { ComponentDefaultTestId } from \"../../../tests/constants\";\nimport { getTestId } from \"../../../tests/test-ids-utils\";\n\nfunction modifySvgCode(svg: string, color = \"currentColor\") {\n  return svg.replace(/fill=\".*?\"/g, `fill=\"${color}\"`);\n}\n\nexport interface CustomSvgIconProps extends VibeComponentProps {\n  onClick?: (event: React.MouseEvent) => void;\n  src: string | object;\n  ariaLabel?: string;\n  tabIndex?: number;\n  role?: AriaRole;\n  ariaHidden?: boolean;\n  clickable?: boolean;\n  replaceToCurrentColor?: boolean;\n  customColor?: string;\n  ref?: Ref<SVGElement>;\n}\n\nconst CustomSvgIcon: FunctionComponent<CustomSvgIconProps> = ({\n  className,\n  ref,\n  src,\n  onClick,\n  clickable,\n  ariaLabel,\n  ariaHidden,\n  replaceToCurrentColor = false,\n  customColor,\n  id,\n  \"data-testid\": dataTestId\n}) => {\n  const screenReaderAccessProps = useIconScreenReaderAccessProps({\n    isClickable: clickable,\n    label: ariaLabel,\n    isDecorationOnly: ariaHidden\n  });\n\n  const svgProcessor = useCallback(\n    (svg: string) => {\n      if (replaceToCurrentColor) return modifySvgCode(svg, \"currentColor\");\n      if (customColor) return modifySvgCode(svg, customColor);\n      return svg;\n    },\n    [replaceToCurrentColor, customColor]\n  );\n\n  if (typeof src !== \"string\") return null;\n\n  return (\n    <SVG\n      innerRef={ref}\n      {...screenReaderAccessProps}\n      onClick={onClick}\n      src={src}\n      className={className}\n      preProcessor={svgProcessor}\n      id={id}\n      data-testid={dataTestId || getTestId(ComponentDefaultTestId.SVG_ICON, id)}\n    />\n  );\n};\n\nexport default CustomSvgIcon;\n"],"names":["modifySvgCode","svg","replace","concat","arguments","length","undefined","CustomSvgIcon","_ref","className","ref","src","onClick","_ref$replaceToCurrent","replaceToCurrentColor","customColor","id","dataTestId","screenReaderAccessProps","useIconScreenReaderAccessProps","isClickable","clickable","label","ariaLabel","isDecorationOnly","ariaHidden","svgProcessor","useCallback","React","createElement","SVG","innerRef","preProcessor","getTestId","ComponentDefaultTestId","SVG_ICON"],"mappings":"iQAOA,SAASA,EAAcC,GACrB,OAAOA,EAAIC,QAAQ,uBAAaC,OADOC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,eACM,KAClD,CAeA,IAAMG,EAAuD,SAA1CC,GAYd,IAXHC,EAASD,EAATC,UACAC,EAAGF,EAAHE,IACAC,EAAGH,EAAHG,IACAC,EAAOJ,EAAPI,QAGUC,EAAAL,EACVM,sBAAAA,OAAwB,IAAHD,GAAQA,EAC7BE,EAAWP,EAAXO,YACAC,EAAER,EAAFQ,GACeC,EAAUT,EAAzB,eAEMU,EAA0BC,EAA+B,CAC7DC,YATOZ,EAATa,UAUEC,MATOd,EAATe,UAUEC,iBATQhB,EAAViB,aAYMC,EAAeC,GACnB,SAAC1B,GACC,OAAIa,EAA8Bd,EAAcC,EAAK,gBACjDc,EAAoBf,EAAcC,EAAKc,GACpCd,CACT,GACA,CAACa,EAAuBC,IAG1B,MAAmB,iBAARJ,EAAyB,KAGlCiB,EAACC,cAAAC,iBACCC,SAAUrB,GACNQ,GACJN,QAASA,EACTD,IAAKA,EACLF,UAAWA,EACXuB,aAAcN,EACdV,GAAIA,gBACSC,GAAcgB,EAAUC,EAAuBC,SAAUnB,KAG5E"}